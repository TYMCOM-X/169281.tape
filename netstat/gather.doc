



                          GATHER DOCUMENTATION
                             OCTOBER 1984



     THE GATHER PROGRAM IS A COLLECTION PROGRAM.  IT "GATHERS" (OR
     COLLECTS) SESSION DATA FROM THE DAILY NETWORK STATISTICS FILES
     LOCATED IN THE NETSTAT DIRECTORY ON SYSTEM 28.  THE SESSION DATA IS
     PLACED INTO A SYMBOLIC OUTPUT FILE.

    IN ORDER TO RUN THE GATHER PROGRAM THE USER MUST SUPPLY THE
    FOLLOWING INFORMATION.

    A. COMMAND - THERE ARE TWO COMMANDS: RUN AND APPEND. THE RUN COMMAND
       PLACES THE GATHERED SESSIONS INTO A NEW OUTPUT FILE.  THE APPEND
       COMMAND APPENDS THE GATHERED SESSIONS TO AN ALREADY EXISTING
       OUTPUT FILE.

    B. DATE RANGE.  THE USER IS PROMPTED FOR THE START DATE AND END
       DATE.  THESE DATES DEFINE THE DATE RANGE OVER WHICH THE NETWORK
       SESSIONS ARE TO BE COLLECTED.  THE DATE RANGE MUST BEGIN AND END
       WITHIN THE SAME MONTH.  BY MAKING THE END DATE EQUAL TO THE START
       DATE ONE DAY'S SESSIONS CAN BE PROCESSED.

    C. OUTPUT FILE NAME.  THE USER IS PROMPTED FOR A FILE NAME FOR THE
       SYMBOLIC FILE THAT WILL CONTAIN ALL OF THE SESSION DATA
       COLLECTED.

    D. TYPE OF SESSIONS TO GATHER.  THE USER IS PROMPTED FOR WHETHER HE
       WANTS ALL SESSIONS GATHERED OR JUST THE BILLABLE ONES.  A REPLY
       OF 'A' TO THIS PROMPT CAUSES ALL SESSIONS TO BE GATHERED.  A
       REPLY OF 'B' CAUSES ONLY THE BILLABLE SESSIONS TO BE GATHERED.

    E. STRIP PROJECT CODE OPTION.  THE USER IS ASKED WHETHER OR NOT HE
       WANTS THE PROJECT CODE STRIPPED FROM THE USER NAME FIELD.  AN
       ANSWER OF 'Y' TO THIS PROMPT CAUSES THE REMOVAL FROM THE USER
       NAME FIELD ALL CHARACTERS AFTER (AND INCLUDING) THE SEMICOLON.
       AN ANSWER OF 'N' TO THIS PROMPT LEAVES THE USERNAME FIELD
       UNCHANGED.

    F. SELECTION OPTION.  THE USER IS ASKED TO ENTER THE NUMBER OF THE
       OPTION THAT DESCRIBES HOW THE SESSIONS ARE TO BE SELECTED FROM
       THE NETWORK STATISTICS FILES.  THE OPTIONS ARE:

       1.  SELECT BY ORIGINATING NODE NUMBER

       2.  SELECT BY TERMINATING HOST NUMBER

       3.  SELECT BY ORIGINATING HOST NUMBER (TYMNET-2 NODES ONLY)

       4.  SELECT BY ORIGINATING PORT NUMBER ON THE
           ORIGINATING NODE

       5.  SELECT BY ORIGINATING PHYSICAL PORT NUMBER
           ON THE ORIGINATING HOST (TYMNET-2 NODES ONLY)
                                                              Page  2   



       6.  SELECT BY TERMINAL ID.  TERMIDS ARE CHANGED FROM LETTERS TO
           NUMBERS IN THE DAILIES.  THERE IS NO ONE-TO-ONE CORRESPONDENCE
           BETWEEN LETTERS USED AS TERMIDS AND NUMBERS.  THE FORMULA IS
           TOO COMPLEX TO PUT HERE.  FOR MORE INFORMATION, REFER TO
           (ISISDOC:33)CIRCUIT.DOC.  PAGE 11 WILL GIVE YOU THE NECESSARY
           INFORMATION FOR YOUR PURPOSES.

       7.  SELECT BY DISCONNECT TYPE

       8.  SELECT BY ERROR TYPE  NOTE: ERROR TYPE 1 INDICATES A NON-
           BILLABLE SESSION.  IF YOU PLAN TO GATHER ON THIS ERROR TYPE,
           SPECIFY ALL SESSIONS, NOT BILLABLE ONLY.

       9.  SELECT BY UUN.  THERE IS A ONE-TO-ONE CORRESPONDENCE BETWEEN
           UUN AND USERNAME.

    G. SELECTION LIST.  THIS LIST CONTAINS THE ACTUAL NODE, HOST, AND
       PORT NUMBERS FOR WHICH THE USER WANTS SESSION DATA COLLECTED.
       THE LIST MAY BE INPUT FROM THE TERMINAL OR FROM AN INPUT FILE.  A
       MAXIMUM OF 10 ENTRIES ARE ALLOWED IN THE LIST IF THE LIST IS
       INPUT FROM THE TERMINAL.  A MAXIMUM OF 150 ENTRIES ARE ALLOWED IN
       THE LIST IF THE LIST IS INPUT FROM A FILE.

       THE FORMATS OF THE ENTRIES IN THE SELECTION LIST DIFFER DEPENDING
       ON THE SELECTION OPTION THE USER HAS SPECIFIED.  THESE DIFFERENT
       FORMATS ARE DEFINED BELOW.

           A.  OPTION 1, 2, 3, 6, 7, 8, OR 9 - SELECTION BY ORIGINATING NODE,
               TERMINATING HOST, ORIGINATING HOST, TERMID, DISCONNECT TYPE,
               ERROR TYPE, OR UUN - EACH ENTRY IN THE SELECTION LIST CONTAINS
               ONLY THE NODE OR HOST NUMBER, OR A TERMID, A DISCONNECT TYPE,
               AN ERROR TYPE, OR AN UUN.

               EXAMPLE.  FOR OPTION = 1

               1000
               1412
               1010

           B.  OPTION 4 OR 5 - SELECTION BY ORIGINATING PORT ON
               ORIGINATING NODE OR BY ORIGINATING PHYSICHAL PORT ON
               ORIGINATING HOST -  EACH ENTRY IN THE SELECTION LIST MUST
               CONTAIN THE FOLLOWING ELEMENTS:


               1.  THE NODE NUMBER FOLLOWED BY A COMMA

               2.  A LIST OF PORTS OR PORT RANGES ON THE NODE.  A PORT
                   RANGE IS DEFINED BY TWO PORTS SEPARATED BY A DASH.
                   FOR EXAMPLE, TO SPECIFY THE PORTS 25,26,27,30,31,32
                   THE USER COULD JUST ENTER THE PORT RANGE: 25-32.
                   EACH PORT OR PORT RANGE IS SEPARTED FROM THE NEXT BY
                   A COMMA. ALL PORTS ARE OCTAL.




                                                              Page  3   


                   A MAXIMUM OF 64 PORTS ARE ALLOWED IN EACH ENTRY.
                   THIS MEANS IF MORE THAN 64 PORTS ON A NODE ARE TO BE
                   SELECTED, THEN MORE THAN ONE ENTRY FOR THAT NODE WILL
                   NEED TO BE INCLUDED IN THE SELECTION LIST.

                   FOR EXAMPLE, CONSIDER THE THREE ENTRIES BELOW

                   305,0-3,5-7,10,15-17
                   1000,0-77
                   1000,100-110

                   ALL SESSIONS ORIGINATING ON PORTS:
                   0,1,2,3,5,6,7,10,15,16,17 ON NODE 305 WILL BE
                   SELECTED.

                   THE USER WANTS ALL SESSIONS ORIGINATING ON PORTS
                   0-110 ON NODE 1000 TO BE SELECTED.  HOWEVER, SINCE
                   ONLY 64 PORT NUMBERS CAN BE SPECIFIED PER ENTRY,
                   PORTS 0-77 ARE SPECIFIED IN ONE ENTRY AND THE
                   REMAINING PORTS ARE SPECIFIED IN A SEPARATE ENTRY.
                   REMEMBER THAT THE PORT NUMBERS IN THE DAILY NETWORK
                   STATISTIC FILES ARE OCTAL NUMBERS, THEREFORE, OCTAL
                   NUMBERS MUST BE USED TO SPECIFY THE PORT NUMBERS IN
                   THE SELECTION LIST.
                                                              Page  4   


           *************************************************
           *                                               *
           *       NOTICE:  FILE (NETSTAT)YYMMDD.DMD       *
           *       MAY BE USED TO LOAD THE OUTPUT FILE     *
           *       FROM THE GATHER PROGRAM INTO 1022.      *
           *       HOWEVER, PLEASE MAKE A COPY OF          *
           *       YYMMDD.DMD IN YOUR OWN DIRECTORY.       *
           *       NEVER UPDATE THIS DESCRIPTOR FILE       *
           *       IN THE NETSTAT DIRECTORY!               *
           *                                               *
           *************************************************
                                                              Page  5   



        DESCRIPTION OF GATHER OUTPUT FILE
        ----------- -- ------ ------ ----


FIELD           DESCRIPTION                     FORMAT
-----           -----------                     ------

SESSNO         SESSION NUMBER                   I7

ORIGNODE       ORIGINATING NODE NUMBER          I4

ORIGPORT       PORT NUMBER ON ORIGINATING       I3
               NODE

TERMID         TERMINAL IDENTIFIER              I2

TERMNODE       TERMINATING NODE NUMBER          I3

TERMPORT       PORT NUMBER ON TERMINATING       I3
               NODE

TERMHOST       TERMINATING HOST NUMBER          I3

HOSTPORT       PORT NUMBER ON TERMINATING       I3
               HOST

STARTDATE      STARTING DATE (YYMMDD)           I6

STARTTIME      STARTING TIME (HHMM)             I4

INPUTCHAR      TOTAL INPUT CHARACTERS           I7

OUTPUTCHAR     TOTAL OUTPUT CHARACTERS          I7

TOTALCHARS     INPUTCHAR + OUTPUTCHAR           I8

ENDDATE        ENDING DATE (YYMMDD)             I6

ENDTIME        ENDING TIME (HHMM)               I4

TOTMIN         TOTAL CONNECT MINUTES            I5

DISCTYPE       DISCONNECT TYPE                  I2

IRC            INTERNATIONAL RECORD CARRIER     I2
               CODE

UUN            UNIVERSAL USER NUMBER            I6

USRNAM         USERNAME AND PROJECT CODE        A25

ORIGHOST       ORIGINATING HOST NUMBER          I5   I

ORIGPHYPORT    PHYSICAL PORT NUMBER ON          I3   I
               ORIGINATING NODE
                                                              Page  6   



HIGHDTE        HIGH ORDER BITS OF DATA          I8   N
               TERMINAL EQUIPMENT ADDRESS

LOWDTE         LOW ORDER BITS OF DATA           I8   N
               TERMINAL EQUIPMENT ADDRESS

PAYFLAG        PAY FLAG: 0=PAID; 1=COLLECT      I1   N

ACCFLAG        ACCESS FLAG: 0=ORIGINATES FROM   I1   N
                              HOST
                            1=ORIGINATES FROM
                              TERMINAL

DNIC           DATA NETWORK INTERCHANGE CODE    I4   N

ERRTYP         ERROR TYPE:  1 = NON-BILLABLE    I1    
                    ALL OTHERS = BILLABLE




        I = FIELD APPLYS ONLY TO A SESSION ORIGINATING IN AN ISIS NODE.

        N = FIELD APPLYS ONLY TO A SESSION ORIGINATING IN A NETWORK
            INTERFACING WITH TYMNET.
                                                              Page  7   



                          SAMPLE RUN OF GATHER
                          ------ --- -- ------


- GO (NETSTAT)GATHER

VERSION 7.0

: RUN


ENTER START DATE AS YYMMDD: 821209

ENTER END DATE AS YYMMDD: 821209

DATE RANGE IS AVAILABLE

OUTPUT TO: TST.OUT

NEW FILE: OK?(Y OR N): Y

SELECT WHICH SESSIONS? ALL OR BILLABLE? (A OR B): A

STRIP PROJECT CODE FROM USERNAME? (Y OR N): N

ENTER OPTION NUMBER TO SELECT BY:
    1 = ORIGNODE
    2 = TERMHOST
    3 = ORIGHOST
    4 = ORIGNODE-ORIGPORT (NON-ISIS NODES)
    5 = ORIGHOST-ORIGPHYPORT (ISIS NODES ONLY)
    6 = TERMINAL IDENTIFIER
    7 = DISCONNECT TYPE
    8 = ERROR TYPE
    9 = UUN

OPTION? 4

INPUT FILE:                             (A C.R. WAS TYPED TO
                                        INDICATE INPUT WOULD BE
                                        FROM THE TERMINAL INSTEAD
                                        OF A FILE)

INPUT ORIGNODE-ORIGPORT PAIRS: NODE,PORT(OR PORT-PORT)
? 1001,72

? 1305,1-3,11-31,51-53

?                                       (A .C.R. WAS TYPED TO
                                        INDICATE NO FURTHER ENTRIES
                                        TO BE ENTERED.)

PROCESSING 821209          SESSIONS PROCESSED=       125

TOTAL SESSIONS PROCESSED=        125

EXIT

-
  