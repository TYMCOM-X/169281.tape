!SYSNO
TYMSHARE F33-P035/E01-1 1-25-91
!DAYTIME
25-JUN-1992 17:22:11 PDT

!; This CTL file rebuilds the BND file for an EBUS gateway.
!; The following files must exist:
!DIRECT (EBUS)EBUS02.O02

EBUS02  O02       9   9-MAY-88 1336    ALL RD  NO      4096          

!DIRECT ND6720.TYM,ND6720.T01,ND6720.CMD,ND6720.C00,ND6720.C01,ND6720.T03,ND6720.C03

ND6720  C00       2  25-JUN-92 1635    ALL RD  NO        47          
ND6720  TYM       3  27-APR-92 1634    ALL RD  NO       748          
ND6720  C01       2  27-MAR-92 2232    ALL RD  NO        36          
ND6720  CMD       2  27-MAR-92 2231    ALL RD  NO        45          
ND6720  T01       2  27-MAR-92 2231    ALL RD  NO        53          
ND6720  C03       2  27-MAR-92 1807    ALL RD  NO        44          
ND6720  T03       2  27-MAR-92 1807    ALL RD  NO       310          

!DIRECT (TYMNET)GGISIS.LTD,GGXRAY.LTD

GGXRAY  LTD       2  10-JUL-91 1611    ALL RD  NO        18          
GGISIS  LTD       2  10-JUL-91 1608    ALL RD  NO        37          

!
!; Create the ISIS Kernel from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6720.CMD

;; ISIS-II Version 7.03 for host 38 (and its gateway)
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND6720.TYM

End of assembly
;@   (TYMNET)GGISIS.LTD

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC 1BDA 2446
CLOCKS 2446 2586
MBOARD 2586 26EC
IPI 26EC 294A
FLASH 294A 2DEE
KCAREA 2DEE 2FF4
TTY 2FF4 3300
KERNEL 3300 80B0
DDT 80B0 0B000
   3363d bufferlets allocated to dispatcher
DISPAT 0B000 16C00
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 6720, Kernel Host 4481
Maximum slot number is 3

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 SIO mother-board processor(s)
   Board 0 has 2 channel(s), device address 80
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 350 K-bytes of core, from 16C00 to 6E3FF
   3 logical unit(s)
   L.U. 0 is sync line 0
   L.U. 1 is M.Board channel 0
   L.U. 2 is M.Board channel 1

SLOT 1 has 266 K-bytes of core, from 6E400 to 0B0BFF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 100 K-bytes of core, from 0B0C00 to 0C9BFF
   no logical units

SLOT 3 has 160 K-bytes of core, from 0C9C00 to 0F1BFF
   1 logical unit(s)
   L.U. 0 is sync line 1

***Highest location used in this configuration is 0F1C00

Requires 971d k-bytes of core


.............................................


Code Generated:  06/26/92  00:23:31 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

ISIS 10.01 PATCH 18
Fixes problems with breakpoints that has
existed from time immemorial.


ISIS-II version 7.03 patch number 19
This patch is to fix wrong link req. when calling
DEMPTY which led to a system crash eventually.

End of assembly


1;F   ND6720.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!
!; Create the node code for slot 0 from NDxxxx.TYM
!R (SYS)NAD
1.5
;X   ND6720.C00

;; Node Code 5.35 for host 38 (and its gateway)
;A   (NTS)TII05.I35

End of assembly
;A   (TYMNET)ND6720.TYM

End of assembly
;A   (TYMNET)GGXRAY.LTD

End of assembly
;A   (NTS)TII05.R35

This is special test code.  Unauthorized use is strictly prohibited
and very unwise.  The code is to be used only where authorized by
NTS/STS.                                    sdw    03/02/90



WARNING -- Node cannot downline load neighbor unless an Xray
    goodguy entry is targeted to T.DLOAD.

       NETID is 1d.  This is a TYMNET network node.




TYMNET-II Node Code, Version 5.35, ISIS Node

Node: 6720  Kernel Host: 4481

Ports:		Lines:		Links:
   128d Pthru	     1d Sync	     3d TIILNK
     3d Xray	     2d SIO	     0d XLNK
		     3d Total	     3d Total
   256d Disp
     5d Krnl

Maximum number of circuits =  435d 


Bufferlet storage space:

  695Ax bytes (  27d KB) for  435d circuit buffers ( 62d bytes per circuit)
 20E84x bytes ( 132d KB) for  275d history buffers (490d bytes per termination)
 277DEx bytes ( 158d KB) for  435d total circuits  (371d bytes per circuit)


Memory used by this configuration = 57800x, 350d KB.

Optimal amount of memory for this configuration =   249d  KB.

Neighor  Window  Link   Link              Neighor  Window  Link   Link
Number    Size   Speed  Type              Number    Size   Speed  Type
 2275        8      MS   TII               2276        8      MS   TII      
12011        8           TII      

End of assembly
;A   (NTS)TII05.P35


PATCH added on 900527 at 1544 by fix.shrk#2.
	Starts at PATCH0+0 and is 2x bytes long
<<< Code has link shrink fix parts I and II >>>

PATCH added on 900615 at 1544 by iz.hostn.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix host checking to reject Kernel Host imitators >>>

PATCH added on 900615 at 1544 by newbuf.
	Starts at PATCH0+0 and is 2x bytes long
<<< New bufferlet logic that helps in debugging crashes >>>

PATCH added on 900705 at 0001 by fstcirc.
	Starts at PATCH0+0 and is 2x bytes long
<<< Allow test usage of high speed circuits >>>

PATCH added on 900720 at 0001 by Fix.gobble.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix Gobbler handling >>>

PATCH added on 900727 at 0001 by Fix.MULTLN.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug killing multi-line links >>>

PATCH added on 900730 at 0005 by sdw.xlack.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in handling of Performance monitoring XLACK char >>>

PATCH added on 900914 at 0006 by sdw.shrink.
	Starts at PATCH0+0 and is 2x bytes long
<<< Reduce the need to do shrinks and trace shrinks better >>>

PATCH added on 900925 at 0006 by sdw.splice.
	Starts at PATCH0+0 and is 2x bytes long
<<< Avoid optimization routine SPLICE due to fundamental design booboo >>>

PATCH added on 900926 at 0007 by sdw.merge.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in Rebuild's counting of characters >>>

PATCH added on 900928 at 0008 by sdw.rstrip.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bugs allowing code to lose track of bufferlets >>>

PATCH added on 901101 at 0009 by sdw.secure.
	Starts at PATCH0+0 and is 2x bytes long
<<< Change some xray priviledges to enhance security >>>

PATCH added on 901101 at 0010 by sdw.siortd.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in determining packets to process.  Killed multiline links >>>

PATCH added on 901205 at 0011 by Line.Test.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug which allowed sync line to hang after ending Line Test >>>

PATCH added on 901205 at 0012 by sdw.BOOT.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug causing neighbor nodes to ignore Downline Loads >>>

PATCH added on 911021 at 0013 by sdw.secur2.
	Starts at PATCH0+0 and is 2x bytes long
<<< Another changing of some xray privileges >>>

PATCH added on 910203 at 0014 by sdw.FE63.
	Starts at PATCH0+0 and is 2x bytes long
<<< Don't crash if ISIS is slow in releasing a Dispatcher port >>>

PATCH added on 910226 at 0016 by sdw.BZ9263.
	Starts at PATCH0+0 and is 2x bytes long
<<< Prevent crash due to wrapped BCT >>>

PATCH added on 910308 at 0017 by sdw.BZAPClear.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in Buffer Zap routine which caused loop in bufferlet Chain >>>

PATCH added on 910212 at 0018 by Fix.monMAC.
	Starts at PATCH0+0 and is 2x bytes long
<<< Periodically check SEG E and SEG F for MAC SET corruptions >>>

PATCH added on 910318 at 0019 by Fix.ZAPCLR.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix saving of register when ZAPHRD calls LOGCLR >>>

PATCH added on 910725 at 0020 by SHM.
	Starts at PATCH0+0 and is 4x bytes long
<<< Fix To not zero out wrong areas of memory >>>

PATCH added on 911021 at 0021 by sln.xraygg.
	Starts at PATCH0+0 and is 2x bytes long
<<< Move Xray good-guy list to Seg D for expanded capacity >>>

PATCH added on 911023 at 0022 by jay.buflet.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in SPLICE which freed wrong blet >>>

PATCH added on 911105 at 0023 by sln.secure.
	Starts at PATCH0+0 and is 2x bytes long
<<< Security-related change >>>
End of assembly
1;F   ND6720.N00

SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!
!; Create the Engine code that runs in Slot 1 from NDxxxx.T01
!; Note that the 68K code in slot 2 is the same in all bases.
!R (SYS)NAD
1.5
;X   ND6720.C01

;;      EBUS INTERFACE COMMAND FILE - HOST 38
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND6720.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10CA4
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3364d, requires 0E00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 3-length 65536d, requires 10000x bytes of core.
SEGMENT 4-length 65536d, requires 10000x bytes of core.
SEGMENT 5-length 65536d, requires 10000x bytes of core.
SEGMENT 6-length 65536d, requires 10000x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       265d K-bytes of core
End of assembly
1;F   ND6720.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Create the gateway code for slot 3.
!R (SYS)NAD
1.5
;X   ND6720.C03

;; gateway for pdp-10 to debugger access
;a   (nts)tii05.i35

End of assembly
;a   nd6720.t03

End of assembly
;a   (tymnet)ggxray.ltd

End of assembly
;a   (nts)tii05.r35

This is special test code.  Unauthorized use is strictly prohibited
and very unwise.  The code is to be used only where authorized by
NTS/STS.                                    sdw    03/02/90



WARNING -- Node cannot downline load neighbor unless an Xray
    goodguy entry is targeted to T.DLOAD.

       NETID is 1d.  This is a TYMNET network node.




TYMNET-II Node Code, Version 5.35, GATEWAY Node

Node: 12011  H-Net Host (Kernel):15369   I-Net Host:15371

Ports:		Lines:		Links:
     0d Pthru	     1d Sync	     1d TIILNK
     3d Xray	     0d SIO	     0d XLNK
		     1d Total	     1d Total
    64d Disp
     0d Krnl

Maximum number of circuits =  106d 


Bufferlet storage space:

  8DE2x bytes (  36d KB) for  106d total circuits  (342d bytes per circuit)


Memory used by this configuration = 28000x, 160d KB.

Optimal amount of memory for this configuration =   151d  KB.

Neighor  Window  Link   Link              Neighor  Window  Link   Link
Number    Size   Speed  Type              Number    Size   Speed  Type
 6720        8           TII      

End of assembly
;a   (nts)tii05.p35


PATCH added on 900527 at 1544 by fix.shrk#2.
	Starts at PATCH0+0 and is 2x bytes long
<<< Code has link shrink fix parts I and II >>>

PATCH added on 900615 at 1544 by iz.hostn.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix host checking to reject Kernel Host imitators >>>

PATCH added on 900615 at 1544 by newbuf.
	Starts at PATCH0+0 and is 2x bytes long
<<< New bufferlet logic that helps in debugging crashes >>>

PATCH added on 900705 at 0001 by fstcirc.
	Starts at PATCH0+0 and is 2x bytes long
<<< Allow test usage of high speed circuits >>>

PATCH added on 900720 at 0001 by Fix.gobble.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix Gobbler handling >>>

PATCH added on 900727 at 0001 by Fix.MULTLN.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug killing multi-line links >>>

PATCH added on 900730 at 0005 by sdw.xlack.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in handling of Performance monitoring XLACK char >>>

PATCH added on 900914 at 0006 by sdw.shrink.
	Starts at PATCH0+0 and is 2x bytes long
<<< Reduce the need to do shrinks and trace shrinks better >>>

PATCH added on 900928 at 0008 by sdw.rstrip.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bugs allowing code to lose track of bufferlets >>>

PATCH added on 901101 at 0009 by sdw.secure.
	Starts at PATCH0+0 and is 2x bytes long
<<< Change some xray priviledges to enhance security >>>

PATCH added on 901101 at 0010 by sdw.siortd.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in determining packets to process.  Killed multiline links >>>

PATCH added on 901205 at 0011 by Line.Test.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug which allowed sync line to hang after ending Line Test >>>

PATCH added on 901205 at 0012 by sdw.BOOT.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug causing neighbor nodes to ignore Downline Loads >>>

PATCH added on 911021 at 0013 by sdw.secur2.
	Starts at PATCH0+0 and is 2x bytes long
<<< Another changing of some xray privileges >>>

PATCH added on 910203 at 0014 by sdw.FE63.
	Starts at PATCH0+0 and is 2x bytes long
<<< Don't crash if ISIS is slow in releasing a Dispatcher port >>>

PATCH added on 910226 at 0016 by sdw.BZ9263.
	Starts at PATCH0+0 and is 2x bytes long
<<< Prevent crash due to wrapped BCT >>>

PATCH added on 910308 at 0017 by sdw.BZAPClear.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in Buffer Zap routine which caused loop in bufferlet Chain >>>

PATCH added on 910212 at 0018 by Fix.monMAC.
	Starts at PATCH0+0 and is 2x bytes long
<<< Periodically check SEG E and SEG F for MAC SET corruptions >>>

PATCH added on 910318 at 0019 by Fix.ZAPCLR.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix saving of register when ZAPHRD calls LOGCLR >>>

PATCH added on 910725 at 0020 by SHM.
	Starts at PATCH0+0 and is 4x bytes long
<<< Fix To not zero out wrong areas of memory >>>

PATCH added on 911021 at 0021 by sln.xraygg.
	Starts at PATCH0+0 and is 2x bytes long
<<< Move Xray good-guy list to Seg D for expanded capacity >>>

PATCH added on 911023 at 0022 by jay.buflet.
	Starts at PATCH0+0 and is 2x bytes long
<<< Fix bug in SPLICE which freed wrong blet >>>

PATCH added on 911105 at 0023 by sln.secure.
	Starts at PATCH0+0 and is 2x bytes long
<<< Security-related change >>>
End of assembly
gneaux+0a[   0CE   00d3
1;f   nd6720.n03

seg0,rseg0;p
seg1,s1size;p
segd,sdsize;p
cta,ctasiz;p
%p
%q
EXIT

!
!; Build BND file.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS OR SPLIT KERNEL
VERSION  4.00
* ND6720.BND=ND6720.NIB,ND6720.N00,ND6720.N01,(EBUS)EBUS02.O02/S,ND6720.N03




         SLOT MAP

SLOT BEGINS ENDS
 0   16C00  6E3FF
 1   6E400  B0BFF
 2   B0C00  C9BFF
 3   C9C00  F1BFF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   17000  1A7FF
 1   1A800  292FF
 2   29300  392FF
 3   39300  492FF
 4   49300  592FF
 5   59300  647FF
13   64800  6E3FF
14   16C00  16FFF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   6E600  6E793
 1   6E800  6F523
 2   6F600  7077F
 3   70800  807FF
 4   80800  907FF
 5   90800  A07FF
 6   A0800  B07FF
14   6E400  6E5DB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
B0C00  B2EAC




    MAP OF SLOT  3

SEG  BEGINS ENDS
 0   C9E00  CC7FF
 1   CC800  D88FF
 2   D8900  E70FF
13   E7100  F1BFF
14   C9C00  C9DFF

EXIT

!
!; The NIB files are not needed and can be deleted.
!DIR ND6720.NIB,ND6720.N00,ND6720.N01,ND6720.N03

ND6720  N03     116  25-JUN-92 1734    ALL RD  NO     58752          
ND6720  N01       7  25-JUN-92 1731    ALL RD  NO      2816          
ND6720  N00     127  25-JUN-92 1729    ALL RD  NO     64512          
ND6720  NIB      42  25-JUN-92 1724    ALL RD  NO     20736          

!R (SYS)CKSUM
INPUT: ND6720.*
SUXVIF ND6720.LOG
YEWKEQ ND6720.C01
GUBNUS ND6720.CMD
ZOCKAG ND6720.BAK
SIXNEJ ND6720.TYM
SAWHOD ND6720.T01
BOKREF ND6720.T03
PELDEC ND6720.C03
FIXLUV ND6720.NIB
LIBMAG ND6720.N01
LECPAQ ND6720.N03
FAPBAB ND6720.N00
NOZMEY ND6720.C00
NIWWUG ND6720.BND
INPUT: 

!; End of EBUSGW.CTL
!DIRECT ND6720.BND

ND6720  BND     120  25-JUN-92 1735    ALL RD  NO     60672          

!LOGOUT
2438.84 tru
terminal time: 0:14:26
   