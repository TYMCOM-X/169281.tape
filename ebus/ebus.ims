                                                                  June 23, 1986







                            ***** ****  *   *  ****
                            *     *   * *   * *    
                            ****  ****  *   *  *** 
                            *     *   * *   *     *
                            ***** ****   ***  **** 

                         *****     *   *      ****   
                           *       ** **     *       
                           *       * * *      ***    
                           *       *   *         *   
                         *****  *  *   *  *  ****   *

                            PDP-10 E-BUSS INTERFACE
                      INTERNAL MAINTENANCE SPECIFICATION

                                    TYMNET
                        NETWORK TECHNOLOGY DEVELOPMENT
                                 June 23, 1986

















     ====================================================================
     |   Tymnet,  Inc.'s  proprietary  rights  are  included  in  the   |
     |   information disclosed herein.   The recipient,  by receiving   |
     |   this document,  agrees  that neither this  document nor  the   |
     |   information  disclosed  herein nor any part thereof shall be   |
     |   reproduced or transferred to  other  documents  or  used  or   |
     |   disclosed  to  others  for  manufacturing  or  for any other   |
     |   purpose except  as  specifically authorized  in  writing  by   |
     |   Tymnet, Inc.                                                   |
     ====================================================================




                          Internal Maintenance Specification           EBUS.IMS
                                                                  June 23, 1986







                                   TABLE OF CONTENTS

        Section                                                            Page



        1.   Introduction                                                     1


        2.   Data Structures                                                  2
          2.1   Data -- byte-array                                            2
          2.2   Linked Lists                                                  2
          2.3   Port Descriptor                                               3


        3.   Initialization                                                   5
          3.1   IPI Slot and XPI Initialization                               5
          3.2   EBUS Initialization                                           6
          3.3   Crash Processing                                              6
             3.3.1    "Normal" Crashes                                        7
             3.3.2    "Fatal" Crashes                                         7

          3.4   The EXEC process                                              8
          3.5   The EXEC Loop                                                 8


        4.   Host and Port Management                                        10
          4.1   Host management                                              10
          4.2   Port Management                                              11
          4.3   ISIS-port Management                                         11


        5.   Host Output                                                     13


        6.   Input from ISIS                                                 20


        7.   Block-I/O                                                       28
          7.1   Request for Ports                                            28
          7.2   Block-Output                                                 28
          7.3   Block-Input                                                  30


        8.   I/O and Buffer Logic                                            37
          8.1   Engine DMA Access                                            37
             8.1.1    ISIS-ring Output Routines                              38
                8.1.1.1     Room                                             38

                          Internal Maintenance Specification           EBUS.IMS
                                                                  June 23, 1986


                8.1.1.2     WAITIS                                           38
                8.1.1.3     WAITISW                                          38
                8.1.1.4     SLOR                                             39
                8.1.1.5     PUTCH                                            39
                8.1.1.6     PUTH                                             39
                8.1.1.7     PUTW                                             40
                8.1.1.8     ELOR                                             40
                8.1.1.9     SENDQI                                           40

             8.1.2    ISIS-ring Input Routines                               40
                8.1.2.1     LOOK                                             41
                8.1.2.2     GETCH                                            41
                8.1.2.3     GETH                                             41
                8.1.2.4     GETW                                             41
                8.1.2.5     ELIR                                             42
                8.1.2.6     FLUSH                                            42

          8.2   PDP (Black-Box) I/O                                          42
             8.2.1    SETBLKA                                                44
             8.2.2    Output To PDP                                          44
                8.2.2.1     WR10R                                            44
                8.2.2.2     PUTNOT0                                          45
                8.2.2.3     HCRASH                                           45
                8.2.2.4     PUTPDPL                                          45
                8.2.2.5     PUTPDPR                                          45
                8.2.2.6     PUTIFC                                           46
                8.2.2.7     PUTOEC                                           46
                8.2.2.8     FDRGSZ                                           46
                8.2.2.9     WAITPDP                                          47
                8.2.2.10    WRPDP                                            47
                8.2.2.11    WRDAT                                            47
                8.2.2.12    WAITDAT                                          48
                8.2.2.13    WRBLK                                            48
                8.2.2.14    GETBLK                                           48

             8.2.3    Input From PDP                                         48
                8.2.3.1     RD10R                                            49
                8.2.3.2     GETPDPL                                          49
                8.2.3.3     GETPDPR                                          49
                8.2.3.4     GETOFC                                           50
                8.2.3.5     GETIEC                                           50
                8.2.3.6     RDPDPRP                                          50
                8.2.3.7     RDPDP                                            51
                8.2.3.8     RDBLK                                            51

             8.2.4    Buffer Routines                                        51
                8.2.4.1     DGCI                                             51
                8.2.4.2     DWCI                                             52
                8.2.4.3     DEMPTY                                           53


        9.   Debugging and Diagnostic Tools                                  54
          9.1   TRACE Assembly Switches                                      54

                          Internal Maintenance Specification           EBUS.IMS
                                                                  June 23, 1986


          9.2   Hardware Diagnostic Routines                                 55
             9.2.1    $7C00 Test                                             55
             9.2.2    $7D00 Test                                             56
             9.2.3    $7E00 Test                                             56


                                     APPENDICES
                                     ==========


        I.   Summary of Base-to-Host Messages                                58


        II.  Summary of Host-to-Base Messages                                59


                                      INDEX
                                      =====                                  61




































                          Internal Maintenance Specification           EBUS.IMS
        Introduction                                              June 23, 1986






                                   1 -  Introduction


             This document is  primarily oriented toward code  maintenance, and
        will address hardware only peripherally.

               NOTE:   The product contains  code executing both  in the
                       Engine,  and  in  the  XPI/68K  processor.   This
                       document  primarily  addresses  the  latter code;
                       particular  implementation details  are presented
                       in the form of  "C" code (even though  the actual
                       implementation is in ASM68K assembly-language).

             The physical configuration can be represented as:

        ENGINE/ |       ---------       ---------       ---------
        TYMNET-2| ----- |  XPI  | ----- |Blk Box| ----- | Host  |
        /ISIS   |       ---------       ---------       ---------

             TYMNET-2 / ISIS /ENGINE technology is well defined, and documented
        elsewhere (see ISIS2.DOC, and ENGINE.DOC for details).

             XPI  is  a  M68000-based  processor  peripheral  to   the  Engine,
        currently in use for MXP,  and intended as the vehicle for  many future
        products;  thus it also is easily maintainable.  Because it  is closely
        coupled  to  the  Engine  (via  direct  DMA  transfers),  it   is  also
        susceptible to bandwidths higher  than can be provided by  the Varians.
        Being an  independent peripheral  processor, it is  capable of  a great
        deal of functionality without loading down its resident Engine.

             The "Black Box" is the identical hardware once used on  the Varian
        Bases.


















        1                 Internal Maintenance Specification           EBUS.IMS
        Data Structures                                           June 23, 1986






                                 2 -  Data Structures


             There are a number of data structures used within EBUS.  These are
        described in this section, along with associated information.






                                2.1  Data -- byte-array


             One data structure used continuously is defined as:

                char    DAT[32];        /* Data-array */

        #define DAT1 DAT[0]             /* name of first byte */
        #define DAT2 DAT[1]             /* name of second byte */
        #define DAT3 DAT[2]             /* name of third byte */
        #define DAT4 DAT[3]             /* name of fourth byte */
        #define DAT5 DAT[4]             /* name of fifth byte */






                                   2.2  Linked Lists


             Another data structure used continuously is defined as:

        typdef  struct  LIST            /* linked-list descriptor */
        {
        struct  LIST    *next;          /* pointer to next element*/
                short   port;           /* port number for this element */
        }       list;

             This is referenced via:

                list    FREEBLK[2*MAXPORT]; /* linked-list of free blocks */
                list    *BLKFRE;        /* * beginning of free-list */
                list    *BKIFRE;        /* * beginning of Bin-list */
                list    *BKOFRE;        /* * beginning of Bout-list */
                list    *BUFFRE;        /* * beginning of Buf-list */
                list    *SAVE1;         /* * beginning of current-list */


        2                 Internal Maintenance Specification           EBUS.IMS
        Data Structures                                           June 23, 1986


                                 2.3  Port Descriptor


             The primary data structure is a Port descriptor, of format:

        /*      Port Descriptor Definition      */
        typedef struct
        {       char    P_NUM;          /* port number */
                char    P_FLAGS;        /* port status flags */
        #define PF_ACT 1        /* port active flag */
        #define PF_OBP 2        /* Output Back-pressure applied (by ISIS) */
        #define PF_IBP 4        /* Input Back-pressure applied (by us) */
        #define PF_HBP 8        /* Input Back-pressure applied (by Host) */
        #define PF_BKO 16       /* Block-Output active */
        #define PF_BKI 32       /* Block-Input active */
        #define PF_BFD 64       /* Block FilleD */

                char    XMITLMT;        /* transmit limit */
                char    IBRATE;         /* Input baud-rate */
                char    AUXKEY;         /* hold AUX-key here */

                /* Block-out: */
                long    BO_TAR;         /* (PDP) block start addr. */
                short   BO_BYT;         /* byte position within word */
                short   BO_TCN;         /* output count (remaining) */

                /* Block-input: */
                long    BI_TIM;         /* time (FASTC) last activity */
                long    BI_TAR;         /* (PDP) block start address */
                short   BI_TCN;         /* input count (total) */
                short   BI_LCN;         /* input count (so far) */
                short   BI_BYT;         /* pos. within current word */

                /* Buffer parameters: */
                short   BB;             /* bufferlet-begin */
                short   BE;             /* bufferlet-end */
                short   BCT;            /* count of characters */
        }       PD;     

             These parameters are recorded in an area:

                PD      PORTS[MAXPORT]; /* array of port-descriptors */

             They are referenced via:

                PD      *Rp;            /* * current port-descriptor */

             This is generated in the function:






        3                 Internal Maintenance Specification           EBUS.IMS
        Data Structures                                           June 23, 1986


        SETPORT(p)                      /* set up port-number */
        short   p;
        {       PORTNO = p;             /* record value */
                Rp = *PORTS[p];         /* set pointer */
                return;
        }
















































        4                 Internal Maintenance Specification           EBUS.IMS
        Initialization                                            June 23, 1986






                                  3 -  Initialization


             When the 68K EBUS  code first begins execution,  initialization is
        performed.

             Since  there  are a  concert  of programs  and  processors working
        together, we will consider the successive phases of initialization.






                         3.1  IPI Slot and XPI Initialization


             When the IPI slot first is activated, the 68K is HALTED!   IPI may
        thus safely initialize itself without interactions from the 68K.

             The IPI initialization sequence is:

           1.  The  CRASH Library  routine initializes  the slot's  ISIS rings,
               places a Diagnostic  report (specifying start-up) into  the ISIS
               output-ring, and performs a  RESTART SVC to connect to  the ISIS
               DISPATCHER,  and trap  errors.   Control is  then  transfered to
               IPI's START address:
           2.  IPI  initializes the  68K parameter  block (setting  up physical
               Engine Addresses where  appropriate), the ISIS  parameter block,
               and various other areas.  It then:
           3.  Performs  the  CONNECT-IO  SVC  for  the  68K,  with  parameters
               specifying the  addresses of  the 68K  parameter block,  and the
               ISIS parameter block.
           4.  ISIS sets up parameters, and activates the 68K to run MACSbug to
               load the 68K from the memory image within ISIS.
           5.  MACSbug reads the  parameters, performs the load,  and transfers
               to the load start-address (EBUS label "ENTRY"), with pointers to
               the ISIS  input and  output communications areas  in A1  and A2,
               respectively.
           6.  ENTRY  "grabs"  the  ISIS interrupt  (by  placing  a  pointer to
               "BOBCODE" at $13C), and  records the parameters in  "ISTOME" and
                 Ö    Ä            Å    Å        Ä                Ç         Å    Ç@  ~+  í   v            Ö    Ä       è        è        è        è    è        è        è@  à+  $   ñpx         Ö    Äx     ÉH #W    H #V    ÇH #’    ÇH #U    ÅH #‘    H #T    H #”    H #“    ÑH #—    ÉH #–    H #œ    H #Œ@    `ñ   ≈+  µ   (px®         Ö    Äx     ÉH #Õ    ÉH #Ã    H #L    ÇH #À    ÅH #KH #     ÉH #…    H #I    ÑH #H    ÉH #G    H #F    H #E@  §  `(   £+  B   πux:             Äx     H #D    H #C    ÉH #B    ÑH #A    H #@    H #?    H #>@  6  8π   5+  Œ   Fux∆             Äx     H #=    ÇH #º    ÇH #<    H #;    ÇH #∫    H #π    H #∏@  ¬  8F   ¡+  #ä\" #ÿ,B ,B Ä\ˇZˇ4D ”\ˇ      \
ˇ1D  +  Ÿ\ˇZ?ˇ4L X\ˇ @    \ˇ0L  Ñ+  ›\ˇZ ˇ4@ ‹\ˇ> ˇ`  \ˇ+  –\ˇZ
7ˇ4J ‡\ˇ 
8  
  Ç\ˇ1*  †+  c1j  -+  n\ˇZˇ4R f\ˇ     Ñ\ˇ12  ∞+  Ë1r  =+  n\ˇZ
7ˇ4J Î\ˇ 
8  
  Ç\ˇ1*  +  u0j  ú+  u\ˇZˇ4R q\ˇ>ˇ  \ˇ,< Ä,< ,>  Ñ, /L,\ ,\ Ä+  ›Z
 Ä4J ˜,< Ä,< +  ˇ\ˇZ?ˇ4L ~\ˇZOˇ4P |\ˇ>ˇ  \ˇ,>  , 0‚+  ˇ,< #X,< #ÿ+  ˇ/ # +x             Ä   N,> ,> ë, 1,>,> #%, 1ç ˇ0(   0(  +  + ,>˛, 0Î+  å,>˛, 0Ú+  å5 5 â, 2d,\ ,\ í,> ì,> , 1ç,< í,< +  ê/ #ü+x       ìx  ?v         É  í    ˇ$"Q@("  	dbˇ8   / # +x ,> #,> #§, * +  ,~   ,> #",> #û, *  B #&"Q@(B  	  #&0Q@(R  	   Ñ&0Q@A0ˇG  +  ¢,~   L	U+  ©   ß˙   ß             Ä   Å               @  $,> #,> #§, *  B ß6  ß+  ≠\"ˇ+  ≥6@ ß+  Ø!"   +  ≥  #ù R ®   ß,>   ,> #!, *   ß+  ≥,~      ß+  ;   ∏z   ∏         Å    Ä                       @  5 ˛ B ∏ $  .ˇ(D  	 &  .A&ˇG  Å D π ( ∏,>  ,> #!, *   ∏+  C/ #ü+x    ∏+      »˙   »             Ä   Å               @  E 
 J »7@ˇ+  N  #ù L …+  O  # N … 0 »,>  ,> #!, *   »+  R/ #ú+x Å   »\2p  ,>  Ñ,> ﬂ, ,P$" \ p  ,>   ,> ﬂ B a, ,P$"  . a\$p  ,>  ,> ﬂ B a, ,P. a B ‡(  	&"Q@+  ﬁ/ # ,~      `               6@ˇ+  d,< #∂,< #7+   ã &    F  å@h  ç 
  çA*  Å 
({2jˇ+  n   å.,  Ä L  å   çA.  Å ˇ/8{ Pˇ   ç.2  Ä R  ç+  Â@`  !$    D  0d  Ö+  ˝0D  Ä+  s   çA&  Å4F u      H  é+  w 
   
(.*  Ä J  é   é2lˇ+  |   ..  Ä N   ˇ/  é Pˇ+  ¸+  ˝   9 o ˇ.2  Ä,>  Ñ,> #†,> #%, Ç,< #5,< #µ, /ü   (D  Ä,<ñ,<,> #•,> #&, 0 , /ü,< #5,< #µ, /ü   å&0  2,>  Ñ,> #†,> #%, Ç, /ü+   ã/ # +x     ≠    Ä    ç    Ä    6@ˇ+   ë,< #∂,< #7+   ¶ Rˇ # #õ r  Ñ R  ß ˇ&. : Pˇ P   # p   P  ( ˇ&,  è Nˇ..  Ä,>  É,> #†,> #%, Ç,< #5,< #µ, /ü   ((N  Ä,<8ñ,<8,> #•,> #&, 0 , /ü,< #5,< #µ, /ü   ß&0  2,>  Ñ,> #†,> #%, Ç, /ü+   ¶/ # +x           !2    R  :0r  Ö+   8,<wˇ,<wˇ(R  Ä,<Hñ,<H,> #•,> #&, 0 , 0ª5B  5,<wˇ,<wˇ   :(D  Ä,<(,<®,> #•,> #&, 0 , 0ª4B  7   :.&  Ä   Å+   9   :9  )!"   +   9/ # ,~        7@ˇ+   À,>ˇ, ï Bˇ&" ,>  Ä,> #†,> #%, Ç,< #≥,< #4, /ü ˇ&0  Rˇ   Ñ&0  ,>  ,> #†,> #%, Ç, /ü,< #≥,< #4, /ü ˇ&0  ,>  Ñ,> #†,> #%, Ç, /ü+   Ã,< #±,< #2+   M/ # +x 7@ˇ+  !,>ˇ, ï Bˇ& #ö4B  o ˇ& #ö,>  ,> #&,> #%, Ç,< #0,< #∞, /ü ˇ& #ö Rˇ   Ñ&0Q@,>  ,> #&,> #%, Ç, /ü,< #Æ,< #/, /ü ˇ&0Q@ Rˇ   Ñ&0 ,>  ,> #•,> #%, Ç, /ü,< #-,< #≠, /ü ˇ&0  Rˇ   Ñ&0  ,>  ,> #•,> #%, Ç, /ü,< #´,< #,, /ü ˇ&0  ,>  Ñ,> #•,> #%, Ç, /ü,< #*,< #™, /ü+  !ó ˇ&0Q@4P !á ˇ&0Q@,>  ,> #&,> #%, Ç,< #Æ,< #/, /ü ˇ&0Q@ Rˇ   Ñ&0 ,>  ,> #•,> #%, Ç, /ü,< #-,< #≠, /ü ˇ&0  Rˇ   Ñ&0  ,>  ,> #•,> #%, Ç, /ü,< #´,< #,, /ü ˇ&0  ,>  Ñ,> #•,> #%, Ç, /ü,< #*,< #™, /ü+  !ó ˇ&0 ,>  ,> #¶,> #%, Ç,< #-,< #≠, /ü ˇ&0  Rˇ   Ñ&0  ,>  ,> #•,> #%, Ç, /ü,< #´,< #,, /ü ˇ&0  ,>  Ñ,> #•,> #%, Ç, /ü,< #*,< #™, /ü+  !,< #±,< #2+  !ô/ # +x  ˇ(Rw,>  Ñ, ·,< #®,< #), /ü  ˇA ˇ,>   ,  ∫, /ü+  !!/ # +x  ˇ&0  5R !% ˇ&0  25R !' ˇ&0 H4R !'g  Ñ"2  Ä   Ñ+  !®/ # +x 7@˛+  !,  ˛/   Ä @˛6@ˇ+  !. "    Bˇ ˇ&0  2/2    Rˇ6@+  !2 2  Ä R  ˇ$  ∂ ˇ&0  .   .  @ !¡ ˇ.2 V,>  Ñ, !"4B !;  ˛0   +  !;  !¡/"  Ä B !¡7`˛+  !ø ˛/$  Ä D˛  !¡. F !¡+  !;  !¡+  !¿/ #ü+x      @h !XZ
wˇ4J !’  !X$,  \.p  ,>  É,> !◊, ,P.  Ä L !XZwˇ4P !… p    0P  +  !ÕZwˇ4R !Ã>wˇp   R !ÿ+  !«Zwˇ4D !—  !ÿ1F  +  !—!"   +  !÷+  !UZwˇ4H !UZ
wˇ4J !‘>
wˇ
p   J !ÿ+  !¬  !X+  !÷/ # ,~      !ÿ          ,<wˇ,<wˇ,> #•,> #$, 0 ,  ®,>  Ä,<wˇ,<wˇ,> #¶,> #&, 0 , 1,>  Ä,<wˇ,<wˇ,> #¶,> #£, 0 , 1,>  Ä, !©(B  	,<wˇ,<wˇ,> ##,> #¢, 0  B !Í, ”A"ˇG !Í+  !È/ # ,~        ,> #%,> #°, *  B "&" t&" ,>  Ä, 0Î,\ "ì,\ "  "&0 t,< ",< "ì, 1$" /  Ä&0  ,>  , 0Î,\ "î,\ "  "&0 t,< ",< "ì, 1$" /  Ä&0  ,>  Ñ, 0Î,\ "ï,\ "Z "02  +  ",< #',< #ß,< ",< "ì, /ü,\ "ì,\ "Z "0$  +  ",< #',< #ß,< ",< "î, /ü,\ "î,\ "Z "0&  +  ",< #',< #ß,< ",< "ï, /ü,\ "ï,\ ",< ",< "ì,< #≥,< #4, /ü,< ",< "î, /ü,< #≥,< #4, /ü,< ",< "ï, /ü+  "í,~                                        "   @h #à H # H #á\*p  ,>  Ç, O,\ #,\ #ÜZ #Ü4L #ÑZ #Ü4N "û  #  É1.  +  "ﬂ0n  ú+  "ﬂZwˇ4P "¢ p    0P  +  "3,< #Ü,< #, 1 B #áZwˇ4R "ß> wˇ`p  \ p  ,>   , O, 1 B #Zwˇ4D ",>wˇp  1D  +  ".\"ˇ+  #Ö\&p  ,>  Å, O,\ #,\ #Ü,< #Ü,< #, 1 B #à+  "_Zwˇ4H "5 p    0H  ñ+  "G,< #Ü,< #, 1 B #áZ
wˇ4J ":> wˇ`p  \,p  ,>  , O,  ® B #5B ">\"ˇ+  #ÖZwˇ4N "@>wˇp  1N  ñ+  "B\"ˇ+  #Ö\0p  ,>  , O,\ #,\ #Ü,< #Ü,< #, 1 B #à+  "_Zwˇ4R "I p    Ñ0R  ó+  "€,< #Ü,< #, 1 B #Z wˇ4@ "N> wˇ`p  \$p  ,>  , O,\ #,\ #Ü,< #Ü,< #, 1 B #áZwˇ4F "‘>wˇp  1F  ó+  "÷\"ˇ+  #Ö\(p  ,>  , O,\ #,\ #Ü,< #Ü,< #, 1 B #à+  "_,< #Ü,< #,<w˛,<w˛, /ü,\w,\w+  "Ú,< #Ü,< #,> #•,> #&, 0 ,  ® B #5B "‰\"ˇ+  #Ö\*p  ,>  Ç, O,\ #,\ #Ü,< #Ü,< #, 1 B #áZwˇ4L "k p    0L  +  "nZwˇ4N "n> wˇ`p  \0p  ,>  , O,\ #,\ #Ü,< #Ü,< #, 1 B #àZwˇ4R "Ù p    Ñ1R  +  "¯Zwˇ4D "˜ p    0D  Ñ+  "{Zwˇ4F "˙> wˇ`p  +  "Ú  #à1(  2+  "~  #à&0  2 R #à,> #,> #á,> #à, !©(B  	,<wˇ,<wˇ B #	, ”A"ˇG #	+  #Ö+  #Ö!"   +  #Ö/ # ,~                                   #Ü   ", %h 6 #ó, .ó P  / #ú,~      {   Å   xx®x:x∆   ;   u    ÉH #ò               #ó     2                 x        DAYTIME        ˇ  :@!?   !p   "7      ÅP    ( Œ X Ñ       È    â        Ö    Ñ            ê         Å    Ä        ÄH #(0        ÄH #©         ÄH #+s        ÄH #¨m        ÄH #.h        ÄH #Ød        H #1w        H #≤00:00:00      ÄH #¥:        ÄH #6-        ÑH #∑01-Jan-64 Samedi    Vendredi  JeudiMercredi  MardiLundiDimanche  Saturday  Friday    Thursday  Wednesday Tuesday   Monday    Sunday    Decembre  Novembre  Octobre   Septembre Aout Juillet   Juin Mai  AvrilMars Fevrier   Janvier   December  November  October   September August    July June May  AprilMarchFebruary  January           k  H              Û                                 #ô   # P  
   #ë             <ì               ˇ                                                                                                                                                                                                                                                       Aˆ                                                      Ç                       P                        9T   <à        $        √   ;y                            5'        5"   $   5   $   <à                                                                              `K( ë   Jx 6   K ¶     ~ $2@ $t2@ 7   <≥     2@ 7p                                                                                                                                                    Ä      Å    +                                                                                                                                                                                   gg  KND(                    @  ± ^ $@ > $∏*> $ø+  $IO@ #dZ  (+ `  g  "8  Ä X #„  $÷	x  ê 8 `  X $-> $U	`   @@ #a  $W X  ê  $-< $Ò " $«XB  (U4  Ä, $√, )v, 9,  #a6@h b+  $T\"  B $\	`   	b  + x  +      $ﬁ P Ñ, %ıSTRING PDL     STRING SPACE   SYSTEM PDL     
End of SAIL execution  SOME FORTRAN ROUTINE HAS SEEN FIT TO COMPLAIN
ABOUT YOUR STYLE.  COMPLAIN TO DEC THAT THEIR ERROR MESSAGE
PROCEDURE IS NOT SUFFICIENTLY GENERAL TO ALLOW GRACEFUL INTERFACE
WITH SAIL.     @@ #| &   , 7Ú  )ö, %i    Dh ë,>  . $-@@ˇ  $ R $è 2 $è+  ${[H Ü0X 6@ #‰+  ${" )N 4H 7NP  +  %ì   an  9 %Ä, (Ò(L  Ä., $ñP0  d.  Z0 Ädn   . #a "ˇ+  %Ñ1P`  +  %á/"  6X  +  % "x Ä. $-@@  @@ ÄP  É^`  É  Ä   4. %`p  +  %ev  +  %5N %m0  R`  +  %`Xˇe0  e6   .   G  Ö.  anˇP0 Ä P   N Ä9 $˚7RH  +  %6 H Å+  $¯  #aO@ +  $¯ h ë,>` ,>` Ç@@` @@ $´7@ #d+  %ü
& (p
& (¸
   
& (pD$  1D  ¨O@ $´1D  ':  $´@@ $,7Rˇ+  %8!x  `Bˇ6  $´+  %&
&  
& (q[  Ä   Å
& (r, %kQ  Å[  Ä4F %7Z  Ñ0Xh ë+  %ØZh ë1&    &   Q  Å.$  Ä1f   +  %∞/&   S  Å/  , 8%  )+.&   +  %∞, 7Ú  )ar  +  %≤ DH  .2  Äar  +  %µ   Å.   HH  .2  Ä, %i`r @  DH  / $-+  %ü7@ $´+  %:
& (p
& (p/ $.@@ #d h @d  Å*h ¶*h '6@ #‰O@h Ö/   (  É, 3Ÿ\8 $à,Xh Ç,Xh ,Xh Å,Xh ,Xh Ä, 6ï 8  É Xh ´ 8h Q8   Xh ,@@ #{@@ #g,> (È, (ù@@ #¸@@ #} 6 $7VX  +  %Œ7XX +  %IP  Ø*  Ø`Xˇ3X  Ø5 %I. )+  %I, )kZ $â4B %÷Z ÉZ  4X %œ `  av@ +  %œ`v  è9 %—hv@ av@ 46 %V@A`  9 %—  #aS"ˇ, %Y  #a,~   Z $	4D %Á,>  ,>  Ä,>  7X Ä+  %„[  1F  +  %·0&  28  Ä9 %€0"   08   P  9 %€ˇ,`  ˇ9 %€Z D5D %€/ $≠Y  Äh"ˇlbˇ+  %Y,~   \"  +  %Y"`  Å/$  ÄQ  Å,~   : x  6@ $,,~   @f  
(  1D  æ+  %s1D  +  %t0$  0d  ú+  %mO@  $&  .&h+  %mO@ $,
& (p6@  > x  ,~   ,>   ,>  Ä   " (x+&Ç,^  ,^  Å,^  ,^  Ä,^   ,~   ,>  ,>  Å,>  ,> (j+   ,>  S$˙,> Å*d %˛,> (Í+   S:˘*:  Ü/ (m,~   +  'í+  'í+  &˜+  &u+  'õ+  'ñ+  &+  '+  &]+  &+  &+  (	+  &¸+  'í+  'ç+  'Ö+  &^+  'í+  'í+  'í+  'í+  'í+  'í+  'í+  'í+  'í+  'í+  'í+  'í+  'í+  'í+  'í 8  ,X  + h  -  %{ $˝Z  1b  .D  " (¯ ")í $ '˜+  (+    hbˇibˇQ"A`,>  Ä,>  +  &ú, &∑ˇ4B &®0B   +  &ˇ0"  †0b  &+  & $  :x  "  +&   &©   &+   &   &Æ   &;   &>   &C   &F   &À   &œ   &–   &B/ (l,~   @   Q"A`+  &Gabˇ+  &2 B $´ " (˚ $ ), &ò+  &ú5" &1#  Ä "  ñ, &∑   ,> (i+  &≤,> (Ë* x  , &¥,^   +  &ú&   QDx  4B &∂, &¥[x  ."  1B   "  ê1B  ç "  ë*F &∫B  ,~   )BnD$  Ä4D &ú)B  É, &∑+  &<)Bn4D &ú)B  4B &?A"  ü."  , &∑+  &æabˇ+  &ú4B &úabˇ+  &R B $´ " )Ä+  &-:x  $  ,>  Äx  4B & 1B  +  & , &∑+  &«,^  Ä+  &ú x   %  Zˇ,>  Ä4D & x  , &∑=$ &Õ "ˇ+  &+abˇ5B &R+  &úQ"A@ B $´ "  , &∑!$z $´4B &X " , &∑*d &‘ "  î+  &X$   *D &W $´4B &ÿ "  , &∑`D= &⁄" $´+  &’" ):,~   a` `+  &z    -  %{& (Ù1f  .&˝,>  Å,>  Ä@d   )@  )"  &   /   Z&  &&  4F &r0B   5B &Ì (  &   4" )à$"  ."   "    . x  P x  b (y Aˇ/ $-,~   Q$  & (z\&n&&  /B  [  1(  +  &Á=f &ÁS" PGB|S(¸*(  / (Ï+x Ä%   j    *   Ä( Æ+  &z&   6@   h X h"6    Ä" (u1b  Ä."ˇ @  +  %˘,>  Z  5B &˛ "  Äd"  !$~ A   `d  h$~ . (f`d  +  )(B|G     Ä,^  +  &z,>         'ådb  /   Ä  'å$ (s1d  Ä.$ B Ä   ,^   @  +  %˘/X        Z  5B '7x    Ä4  )(  'å*   Ä2B 'åU ˇ+  &z7@ #˝+  'ï,^  Ä,^   +@ #˝,~     (Ó B  -  %{( (t+  'ú-  %{" (˜0B  É:   !$   (  +  '-  %{ (   $    " (X$ (Ì((ˇ H #Ê } F #p F  ,& (ı1f  .&˝ F $´  #aZ  0&  & (ı1f  .&˝ F $,, '¸ed  , &ò  #Ê "'m $'ˆ, &ò " (p, &ò4& ',& (v &ˇZF #˚@   D   H #Á6H #f+  )å7@ #e+  'ƒ. (Ì5> )IQ&  ÇX&ˆ*&˙  #aQ&h 1X&{*&x  ,>h  @@ #Â Ú/"  Ä,>  6@ #‰+  )D,>  Ä,< #˚ # #|Q"A`,<  Ä7B #f " )Å,<  ,< Ä, #e6@ #‰/ $.,^    #a,^h  !&{X&h 1*&h 6S&ˆX&  Ç*&  Ü/ (Ì B  6D #Â D}eh  Ä
' #| },>  eh  , (,^   (   @@ #f, 'K B},~   + #p6B #a7@ É+  'œZ  Ñ  É  0   0a˛+  )ü6@ #g+  '‚6B  +  'X
$  Ä+  'T
2   1B  +  'X "  ü7  #Ê "  /
"  Ä
   Ä1B  Ü
$   +    0"  ∞/"  1B  ¢+  ('1B  *+  (¶1B  ©+  '‰1B  ,+  'j1B  "+  'h1B  !+  'Â0B  †1B  O@ #g1B  °+  'k0b  Ü+  'l7  #Ê+  'k
& )ì+  '—Z  (+     #a7@h T+  )Ñ " )Ü,~   7B  +  )É
& )Æ,~    " (Ô,~   : x  ,~   
& )^+  '—     @I   @I   @D   @B   @D   @F        
Invalid index for array @I. Index no. @D, value is @D          X    $´   $,  Ö     .   $´7F #|  (o F #|(F˝[F #˚" #˚!&   ) #|Q(A` H #Á,~    B $´  #aZ   B $, " )27  #‰ " )ë $ ), '¸, &ò@   D  
' #|,~   -  %{( (Û      +  '  #a Bh ± "  Ä: h , 4æ h ±`h Ñ, (”,< (h,< (e, /ü w˛*wˇ Xw˛ w*p   Xw, (”,< (h,< (Â, /ü 8w˛ X #f,^h  ,>h  7xˇ!p  1X  Ä#p  18  +  ( /p  / $./ $≠+x Å, (≈ ˇ $   1"  (+  (#   Ä&&  Ç.&  Ä, 7Ú  )èb (ˆ* #|4D (• %  0D #h, 8√  $-+  (Ãg  ÖO   ,>  Ö@v  @z  @r  
(  0D  Ü+  (.
(  6  #‰+  (ø,> (Á, #e+  (ø1D  +  (©  (d0D  1D  Ü+  (æ1D  ç+  )áeD   e  G$  1D  7 (‰D  Å
(  +  (Ø  #a, 3ñ+     h ¨ h - h .,^  ,^  (\  áX6p  ,^  ,^  Ü   Üaz  g  ÉO   +  (¿1D  Ü
(  ,^  É*  5X (¬\> )%	~  é+ (Barˇ5R )? >*U  (k	b  é+ (E  #aZ8h 1*8h 6 ˇ Xh  ,~     #a*x  ,>   8h 1*8h 6 ˛ Xh  ,~   !8h 12Th 6" )"*8  /  Ö+h    #aZ8h º*8h B,~     #aS8h º*8  Ö,~     #a 8 (˙Ph Ñ  5X ([8 (˘: (w&8h    #a.Xh :h Ñd8p l8@  Xh Ñ,~   7xh Ñ,~   9 (Yaxˇ+ `  ,>  7`   P  2T (›+  (a[  + ` Äh4X atˇ+  (ﬁ,^    )6+ `  H  ÖH  H (ÁH (Áy    ( 18 Ç         Ä               %x   &Ä  $¿   Ä     H Ñ  p    
 H    )â  #h	`  
   
@A  (   $  É) =  +  *.  .  .  .  .  ..4 #|.4  0h Ñ0  6$  6$  <   <h Ñ<x  @    @    @B,,@B    ALLOC?    No BAIL
 No DDT
  S   +  &z[@B,@B]              $´ $,
& (˛+  '—
& (˝+  '—$H $´ H $´,> #p+h T,^  Ö+  '—."  =  &iIllegal UUO       áINX          Ä  +  '/(Ú(B|+  'CORGET OUT OF ROOM  Called from @J
    Can't continue
    @F             @D   @B   NO CORE AT ALLOCATION    NO CORE FOR ALLOCATION   VERSION NUMBER MISMATCH  
& )U   (Ú @¸@h #g+  'œDRYROT: RF CLOBBERED AT RESTR gg  eB8                            'å2@ 'å+  (ˇ"   Ä+  &zDRYROT -- NO CORE FOR SYSTEM!PDL   
TYPE DT.RET$G TO CONTINUE

    Called from @J  Last SAIL call at @J
  Procedure parameter almost non-simple   RECUUO CALLED IN NEW RECORD SYSTEM.  RECOMPILE.   
  )+  (√    Å  (Î   ÑS&YR@  Ä+       +  (√ <x  Q<˝. $.4> '8/ $.,>  Ä,>  Ä,>  Ä,>  Ä+  '8/ (Ì  (g,>  *f )J  #a  (Ê.&h  ,>  *f )Ã+  '¥POSSIBLE COMPILED CODE-RUNTIME INCOMPATIBILITY.
CONTINUE IF YOU DARE String space exhausted unexpectedly.
Any attempt to continue will cause a restart.
     Reply [CR] to continue,
[LF] to continue automatically,
"D" for DDT, "E" to edit, "B" for BAIL,
"X" to exit, "S" to restart
  ,>    #a7Dh Ç+  )u,>  Å,>  ,>  Ç   ( Q('ˇ]
  Å"
  ÇQ*  Å@@'ˇ*)  Ç6D  +  )Ó,^  Ç,^  ,^  Å,^  ,~     #a7@h Ç,~    \x á <x Ä*<x . *a~    * h Ç7B  +  )~   Ä @ Å   Ä+  ){, 3â4" *Ü   *ê*   b *ëb * ˇ+   Å   **   Éb *ëb *í+   Å!<y*<  / *,~     *è
   +  *Ü`  +  *Ü+  *     W;                 áINX       ` Ä+   +  *Ü    +  *ÑI      x á p Å!P Å.  Å.  Ç.  PDL overflow in K.OUT routine   #aO@ #c,>    h ™  ˛.!+@   @@ #c Bh ™,^   / $≠+x ÅO@ #c, 2   Ä ˇ  @@ #c/ $-+x O@ #c ˇ 	b`  @@ #c/ $≠+x Åg  !$    #a6@h œ+  *(,>  ,> +	, *ø,^  ZˇeF~ +  *≠"`  Å!"  (B  G  Ä	dr+    / $-+x 1F  é+  *∑1F  +  *71F  â+  *≤0F  +  +l$   +  *´Zh –/"  Ç`d  m"h !"  Ä	bÔ+    l$ @ +  *´m$  l$   &   	fr+    ad  g  G  Zh –/"  `f  m"h !"Z 	bp+    +  *´  #a6@h œ+  *S & ß, 7Ú  +Q$   Dh œ.$   Dh P.$     Q"  	bÚ+    Q$Ó  +ã " # B Ä!"`X" F B # F £.$  Ä*d *«.$  F " ÅQ"` B ÄX"  B   + B X" *Ô B É.$  Q$ˆ Dh –. +à Dh “ ˇ, 7Ú  +ZDh ŒZDh MZDh Õ.ˇZDh N/ $-+x  ^p ¢!>  Ä	~Ú+     > $∞*> $7p " $∑ w\ B  ´	nÓ+    d.  (n *ﬂ  +1p  Å+  +  #a7Oh œ+  *g h –,>   h “,> #xO@ #x,> #c,8  ,^ #c,^ #x x     ´ 3D +å/"   Bw\ $∑p "!: $∞*:  Ü!>  	~Ò+    !>  	~Ú+    p "	`ˆd<@0 ^p Ä!>@ a| @ h>  a|@0e>  d> @ 	~Ò+     p ÄQ  -}w˛  #a6@h œ+  *¯,> +	, *ø ˛eP  +  +dP  +  *ˇ     +A0 ˇ,^˛,_h P,_h œ+@  +    ,~   !  db  7 +
  +ä+  *|1P  +  +1P  â 0  Å1P   0  1P  é 0  Ä!$Z 0p  Å 0   +  *|  +êX â    @   	bk	bo	bq-< *X-< *p6@ #w" ++  *©  +â+  *{DRYROT: INTMOD IRP spare routine called NOT ENOUGH SPACE FOR INTSET     $∑ ˛ D  ´   $∑+  *‡ENABLE or DISABLE of old-style interrupt channel  6@ #w+@ $Æ
:ˇ/ $-+x 6@ #w+@ $Æ
   Ä  #a7Xh ê,~   5x +¶0"  ∞0b  =,~   F"  ,~   0"  †0b  -,~   F"  ,~   
$  Ä7 ,Ü+  +",~   6@ #w+@ $Æ
"ˇ/ $-+x ,>  Ä\"  õ6@ #w+@ $ÆBwˇ,^  Ä/ $-,~   6@ #w+@ $Æ+Ax  , (»: ˇ "  2.Bh 6`h , 4æ6@h Ö, (”S$N,< ,,<h Ñ,^  ,~   1X  Ü
   \Dwˇ_  .Dh +  (Ã\Dwˇ $  2.dh 5d , wˇQ$N,~   6 h ê+  +√08  ∞0x  =,~   F8  ,~   08  †0x  -,~   F8  ,~   , +±
     $-7ˇ
   6@h ê, +@3X  É+  +πXh Ñ*d +H, +º+  +H, +±
(    $-+  +«, +±+      $≠OA
*  +  +π@A+  +«, +±
(  7 $¨
(  18  1X  Ñ+  +÷+  +Ÿ6@h ê, +@Xh Ñ*d +T, +º+  +T X #c+  +π, +±+      $-OAˇ
*  +  +π@Aˇ+  +‘
2   ,~   , +±+      $≠OAˇ
*  +  +∫  ,+  +Ë, +±
(    +d+  +g, +±
     +fX.       $≠@Aˇ 
 8ˇ, 1‡+  +∫  @6#R   .  Ñ\GÛZO˝A   Q2   & +ˆZ   bXO˛+  ,â7Xh ê & +¯4x   & +¸+   cC  Ñ+  +ıaDˇcM  Ñ+  +˛+@  É+   0(  ∞0h  =+  +¯F(  bH  +  ,bA  Ñ+  +sHh Ñ*d +ı, +º+  +ı0(  †0h  -+  +¯+  +x IˇA O4@ +∫`@ˇ+  ,àHh Ñ*b +∫+  +∫  #a ˇ*h ê/ $-+x 
0   +    ,~   ˇ         2
   " ,ç+  +∫bBO~ & +¸+   ,>  ,> ,á, 4ü,^  +  +æTTYIN: cannot retain break char    c@Oˇ+  +˙cBOˇ+  +ıaDˇcLOˇ+  +˛+  +ı, (≈, ,“, ,™  Ä Bh ± OH > H Ñ`H Ñ`H Ñ`H Ñ`H Ñ: H   $-+  (Ã, (≈, ,Á, ,™  Ä Bh ±Z
<   `  Ñ`  Ñ`  Ñ`  Ñ R(  8   XP/ˇ Oˇ  $≠+  (Ã*x  ,>  Ä+@ˇ0(  0h  ú1H  ,~   4( ,ß1H  ñm   d   +  ,•@    , ,§4( ,¨l   , ,Ì0H  eˇ, ,Ô*x  ,>  Ç,>  ,>   ,>  Å@    0H   1H  ¢+  -R1H  "+  -”@j  @      / $¨a`  7  "  ,^   afˇ6@  Ç+  -A,^  ,^  Ç,^  Å+  -Ç, (≈, ,“, ,™h ±+  ,ó, (≈, ,Á, ,™h ±+  ,û, (≈, ,“, ,™, ,C+  ,1"   "  Ä2" -<- ,I& ->d"~ )≤`d  ."  Ä``  "  Ä,~   3b -<2$ -æ+  ,K+   a`  +  ,Õ2" -º3" -∫+  ,N" -…U"ˇ``  S"  ,~   , (≈, ,Á, ,™, ,C+  ,  " -:, 3@AH á@AH   -= .  Ä,~   ? H +  ,`H ÑbOH Ñ+  ,b1H  Ü+  ,÷4H ,÷7@H à+   1H  :H à0H  +   7@H 	+  -?:H 	@AH à+   +B 2ƒ+  ,÷O   +   6@H â+  -B: H Ñ"(  Ç.hH 5( ,÷+B 2ƒ?`H +  ,a`H Ñ+  ,÷  -ΩZ˛ @  ZGˇ,~   <0 ,a  Ñ1H  Ü+  ,j4H ,j+   +@ˇ@j  @   + ,o   ,qeˇ*f ,+@ˇ0(  0h  ú,~   /(  4H ,p.&  Ä`fˇ, ,v, ,˙+  ,[  Å4X - &   6   @   , ,˙=x ,x (X  ,~      %"  l$  .$   ed  ."  Ä   Ç$(  +0 -@l(  .(  eh  + ,˛ D   H  Ç,~      Ç(b -   (b -Ñ.$  ë 6ˇ)
X  /6  #"  Ö/(  [  Å.(  4H -5h -l   "  7 -ª  -;`H`+  -`H  ``  +  -`H  +  -dH  Ä, -4H -(ˇ*x -ë9 -  Ç)|BX @+" -5. -ï``   .   ``  "  Ä,~   " -FOb  a`  e"  @b  +  -,>  Ç@@  Ç `  %B   ` Ä%x  l"  .  eb  :   Ç B  ,^  Ä%`  l$  .  ed  ."  Ä.  Ç`b  +  -%)  Ä/6  Ä!  .`  !   B  Ç D  ,~   (         2         '        /WB       #C<M|    '8Zm†pZg>        É        ç        µ3Lf3Lf3ô(zpQı!#k«46q:„2Jz*yG8Fag?ä9RY%{MpVf3vu5
9J.∆˛}˘sÂKIN       U`-(Vp-1(ˇ)   -" ,÷-" ,j6$  Ä?x   " -Õ+   . $¨= -/ $≠+  - 	H Ñ IH â+  ,cNUMIN: Improper exponent NUMIN: Exponent range exceeded     RFIX: (INTIN or INTSCAN) Number too big DRYROT -- SETPL LOSSAGE DETECTED BY NUMIN    +@x  0H   1H  ¢+@x  1H  ñm   1H  ï+@x  , ,Ì, ,v5F ,5" -√+  ,5,>  ,>  Å,>˛, -‹,^  Å,^  / $-+x Zˇ7 /"  Ä_ˇ#`  $ .ı.""ˇ/&  Å, 7Ú  .},>  Q$  .&  *$ˇ,^  Z`  Ä"`  Ä."  .B  .ˇXB ˇ7 > / $-+x , (≈Zˇ $ &  Ä<" -   .(  Ä/ˇ7`  +  .y$  /$  +  -l68ˇ`x  (F  Ä,>  ÅZ$"  Å.& ,>  Åafˇ, 7Ú  .z,^  Å   Z  .  Å,^  Å,>  @@  Q`  .$  Ä*$gˇZ$   Z7 "`  Q  ,>  Å.$  ÄZ˛   Ä(V  Ä.6  Q`  Ö (~ &  Ä *   <" .â     X Ä.8  Ä/'ˇ F $   'ˇ X  $ .
  .$  Å/(  +  .Ç,^  .$  Ä,^  ZDg7 ˇ\$ Ä Dh ± ˇaf  5$ .(J  Ä/  ÇPh ± D`  4& (Ã`f  PF` Å+  (ÃZˇ,^ˇ7 /$  Ä_ˇ#`  Ä$ .ı.$Z`  +  8√,>  ,>  Ä_
  ÖZ  Ö  .u 0  "  É,/í9 .  .˚,~   7G  ,~   *x  ,>  Å@A  +  .í7C  ,~   @A  ,>  Ç,>   *   , 9&,^  ,^  Ç,~   7C  ,~   ,>  , 9*,~   7C  ,~   ,>  Ä@A  , 9&*x  ,>  Ä+  .í=* .. ˇ / .v+x Ä -  =, .0  .˚7C  ,~   ,>  Ñ,>  Ç,>  ,>  É *  ì, 9&,^  É,^  ,^  Ç,^  Ñ,~   7C  ,~   " /ã,~   ,>  Ñ,>  Ç,>  ,>  É,@  ,^  É,^  ,^  Ç,^  Ñ,~   @A  ,~     #a,^h ÃZV  Ç]V  [P Ä1R     /Ç P RH ÇY  Ä.  ÄZH Ç."P  Z  á/  ÄQ  /  3R  ÇZ`  ZH 7P8  +  .Õ" .u1B  á9 .H4, .Ã$ .ˆ3d  9 .H,/í9 .H4, .O  #a+h ÃZH ÉZH    /& Ä<d .Y:   Å 8  h0  `ap0 `p p9 .Q 0  ,>  É,>  Å,>  , /,^  ,^  Å,^  É9 .QZP  +  .@ 7 /"  Ä78ˇ+  .x4X .w(8ˇ"6  Å$6`  7   /6  Q"  Ö   Ä/ $≠+x Å?6ˇ+  .‰Z˛Q.6`  *8X  / $.+x ZZˇ6 g+  .Ë/8  Ä/6  ÄQ  ÖZ_ˇZgˇ2v  ÜZ  Ü.6gˇ*8X  / $≠+x Å ˇ 6 g+  ./8  Ä0Z     /ÜQ6`  X6` Ä Z`  Zgˇ<z .t.8h  *6`  / $≠+x Å@  ˛    .$  Zˇ+  .‡_ˇ+  .‡" .+  -ÔARRAY no room  DRYROT: BEXIT  NO ROOM FOR ARRAY   ARRAY lower bound gtr  upper bound GO TO OUT OF A PROCESS WILL NOT WORK    YOU CANNOT CLEAR STRING ARRAYS TO OTHER THAN NULL UNTERMINATED PROCESS DEPENDS ON A BLOCK BEING EXITED 
MAY CONTINUE      .   .   .   .    .ß   .Ø   .6   .%   .8   .=   .   .   .   .   .   .´w˛*wˇ*p  w˛+  /üw˛*wˇ*p  w˛+  / g  ÖO     #a,^h  Zw˛4X /HZwˇ4X /G 8h 1*8h 3 Th 6( /`8 /ﬂ1H`  +  /©1(`   (`  5V /©0   . /È, 4É wFh Ñ`d ˇ+  /76@h Ö+  /d h É  Zw˛&~.w4F /≤$˝8 /‡/X  Å4& /‚f /‡`   p  `  Å3D  Å+  /… h Ñ`  Å3D  Å+  /øZwˇZw˛.  .Bh 6`h , 4æ6@h Ö, (”\Bw˛ h Ñ w Vw  ÄF  Ö=d /=Zwˇ+  /¬Zwˇ.Bh 6`h +  /Ê.Bw˛ h Ñ p    F  Ö=b /C Vh Ñ@   , 4É!8h 1*8  / $-+h  ,\w,\w+h  Zwˇ.Xw˛+  /E 6w+  /Ã 6p  Zwˇ4X /‘  #a,^h  ,^h ≥,<wˇ,<wˇ,6 /ﬁ 8h ≥Pp  d8p l8@  XX Ä `  V  +  /£/ $-+  0‚  #a,^h   Th 6 Bh ± "  .Bh 6`h , 4æ6@h Ö, (”,< /_,<h Ñ,^  Ä,^  Xh ÑBh Ñ h ±+h      Ä   0p  0w<  <˛@    @    8 /a/&gn9 /2RwX& /·  Å5F /-+  /7Zw˛.  , 4æ"`  Ä.Bh +  /*Incompatible string widths to CAT, will use MAXIMUM      #a 8h 1*8h 3 Th 6 ˇ Xh  ,~   @   , 4ÉS8h 1*8  /  Ö+h  , /o  $.,<,<˛7Bwˇ+  /Û`bˇ+  0î7Hˇ( 01h  5h /}@Hwˇ. 0ò+  /Û, 4ÉZwˇ.Bh 6`h , 4æ6@h Öff */
                    DAT3 = 0;
                    DAT4 = 0;
                    goto STERM;         /* STERM forwards it */

                case 30:        /* Set Terminal Characteristics */
                    if ( unsigned DAT3 >= $14) MERROR(); /* range-check */

        STERM:      if ( Rp->P_FLAGS & PF_ACT == 0 )
                        break;          /* ignore inactive ports */
                    WAITIS(8);          /* insure space in ISIS ring */
                    if (DAT3 == 5)      /* special handling for
                                           Input Baud Rate */
                    {   Rp->IBRATE = DAT4;
                        PTSMN1();       /* report it back */
                        break;
                    }
                    SLOR(PORTNM,$B1);   /* B1 is Set parameters */
                    PUTCH(DAT3);        /* Dat3 is subtype */
                    PUTCH(DAT4);        /* Dat4 is value */
                    ELOR();
                    break;



        /*      subtype 63 is special case for query ALL parameters     /*
                case 31:        /* query terminal characteristics */
                    if ( Rp->P_FLAGS & PF_ACT == 0 )
                        break;          /* ignore inactive ports */
                    if ( unsigned DAT3 <= $14)
                        PTMSND();       /* send one message */
                    else if ( DAT3 = 63 )
                        for ( DAT3 = 0 ; DAT3 < $14 ; DAT3++ )
                            PTMSND();   /* query all */
                    break;



                case 33:        /* Set Host Number */
                    if ( DAT3 != HOSTN || DAT2 != NPORTS )
                        HDOWN(3);       /* set Gone if changing things */
                    else HDOWN(1);      /* ...otherwise just Down */
                    HOSTN = DAT3;       /* new host number */
                    if ( (HOSTP = PORTNO) == 0 )
                        HOSTP = MAXPORT-2; /* default number of ports */
                    if ( HOSTP > MAXPORT-2 )
                        HOSTP = MAXPORT-2; /* range-check */
                    MXPORT = HOSTP-3;

        17                Internal Maintenance Specification           EBUS.IMS
        Host Output                                               June 23, 1986


                    HSTAT = 2;          /* set Shut */
                    HREPRT();           /* report new Host-state */
                    break;



                case 34;        /* SUP Clock Request */
                    break;              /* just ignore it */



        /*      THE CASES 38, 40, 42, 44, and 46 ARE ALL RELATED TO BLOCK-IO,
                AND ARE TREATED IN THAT SECTION.



                case 51:        /* Set new Timeout Value */
                    TOHOST = HOSTTO = (short) DAT3; /* set variables */
                    break;



                Default:        /* all others */
                    MERROR();   /* message-error Crash */

                }       /* switch */
                continue;

        /*      Must abort..."unread" last message */
        HOUT2:  if ( --PDPOEC < 0 )
                        PDPOEC = PDPOSZ-1; /* back up cursor */
                break;

            }   /* while (not HTDWN) */
            return;
        }




             Specialized internal routines include:

                /* send a single Request Terminal Characteristics Message */
        PTMSND()
        {       if ( DAT3 = 5 )
                    PTSMN1();           /* special case for 5 (IBR) */
                else
                {   ROOM(4);            /* we'll need 4 chars of space */
                    SLOR(PORTNO,$B0);
                    PUTCH(DAT3);        /* subtype */
                    ELOR;
                }
                return;

        18                Internal Maintenance Specification           EBUS.IMS
        Host Output                                               June 23, 1986


        }



                /* return subtype=5 value to host */
        PTSMN1()
        {       DAT1 = $20;
                DAT2 = PORTNO;
                DAT3 = 5;
                DAT4 = Rp->IBRATE;      /* reply with internal IBR */
                WRDAT();
                return;
        }



                /* return Sup response (to AUX-circuit) to host */
        SEND17(v)
        int     v;                      /* value to return */
        {       DAT1 = $17;
                DAT2 = PORTNO;
                (short) DAT3 = v;
                WAITDAT();
                return;
        }



                /* Translate PDP message-length to ISIS message-length */
        int     GEHTLN()
        {       if (  ( int v = ( unsigned char ) TYPBYT ) > $80  )
                    return ( v - $80 + 3 );
                else
                    return ( TRHSTLN[v] );
        }



















        19                Internal Maintenance Specification           EBUS.IMS
        Input from ISIS                                           June 23, 1986






                                 6 -  Input from ISIS


             This section deals with  messages input from ISIS.  Most  of these
        will be transliterated, and forwarded to the host.

             Block-IO will be treated in a seperate section.

               NOTE:   ISIS  input  is  "throttled"  by  counter "IRRN";
                       this  limits ISIS  input to  no more  than IRSIZE
                       bytes per EXEC-loop (i.e.,  we do no more  than 1
                       input-ring's worth per go-roundie).

             The code consists of:

        ISISIN()
        {   while ( not HTDWN)          /* while the host is up... */
            {   PUTIFC();               /* tell host our current cursor */
                if ( not LOOK() )       /* if nothing there */
                    break;              /* ...then we quit */
                SETPORT(PORTNM);        /* set up port parameters */
                FDRGSZ();               /* determine space in the ring */
                if ( IRRN > IRSIZE )
                    break;              /* do no more then 1 ring's worth */
                if ( PORTNO == 0 )


        /*      Process port-0 messages         */
                {   static char INISLN[] =      /* message-length table */
                /* ISIS 0  1  2  3  4  5  6  7  8  9 0A 0B 0C 0D 0E 0F 10 */
                {       0, 0, 2, 0, 0, 0, 6, 0, 0, 3, 0, 0, 0, 2, 0, 0, 0 };

                    if ( INRGSP > $10 )
                        ISMGER();       /* range-check */
                    if ( INRGSP < INISLN[INTYBT] )
                        break;          /* no room for message */

                    switch (INTYBT)


                    case 2:             /* SUP Takeover */
                    case 13:            /* SUP lost */
                        AUXX = -1;      /* cancel any AUX in progress */
                        DAT1 = 5;
                        DAT2 = 0;
                        goto SENDDAT;   /* tell PDP Msg5, P0 */


                    case 6:             /* Sup Time */

        20                Internal Maintenance Specification           EBUS.IMS
        Input from ISIS                                           June 23, 1986


                        DAT1 = $23;     /* Msg 23 */
                        DAT2 = 0;       /* port 0 */
                        GETCH();        /* skip pading */
                        (short) DAT3 = GETH(); /* high GMT */
                        WRDAT();        /* send that in */
                        (short) DAT1 = GETH(); /* low GMT */
                        (short) DAT3 = 0; /* padding */
                        goto SENDDAT;   /* pass it on */


                    case 9:             /* Aux Circuit Error */
                        AUXX = -1;      /* cancel AUX circuit */
                        DAT1 = $17;     /* Msg 17 */
                        GETCH();        /* skip padding */
                        DAT2 = GETH();  /* p = local key */
                        DAT3 = GETCH(); /* reason */
                        if ( DAT3 = 0 )
                            DAT3 = 7;   /* 0 -> 7 */
                        goto SENDDAT;

                    case 11:            /* host unacceptable */
                        GETCH();        /* just ignore it */
                        GETH();
                        GETCH();
                        goto CLEANUP;


                    default:
                        ISMGER();       /* CRASH for anything else */

                }   /* PORTNO == 0 */
                /*      We've now processed all Port-0 messages         */


                        /* for PORTNO != 0 */
                if ( INTYBT == 0 )


        /*      special case for Needles        */
                {   if ( not ROOM(4) )
                        break;          /* quit this pass if there's not
                                           enough room in the ISIS ring to
                                           return a 4-byte message */
                    SLOR(PORTNM,$B9);   /* set transmit-limit.. */
                    PUTCH(30);          /* ...to 30 */
                    ELOR;
                    if (INRGSP < 80 )
                        break;          /* quit this pass if there's not
                                           enough room in the PDP's ring
                                           to hold 20 words of messages */
                    GETCH();            /* ignor key */
                    GETW();             /* ignor invoice */
                    GETH();             /* ignor Dest. Host */

        21                Internal Maintenance Specification           EBUS.IMS
        Input from ISIS                                           June 23, 1986


                    NORNODE = GETH();   /* record Orig. node */
                    NORHOST = GETH();   /* record Orig. Host */
                    NORPORT = GETH();   /* record Orig. port */
                    GETW();             /* ignor Extra IN | XXX | TPC */
                    NCCT = GETCH();     /* record CCT */
                    NSIZ = GETCH();     /* record user-string size */
                    for ( { n=0; char *p=DAT5 } ; n < NSIZ ; n++ )
                        *p++ = GETCH(); /* copy username into DAT5+ */
                    if ( PFULL )
                    {   WAITISW();      /* no more ports... */
                        SLOR(PORTNM,$BE); /* Zap w/reason */
                        PUTCH(0);
                        ELOR();
                        FLUSH(NSIZ);    /* flush the needle */
                        continue;
                    }
                    DAT1 = 6;           /* new logon */
                    DAT2 = PORTNM;
                    (short) DAT3 = NORHOST;
                    WAITDAT();          /* send to host */
                    DAT1 = $82;         /* send succession of 2-byte
                                           data-messages to host */
                        /* record input baud-rate */
                    Rp->IBRATE = TIDBD[ $1F & ( DAT3=NCCT) ];
                    DAT4 = NORNODE >> 6;
                    WAITDAT();          /* CCT | O.Node(high) */
                    DAT3 = NORNODE;
                    DAT4 = NORPORT;
                    WAITDAT();          /* O.Node(low) | O.Port */
                    for ( { n=NSIZE; char *p=DAT5 } ; n > 0 ; n -= 2 )
                   {    if ( n == 1 )
                            DAT1 -= 1;  /* 1-byte last Msg if odd
                                              number of chars */
                        (short) DAT3 = (short) *p++;
                        WRDAT();        /* copy username into PDP */
                    }
                    goto CLEANUP;
                }       /* INTYBT == 0 */
                /*      We've now processed Needles     */

                if ( INTYBT > $9D )


        /*      Process Normal-port Control-Signal      */
                {    switch ( INTYBT )
                    {

                */      the following cases share common code   */
                    case $9F:           /* Zapper */
                        if ( Rp->P_FLAGS & PF_ACT != 0 )
                        {   DPORT();    /* reduce port-count */
                            RBTALL();   /* clear port-stuff */
                        }

        22                Internal Maintenance Specification           EBUS.IMS
        Input from ISIS                                           June 23, 1986


                        goto ISP;       /* ISP contains common code */

                    case $A0:           /* Apply back-pressure */
                        Rp->P_FLAGS != PF_OBP; /* set back-pressure on */
                        goto ISP;

                    case $A1:           /* Release back-pressure */
                        Rp->P_FLAGS &= not PF_OBP; /* set off */
                        goto ISP;

                    case $A4:           /* black-ball */
                        DAT3 = -1;      /* distinguishes between A4 and A5 */
                        goto ISP;

                    case $A5:           /* gray-ball */
                        DAT3 = 0;       /* distinguishes between A4 and A5 */
                        goto ISP;

                    case $AC:           /* Yellow-ball */
        /*      Yellow-ball is special because it interracts with BIO   */
                        if ( Rp->P_FLAGS & PF_BKI == 0 )
                            goto STREAM; /* Block-input not active */
                        if ( Rp->P_FLAGS & PF_BFD != 0 )
                            goto STREAM1; /* Block was filled */
                        Rp->P_FLAGS != PF_BFD; /* ...it is now */
                        DAT1 = $28;     /* report it */
                        DAT2 = PORTNM;
                        (short) DAT3 = Rp->BI_LCN;
                        WAITDAT();      /* send it */

                    case $A2:           /* Gobbler */
                        if ( Rp->P_FLAGS & PF_HBP == 0 )
                        {   /* no host-applied BP */
                            DEMPTY();   /* empty the buffer */
                            BU_EMP();   /* release Bp */
                        }
                        goto ISP;       /* forward it in */


                    case $A6:           /* Enter DEM */
                    case $A7:           /* Leave DEM */
                    case $AA:           /* Green-ball */
                    case $AB:           /* Red-ball */
                    case $AE:           /* Break-begin */
        /*      Special cases for in-stream control-signals.  These must
                retain their position relative to individual data-characters.
                Thus, we can't forward them if there is data in the buffer.
        */
        STREAM:         if ( Rp->BCT == 0 )
                            goto ISP;   /* buffer empty...proceed */

        /*      We must buffer the control-signal.  We do this by placing
                the sequence "ESC" | "Sig" into the buffer.

        23                Internal Maintenance Specification           EBUS.IMS
        Input from ISIS                                           June 23, 1986


        */
        STREAM1:            DWCI(ESC); /* place ESC into buffer */
                        DWCI(INTYBT);   /* followed by signal */
                        goto CLEANUP;


                    case $AD:           /* Orange-ball */
        ISP:            LOOKUP();       /* translate it */
                        goto PUTPR;     /* ...and send it */


                    case $B1:           /* Terminal Characteristics Response */
                        DAT1 = $20;     /* type */
                        DAT3 = GETCH(); /* subtype */
                        DAT4 = GETCH(); /* value */
                        goto PUTPN;     /* place port# & send it */


        /*      In HOSTOUT, we serviced requests for an AUX circuit, and
                submitted an AUX-Pseudoneedle request to ISIS.  These cases
                are the response to that request.
                ISIS/Node code may reject the request, and we'll get a B5
                message;
                If successful, we'll get a B2, followed by a B6.
        */


                    case $B2:           /* Pseudo-needle */
                        RBTALL();       /* clean up port */
                        GETCH();        /* ignor padding */
                        Rp->AUXKEY = GETH(); /* save key */
                        if ( not PFULL )
                        {   /* ports still available */
                            AUXX = -1;  /* enable another attempt */
                            Rp->P_FLAGS != PF_ACT; /* set active */
                            IPORT();    /* count another port in use */
                            goto CLEANUP;
                        }
                        WAITISW();      /* no more ports.. */
                        SLOR(PORTNM,$BE); /* Zap W/reason */
                        PUTCH(0);
                        ELOR();
                        DAT3 = 8;       /* set out of ports */
                        goto LOGFAL;


                    case $B5:           /* Logon Failure */
                        DAT3 = GETCH(); /* reason */
                        if ( DAT3 = 0 )
                            DAT3 = 7;   /* reason 0 -> 7 */

        LOGFAL:         DAT1 = $17;     /* message $17 */
                        DAT2 = AUXQ;    /* port = key */

        24                Internal Maintenance Specification           EBUS.IMS
        Input from ISIS                                           June 23, 1986


                        AUXX = -1;      /* enable another attempt */
                        goto SENDDAT;


                    case $B6:           /* Logon OK */
                        SLOR(PORTNM,$B9); /* set transmit-limit */
                        PUTCH(30);      /* ...to 30 */
                        ELOR();
                        GETCH();        /* skip padding */
                        GETW();         /* skip Invoice */
                        GETH();         /* skip Orig. host */
                        DAT1 = 7;       /* message 7 */
                        DAT2 = PORTNM;
                        DAT3 = Rp->AUXKEY;
                        WAITDAT();      /* send it */
                        DAT1 = $17;     /* message $17 */
                        DAT2 = Rp->AUXKEY; /* requesting port */
                        (short) DAT3 = 0; /* success */
                        goto SENDDAT;



                    case $B9:           /* set transmit limit */
                        Rp->XMITLMT = ( ( GETCH() - 5 ) & -4 ) + 2;
                        goto CLEANUP;


                    case $9E:           /* Detach */
                    case $A3:           /* flush input */
                    case $A8:           /* enter transparancy */
                    case $A9:           /* leave transparancy */
                    case $AF:           /* hang-up */
                    case $B0:           /* query Terminal Characteristic */
                    case $B4:           /* Logon Status */
                    case $B8:           /* Super-hang */
                    case $BA:           /* Break-end */
                    case $BB:           /* Zap Ack. */
                    case $BC:           /* Enter alt. device mode */
                    case $BD:           /* Leave alt. device mode */
                    case $BE:           /* Zap w/reason */
                    case $BF:           /* SIIX */
                    case $C0:           /* TIIX */
                        goto CLEANUP;   /* just ignor these */


                    default:            /* all others */
                           ISMGER();    /* fatal error */

                    }   /* switch (INTYBT) */
                    continue;
                }    /* if ( INTYBT > $9D ) */
                /*      At this point, we've processed any message other than
                        a data-message */

        25                Internal Maintenance Specification           EBUS.IMS
        Input from ISIS                                           June 23, 1986


                */

                /*      Any message not yet processed must be text      */



        /*      This gets complicated.  Data from ISIS may go to any of three
                 destinations:
                  To the port's buffer (if anything is already buffered);
                  To the port's Block-input (if active and not filled);
                  To the port's buffer (if Bin active and filled);
                  To the port's buffer (if host has applied back-pressure);
                  else, To the PDP's input-ring.
                Furthermore, for a variety of reasons, we may need to "split"
                 the data, and service the ISIS message in multiple fragments.
                This may occur if:
                  The full message is too long (we limit host input to 30
                   bytes / message);
                  We must split the message to allow for PDP-ring Wrap;
                  A part of the ISIS message "fills" the Block-input buffer.
                The destination after "splitting" will always be the buffer.
        */
                if ( Rp->BCT != 0 )     /* buffer not empty */
                    goto IS_BU;         /* then copy ISIS to Buffer */
                if ( Rp->P_FLAGS & PF_BKI != 0 ) /* Block-input active */
                    goto IS_BK;         /* then copy ISIS to Block */
                if ( Rp->P_FLAGS & PF_HBP != 0 ) /* host-applied BP */
                    goto IS_BUF;        /* then copy ISIS to Buffer */
                if ( INRGSP == 0 )      /* no room in ring */
                    goto IS_BUF;        /* then copy ISIS to Buffer */

                /* Not engaged in Block-input, and no need to buffer */
                register n = INRGSP-2;  /* determine length available */
                if ( n > 30 )           /* never use more than 30 */
                    n = 30;
                if ( n > INTYBT )
                    n = INTYBT;         /* send no more than in message */
                DAT1 = n + $80;         /* message type */
                DAT2 = PORTNO;
                register char *p = DAT3;
                for ( ; n > 0; n-- )
                {   *p++ = GETCH();     /* copy data into DAT */
                    INTYBT--;
                }
                for ( register long *q = DAT ; q < p ; )
                    WRPDP( *q++ );      /* copy DAT to PDP */
                if ( INTYBT == 0 )
                    goto CLEANUP;       /* we've not split data..done */
                /* no...tell PDP data is there, buffer rest */
                PUTIFC();


        /*      Buffering data...insure we'll remove it later */

        26                Internal Maintenance Specification           EBUS.IMS
        Input from ISIS                                           June 23, 1986


        IS_BUF: if ( Rp->BCT == 0 )
                    BUFADD();           /* insure it's on buffer-queue */


        /*      Copying ISIS-ring to buffer     */
        IS_BU:  while (INTYBT-- > 0 )
                {   char c = GETCH();   /* get the char */
                    if ( c== ESC )
                        DWCI(ESC);      /* escape data-codes = ESC */
                    DWCI(c);            /* buffer the data */
                }
                if ( Rp->BCT > BKPR )   /* need to apply back-pressure */
                {   Rp->P_FLAGS != PF_IBP; /* record back-pressure */
                    SENDQI(PORTNO,$A0); /* apply back-pressure */
                }
                goto CLEANUP;           /* done */



                /*      Common Loop-exit Processes      */

        PUTPN:  DAT2 = PORTNM;          /* place port-number in message */

        SENDDAT: WRDAT();               /* forward message to PDP */

        CLEANUP: ELIR();                /* close ISIS message input */

            }   /* while ( not HTDWN) */
            return;
        }




             Some special functions are provided:

        /*      Translate ISIS control-signal to PDP-message and send it */
        LOOKUP();
        {       static char     ISPTAB[]
        /*      ISIS #  = 9F,A0,A1,A2,A3,A4,A5,A6,A7,A8,A9,AA,AB,AC,AD,AE */
                {       = 11, 8, 9,10, 0,21,21,12,13, 0, 0,14,15,16,17,47 };
                DAT1 = ISPTAB[ INTYBT-$9F ];
                return;
        }










        27                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986






                                    7 -  Block-I/O


             Block-I/O is a  special form of Host  I/O which is  independent of
        the normal Host input- and output-rings.

             Via  special  messages (passed  in  the rings),  the  host request
        either  Block-input (Bin)  or  Block-output (Bout);  arguments  are the
        block start-address and a byte-count.






                                7.1  Request for Ports


             Before any Block-IO transaction, the PDP queries  the availability
        of BIO  capabilities (for historical  reasons:  In  the Varian/TYMNET-I
        implementation, there  were only a  limited number of  BIO descriptors;
        this constraint does not apply to EBUS).

             Thus, in response to the host request, we perform:

                case 45:        /* $2E: Request for Block-IO ports */
                    WAITDAT();          /* just return his request */
                    PUTIFC();           /* promise all he asked for */
                    continue;






                                   7.2  Block-Output


             Block-output  is  relative  straight-forward:   The  host  makes a
        request, and  we transmit  the data  until the  block is  exhausted, or
        until the host cancels the request.  In either case, we then inform the
        host of the status.

             The requests are serviced by:

                case 36:        /* $24: Request for block-output */
                    if ( Rp->P_FLAGS & PF_ACT == 0 /* port not active */
                      || Rp->P_FLAGS & PF_BKO != 0 ) /* Bout active */
                    {   RDPDP();        /* just skip second word */

        28                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986


                        continue;
                    }
                    list *p = BLKFREE;  /* get a list entry */
                    BLKFREE = p->next;
                    p->next = BKOHEAD;
                    p->port = PORTNO;
                    BKOHEAD = p;        /* place entry onto BKO list */
                    RP->BO_TCN = (short) DAT3; /* total count */
                    RP->BO_TAR = RDPDP(); /* block address */
                    RP->BO_BYT = 0;     /* next byte to send */
                    continue;



                case 42:        /* $2A: Terminate Block-output */
                    BKOTERM($2D);       /* reason $2D -- Bout Termination */
                    continue;




             The process which actually performs block output is:

                /*      Perform Block-output for all active ports,
                        subject to ISIS back-pressure
                */
        DOBKOUT()
        {   if ( HTDWN ) return;        /* the host must be up */
            SAVE1 = BKOHEAD;
            while  (SAVE1 != 0 )
            {   SETPORT( SAVE1->port ); /* set up port */
                SAVE1 = SAVE1->next );  /* next entry */
                if ( Rp->P_FLAGS & PF_OBP != 0 )
                    continue;           /* skip ports back-pressured */
                int n = Rp->BO_TCN;     /* number we have */
                if ( n > Rp->XMITLMT )
                    n = Rp->XMITLMT;    /* number we can send */
                if ( not ROOM( n+3 );
                    continue;           /* skip port if no room in ring */
                SLOR(PORTNO,n);         /* message-type = count */
                RDBLK();                /* get the first word */
                while ( n-- > 0 )       /* copy bytes */
                {   PUTCH( DAT[ Rp->BO_BYT++ ];
                    Rp->BO_TCN--;       /* count byte transmitted */
                    if (Rp->BO_BYT >= 4 ) /* word exhausted */
                    {   (Rp->BO_BYT = 0; /* fold cursor */
                        RDBLK();        /* ...and get next word */
                    }
                }       /* while n > 0 */

                ELOR();                 /* done */
                if ( Rp->BO_TCN == 0 )
                    BKOTERM($25);       /* block done */

        29                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986



            }   /* while SAVE1 != 0 */
            return;
        }


        /*      Terminate Block-output  */
        BKOTERM(v)
        int     v;                      /* reason for termination */
                RBTBKO();               /* cancel Bout */
                DAT1 = v;               /* termination reason */
                DAT2 = PORTNO;
                WAITDAT();              /* send it */
                PUTIFC();
                return;
        }






                                   7.3  Block-Input


             Block-input  (Bin) is  significantly more  complicated.   The host
        will initially make a Bin  request fo a particular port;   this enables
        BKI mode.  This mode  is retained until the host  explicitly terminates
        block-input.  while this mode is in progress, successive data is placed
        into the  specified block  until this block  is terminated:   there are
        three reasons for terminating a block:

           The block is filled;
           An End-Of-Transmission (EOT, designated by arrival of a Yellow-ball)
               is received; or
           No data has been received for more than 16 seconds.

             When a block is Filled ("BFD" state), any subsequent data arriving
        is placed  into a buffer;   if a new  block is specified,  the buffered
        data will be  copied into the block.   If, however, Bin  is terminated,
        this buffered data must be forwarded into the host via the regular host
        input-ring  mechanism (subject,  of course,  to back-pressure  from the
        host).

             The code which services the requests is:

                case 38:        /* $26: Request for block-input */
                    if ( Rp->P_FLAGS & PF_BKI == 0 ) /* Bin not active */
                    {   Rp->P_FLAGS != PF_BKI; /* set active */
                        RBTBUF();       /* remove buffer from buffer-list */
                        list *p = BLKFREE; /* get a list entry */
                        BLKFREE = p->next;
                        p->next = BKIHEAD;

        30                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986


                        p->port = PORTNO;
                        BKIHEAD = p;    /* place entry onto BKI list */
                    }
                    Rp->P_FLAGS &= not PF_BFD; /* clear Filled */
                    RP->BI_TCN = (short) DAT3; /* total count */
                    RP->BI_TAR = RDPDP(); /* block address */
                    RP->BI_LCN = 0;     /* local count (# received) */
                    RP->BI_BYT = 0;     /* next byte to fill */
                    RP->BI_TIM = *.SLOWC; /* current time */
                    if ( Rp->BCT > 0 )
                        BU_BK();        /* try to empty buffer */
                    continue;


                case 44:        /* $2C: Terminate Block-input */
                    if ( Rp->P_FLAGS & PF_BFD == 0 ) /* if Filled, */
                        BKITERM($2C);   /* message $2C */
                    else BKITERM($2B);  /* message $2B */
                    RBTBKI();           /* cancel Bin */
                    if ( Rp->BCT > 0 )
                        BU_ADD();       /* insure buffer will be flushed */
                    continue;




             ISISIN executes the following code for Block-input:

        BLOKIN: if ( Rp->P_FLAGS & PF_BFD == 0 ) /* if Filled, */
                    goto IS_BU;         /* move to buffer */
                n = Rp->BI_TCN - Rp->LCN; /* space left */
                if ( n > INTYBT )
                    n = INTYBT;         /* number of chars */
                GETBLK();               /* get the current word to fill */
                while ( n-- > 0 )
                /*      copy chars      */
                {   DAT[Rp->BI_BYT++] = GETCH();
                    if ( Rp->BI_BYT > 3 )
                    {   WRBLK();        /* word full..send it */
                        Rp->BI_BYT = 0; /* cycle counter */
                    }
                    INTYBT--;
                    Rp->BI_LCN++;       /* counting... */
                }       /* while n > 0 */

                /*      n bytes transfered...clean up   */
                if ( Rp->BI_BYT != 0 )
                {   WRBLK();            /* send in partial word */
                    Rp->BI_TAR--;       /* ...and back up word-cursor */
                }
                Rp->BI_TIM = *.SLOWC;   /* record time */
                if ( Rp->BI_TCN == Rp->BI_LCN )
                    BKITERM($27);       /* report Filled */

        31                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986


                if ( INTYBT == 0 )
                    goto CLEANUP;       /* message exhausted */
                else
                    goto IS_BU;         /* more in message...buffer it */



               NOTE:   See also ISISIN : Control-signal case $AC:.  This
                       specifies the activity incured if an EOT (Yellow-
                       ball) is encountered.

             In  addition,  there  are  also  additional  processes  which  are
        executed as  a part  of the  "EXEC-loop", rather  than being  driven by
        input:

        /*      EXEC-loop Processes     */
            if ( HTDWN ) goto EXEC;     /* the host must be up */


        /*      Examine all active block-input for timeouts     */
            SAVE1 = BKIHEAD;
            while  (SAVE1 != 0 )
            {   SETPORT( SAVE1->port ); /* set up port */
                SAVE1 = SAVE1->NEXT );  /* next entry */
                if (  ( Rp->BI_TIM - *.FASTC )  > 9600 ) /* 16 seconds */
                    if ( Rp->P_FLAG & PF_BFD == 0 ) /* and not Filled */
                        BKITERM($29);   /* block done -- timeout */
                    continue;           /* skip ports back-pressured */

            }   /* while SAVE1 != 0 */



        /*      Examine all active block-input for buffered-data        */
            SAVE1 = BKIHEAD;
            while  (SAVE1 != 0 )
            {   SETPORT( SAVE1->port ); /* set up port */
                SAVE1 = SAVE1->NEXT );  /* next entry */
                if ( Rp->P_FLAG & PF_BFD == 0 /* not Filled */
                    && Rp->BCT > 0 )    /* and data buffered */
                        BU_BK();        /* flush those buffers */

            }   /* while SAVE1 != 0 */



        /*      Examine Buffer-list for buffered-data   */
            SAVE1 = BUFHEAD;
            while  (SAVE1 != 0 )
            {   SETPORT( SAVE1->port ); /* set up port */
                SAVE1 = SAVE1->NEXT );  /* next entry */
                BU_RG();                /* try to flush */
                if (Rp->BCT == 0 )      /* now empty */

        32                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986


                   RBTBUF();            /* ...remove from service */

            }   /* while SAVE1 != 0 */

        goto EXEC;                      /* Done...start over */




             The functions which do all the work are:

        /*      Move data from buffer to ring   */
        BU_RG()
        {       if ( Rp->BCT == 0 )
                    return;             /* don't try if buffer empty */
                if ( Rp->P_FLAGS & PF_HBP != 0 )
                    return;             /* ...or if host has applied BP */
                INTYBT = 30;            /* parameter to call... */
                BKINSZ();               /* find size of message we can send */
                INRGSP = ( INRGSP > 32 ) ? 30 : ( INRGSP - 2 );
                DAT1 = 0;               /* count bytes */
                DAT2 = PORTNO;
                char    *p = DAT3;      /* where the next char goes */
                INTYBT = 0;             /* used to record control-codes */
                while ( Rp->BCT != 0 )
                {   if ( DAT1 >= INRGSP )
                        break;          /* message full */
                    c = DGCI();         /* get the next char */
                    if ( c == ESC )
                    {   if (Rp->BCT == 0 ) FCRASH($60);
                        c = DGCI();     /* get escaped char */
                        if (c != ESC )
                        {   INTYBT = c;
                            break;      /* abort -- Control-signal */
                        }
                    }
                    *p++ = c;           /* save char away */
                    DAT1++;             /* count another char */
                }       /* while Rp->BCT > 0 */

                if ( DAT1 != 0 )
                {   DAT1 != $80;        /* make proper message type */
                /*      now copy the message (in DAT) into the PDP      */
                    for ( char *pp = DAT ; pp < p ; WRPDP( *pp++ );
                    PUTIFC();           /* insure host sees it */
                }
                BU_COD();               /* report control-signal (if any) */
                BU_RGX();               /* see if buffer empty */
                return;
        }




        33                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986


                /*      Input any code in INTYBT        */
        BU_COD()
        {       if ( INTYBT != 0 )      /* something to do */
                {   LOOKUP();           /* yes...look it up */
                    DAT2 = PORTNO;
                    WAITDAT();
                    PUTIFC();           /* pass to host */
                }
                return;
        }



                /*      see if buffer empty -- release Back-pressure if so */
        BU_RGX()
        {       if ( Rp->BCT == 0 )     /* something to do */
                {   if ( Rp->P_FLAG & PF_IBP == 0 )
                        return;         /* back-pressure not applied */
                    Rp->P_FLAG &= not PF_IBP;
                    SENDQI(PORTNO,$A1); /* release back-pressure */
                }
                return;
        }



        /*      Move data from buffer to block  */
        BU_BK()
        {
        BU_BK:  INTYBT = 0;             /* used to record control-codes */
                GETBLK();               /* get the current word to fill */
                while ( Rp->BCT != 0 )
                {   if ( Rp->BI_LCN == Rp->BI_TCN )
                        break;          /* block full */
                    c = DGCI();         /* get the next char */
                    if ( c == ESC )
                    {   if (Rp->BCT == 0 ) FCRASH($60);
                        c = DGCI();     /* get escaped char */
                        if (c != ESC )
                        {   INTYBT = c;
                            break;      /* abort -- Control-signal */
                        }
                    }
                    DAT[Rp->BI_BYT++] = c; /* save char away */
                    if ( Rp->BI_BYT > 3 )
                    {   WRBLK();        /* word filled */
                        Rp->BI_BYT = 0;
                    }
                    ++Rp->BI_LCN;       /* count another char */
                }       /* while Rp->BCT > 0 */

                if ( Rp->BI_BYT != 0 )


        34                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986


                {   WRBLK();            /* save partial word */
                    Rp->BI_TAR--;       /* ...back up word-cursor */
                }

                if ( INTYBT == YB_CODE )
                    BKITERM($28);       /* EOT */
                else if ( Rp->BI_TCN == Rp->BI_LCN )
                    BKITERM($27);       /* block done */
                if ( INTYBT != 0 )
                    BU_COD();           /* report control-signal */
                if ( Rp->P_FLAG & PF_BFD == 0 ) /* not yet Filled */
                    goto BU_BK;         /* continue */
                BU_RGX();               /* release back-pressure */
                return;
        }



        BKITERM(v)
        int     v;                      /* reason for termination */
        {       Rp->P_FLAG != PF_BFD;   /* set Filled */
                DAT1 = v;               /* set reason for termination */
                DAT2 = PORTNO;
                DAT3 = (short) Rp->BI_LCN; /* how much we did */
                WAITDAT();              /* report completion to host */
                PUTIFC();               /* insure host sees it */
                return;
        }




             Primative routine for managing lists are:

                /*      Remove an entry from BKI list   */
        RBTBKI()
        {       if ( Rp->P_FLAGS & PF_BKI == 0 /* not active */
                    return;
                Rp->P_FLAGS &= not PF_BKI;
                UNLINK( $BKIHEAD );     /* unlink entry for this port */
                return;
        }



                /*      Remove an entry from BKO list   */
        RBTBKO()
        {       if ( Rp->P_FLAGS & PF_BKO == 0 /* not active */
                    return;
                Rp->P_FLAGS &= not PF_BKO;
                UNLINK( $BKOHEAD );     /* unlink entry for this port */
                return;
        }

        35                Internal Maintenance Specification           EBUS.IMS
        Block-I/O                                                 June 23, 1986


                /*      Remove an entry from BUF list   */
        RBTBUF()
        {       UNLINK( $BUFHEAD );     /* unlink entry for this port */
                return;
        }



                /*      Remove an entry from list       */
        UNLINK(p)
        link    *p;                     /* pointer to list */
        {       while (   ( link *pp = *p )  != 0 )
                {   if ( p->port != PORTNO )
                    {   p = pp;         /* continue search */
                        continue;
                    }
                    *p = pp->next;      /* unlink it */
                    pp->next = BLKFREE; /* append free-list */
                    BLKFREE = pp->next; /* this becomes new head */
                    break;              /* done */
                }       /* while... */
                return;
        }



                /*      Place an entry onto the BUF list        */
        BU_ADD();
        {       list *p = BLKFREE;      /* get a list entry */
                BLKFREE = p->next;
                p->next = BUFHEAD;
                p->port = PORTNO;
                BUFHEAD = p;            /* place entry onto BUF list */
                return;
        }



                /*      Close a port...reset everything */
        RBTALL()
        {       RBTBKO();               /* reset Block-output */
                RBTBKI();               /* reset Block-input */
                DEMPTY();               /* empty buffer */
                RBTBUF();               /* un-queue buffer */
                Rp->XMITLMT = 157;      /* reset transmit-limit */
                Rp->P_FLAGS = 0;        /* clear all flags */
                return;
        }






        36                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986






                               8 -  I/O and Buffer Logic


             EBUS contains  code for  both Engine  DMA (i.e.,  ISIS Dispatcher-
        ring) I/O, and for PDP-10  (i.e., Ebus) transfers.  It also  contains a
        variant  of conventional  buffer (and  bufferlet)  management (although
        buffers are used ONLY on  the PDP-input path, and then only  for normal
        data and those control  signals which MUST maintain  sequentiality with
        the user data).

             These routine are so fundamental to operation that they  are coded
        as self-contained  routines, and in  the body of  the code  are treated
        almost  as  though  they   were  primative  extensions  to   the  basic
        instruction-set.






                                8.1  Engine DMA Access


             The (1-Meg address-space) memory of the engine is  mapped directly
        into the  address-space of  the 68K, consuming  addresses in  the range
        $E00000 to  $EFFFFF.  the  only constraint on  transfers is  that Byte-
        transfers are not permitted;  only word (W) and long (L)  transfers are
        allowed.  This  has an  impact only  in the  PUTCH routine,  which must
        emulate  a  byte  transfer  by  manipulation  of  Engine  Half-word (W)
        operands.

             For convenience and efficiency, certain of the 68K  registers have
        been renamed, and are reserved  for the exclusive use of  the ISIS-ring
        routines:

        typedef struct  ISISRING
        {       short   NFMI;
                short   CEI;
                char    ring[100];      /* the size "100" is a dummy */
        }       isisring;

                isisring Rs;            /* pointer to ISIS input-ring */
                isisring Rd;            /* pointer to ISIS output-ring */
                short   Cs;             /* input-ring cursor */
                short   Cd;             /* output-ring cursor */





        37                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


                    8.1.1  ISIS-ring Output Routines

             There are nine routines dealing with ISIS-ring output:



        8.1.1.1  Room

             Room  is passed  the number  of bytes  required.  It  examines the
        output-ring  and  determines  if that  amount  of  space  is available,
        returning TRUE if so, else FALSE:

        ROOM(n)
        int     n;
        {       int     m;              /* used to compute space */
                Cd = Rd->NFMI;
                if ( ( m = Cd - Rd->CEI ) < 0 )
                        m = ORSIZE - m;
                if ( m >= n ) return TRUE;
                else return FALSE;
        }



        8.1.1.2  WAITIS

             WAITIS is passed the number of bytes required.  It  waits, calling
        ROOM repeatedly, until ROOM returns TRUE.

        WAITIS(n)
        int     n;
        {       While ( ROOM( n ) );
                return;
        }



        8.1.1.3  WAITISW

             WAITISW  is  defined  for  convenience;   it  invokes  WAITIS with
        parameter value 4 (wait for 4 bytes):

        WAITISW
        {       WAITIS( 4 );
                return;
        }








        38                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


        8.1.1.4  SLOR

             Start_Logical_Output_Routine  (SLOR) is  used to  initialize ISIS-
        ring output.  Arguments are port number and message-type:

        SLOR(p,t)
        int     p, t;
        {       Cd = Rd->NFMI;
                Rd->ring[Cd] = (short) p;       /* place port-number */
                Rd->ring[Cd+2] = (char) t;      /* place type */
                Cd += 3;
                return;
        }



        8.1.1.5  PUTCH

             PUTCH places a single character into the ring.  It  is complicated
        by the inability to address single bytes in the Engine.

        PUTCH(c)
        char    c;
        short   HW;
        {       HW = (short) Rd->ring[ Cd&(-2) ];
                if ( (Cd & 1) = 0)
                        HW = (HW & $0FF) | (c << 8); /* left byte */
                else
                        HW = (HW & $0FF00) | c; /* right byte */
                (short) [ Cd&(-2) ] = HW;
                if ( ++Cd >= ORSIZE ) Cd = 0;
                return;
        }



        8.1.1.6  PUTH

             PUTH places a single short into the ring.

        PUTH(s)
        short   s;
        {
                (short) Rd->ring[ Cd ] = s;
                if ( ( Cd += 2 ) >= ORSIZE ) Cd = 0;
                return;
        }







        39                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


        8.1.1.7  PUTW

             PUTW places a single long into the ring.

        PUTW(l)
        long    l;
        {
                (long) Rd->ring[ Cd ] = l;
                if ( ( Cd += 4 ) >= ORSIZE ) Cd = 0;
                return;
        }



        8.1.1.8  ELOR

             End_Logical_Output_Record (ELOR) terminates the current message.

        ELOR()
        {       Cs += 3;
                Cs &= -4;               /* round up to next message boundary */
                if ( Cs >= ORSIZE ) Cs = 0;
                Rs->NFMI = Cs;          /* DONE! */
                return;
        }



        8.1.1.9  SENDQI

             SENDQI  is defined  for convenience,  to send  a quick  message to
        ISIS:

        SENDQI(p, t)
        int     p, t;                   /* p is port, t is type */
        {       WAITISW();
                SLOR( p, t );
                ELOR();
                return;
        }





                    8.1.2  ISIS-ring Input Routines

             ISIS-ring input is implemented through six routines:






        40                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


        8.1.2.1  LOOK

             LOOK sets up Cs, and returns TRUE if there is a message waiting in
        the ISIS input-ring (and also PORTNM and INTYBT), else FALSE:

        LOOK()
        {       Cs = Rs->CEI;
                if ( Cs == Rs->NFMI ) return FALSE;     /* ring empty */
                PORTNM = (short) Rs->ring[Cs];
                INTYBT = (char) Rs->ring[Cs+2];
                Cs += 3;
                return TRUE;
        }



        8.1.2.2  GETCH

             GETCH gets a single byte from the ring.  It is complicated  by the
        inability to fetch single bytes from the Engine memory:

        char    GETCH()
        {       int     HW;
                HW = (short) Rs->ring[Cs&(-2)]; /* get HW containing char */
                if ( (Cs&(-2)) == 0 ) HW >>= 8; /* select byte to use */
                if ( ++Cs >= IRSIZE ) Cs = 0;
                return (char) (HW&$0FF);
        }



        8.1.2.3  GETH

             GETH gets a single short from the ring:

        short   GETH()
        {       short   HW;
                HW = (short) Rs->ring[Cs];
                if ( Cs += 2 >= IRSIZE ) Cs = 0;
                return HW;
        }



        8.1.2.4  GETW

             GETW gets a single long from the ring:







        41                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


        long    GETW()
        {       long    l;
                l = (long) Rs->ring[Cs];
                if ( Cs += 4 >= IRSIZE ) Cs = 0;
                return l;
        }



        8.1.2.5  ELIR

             End_Logical_Input_Record (ELIR) terminates and closes input:

        ELIR()
        {       Cs += 3;                /* bring cursor to next boundary */
                Cs &= -4;
                if ( Cs >= IRSIZE ) Cs -= IRSIZE;
                Rs->CEI = Cs;
                return;
        }



        8.1.2.6  FLUSH

             FLUSH "flushes" the specified number of characters from the input-
        ring, and then closes the current message:

        FLUSH(n)
        int     n;
        {       Cs += n;                /* advance the cursor */
                ELIR();                 /* ...then close it */
                return;
        }






                               8.2  PDP (Black-Box) I/O


             The Black-box  can be  viewed as having  an extended  register, of
        form:

        ________________._______________.___.___._.______________
        |     Dleft     |     Dmid      |Ahi|Drt|C|    Alo      |
        :---------------:---------------:-------:---------------:
              "DHI"           "DLO"       "AHI"       "ALO"

             Where:


        42                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


           Dleft   Data-left -- Left 16-bits of PDP data-word;
           Dmid    Data-middle -- Middle 16-bits of PDP data-word;
           Drt     Data-right -- Right 4-bits of PDP data-word;
           Ahi     Address-high -- Left 4-bits of PDP address;
           Alo     Address-low -- Right 15-bits of PDP address;
           C       Control-bit -- Set to 1 for Write; set to 0 for Read.
           "DHI"   The "name" of the register addressed by the 68K.
           "DLO"   ditto.
           "AHI"   ditto. (Note:  this is a single byte).
           "ALO"   ditto.

             These are addressed by the 68K as four 16-bit registers, which map
        into the 68K's  memory.  Addresses for  input are different  than those
        for output:

        Register        Input           Output
        DHI             $D0403A         $D0803A
        DLO             $D0403C         $D0803C
        AHI             $D0403E         $D0803E
        ALO             $D04038         $D08038

             In addition, the following  addresses are also used  to manipulate
        the Black-box:

        Symbol          Address         Usage

        DSENS           $D000B8         Sense if Busy (high-bit on)
        DTMOT           $D001B8         Sense if Read Time-out (high-bit on)
        DPER            $D00138         Sense Read Parity-error (high-bit on)
        DEXC0           $D01038         Reset Black-box (by referencing)

             Commonly used operations are expressed as functions:

        SENSE() { ( (short) DSENS & $0001 ) }
        PARITY() { ( (short) DPER & $0001 ) }
        TIMEOUT() { ( (short) DTMOT & $0001 ) }
        RESET() { ( if(DEXC0); ) }

             Internal locations used globally include:

        short   P10DAH;                 /* Data-high */
        short   P10DAL;                 /* Data-low */
        short   P10ADR;                 /* Address (within PDP) */
        char    P10DLL;                 /* Ahi | Drt */

               NOTE: P10DAH | P10DAL are also regularly used as a "long"
                       with name "P10DAH".







        43                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


                    8.2.1  SETBLKA

             SETBLKA is a utility  function provided for both Block  -input and
        -output.  It formats the argument (an address within the PDP)  and sets
        BLK = TRUE:

        SETBLKA(adr)
        int     adr;                    /* the address */
        {       P10ADR = adr;           /* set low-15 bits */
                P10DLL = ( (adr>>15) << 4; /* set high-4 bits */
                BLK = TRUE;
                return;
        }





                    8.2.2  Output To PDP

             The primary mode of output  to the PDP is via the  PDP input-ring.
        The 68K retains the following variables related to this ring:

        short   PDPIRP;                 /* Pointer (to base of ring) */
        short   PDPISZ;                 /* size of ring */
        short   PDPIFC;                 /* fill-cursor */
        short   PDPIEC;                 /* empty-cursor */

             There are a number of routines for output:



        8.2.2.1  WR10R

             WR10R is the primative routine for all transfers from 68K to PDP:

        WR10R()
        {       short HW;               /* temp store */
                int     cnt;
                for ( cnt=0 ; cnt < 70 ; cnt++ )
                {       if (SENSE() ) continue;
                        *DHI =  P10DAH; /* MIC inverts bits */
                        *DLO =  P10DAL;
                        HW = P10DLL;    /* for Drt...*/
                        if ( BLK == 0 ) /* if NOT Block-IO... */
                                HW = (  HW ) & $0F;
                        *AHI = HW;      /* no inversion for address */
                        *ALO = $08000 | P10ADR; /* ditto. */
                        return;
                }
                BUSCRAS();
        }


        44                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


        8.2.2.2  PUTNOT0

             Certain special locations within the PDP cause the PDP to crash if
        non-zero.  PUTNOT0 insures that a Write will force non-zero:

        PUTNOT0(v)
        long    v;                      /* v is value */
        {       (long) P10AH = v;
                P10DLL = 0;             /* insure low 4 bits set */
                WR10R();
                return;
        }

             It is used exclusively by:



        8.2.2.3  HCRASH

             HCRASH is called  to crash the PDP.   It places the  16-bit Crash-
        code  into the  PDP-KEY cell  (at o150),  and packs  the  16-bit PDPOEC
        (Output-Empty-Cursor) with  the 16-bit PDPIFC  (Input-Fill-Cursor) into
        the PDP-CRASH cell (at o30):

        HCRASH()
        {       P10ADR = 0150; RESET(); PUTNOT0( CODCASH << 16 );
                P10ADR = 030; RESET(); PUTNOT0( PDPOEC << 16 | PDPIFC );
                return;
        }



        8.2.2.4  PUTPDPL

             PUTPDPL  places the  argument  at the  (already  specified) P10ADR
        Left-Justified:

        PUTPDPL(v)
        long    v;                      /* v is the argument */
        {       (long) P10AH = v;
                P10DLL = $0F;           /* compensates for bit-inversion */
                WR10R();
                return;
        }



        8.2.2.5  PUTPDPR

             PUTPDPR  places the  argument  at the  (already  specified) P10ADR
        Right-Justified:



        45                Internal Maintenance Specification           EBUS.IMS
        I/O and Buffer Logic                                      June 23, 1986


        PUTPDPR(v)
        long    v;                      /* v is the argument */
        {       (long) P10AH = v >> 4;
                P10DLL = (char) v;      /* place low 4-bits into Drt */
                WR10R();
                return;
        }

9D k,
¸   ˇc0   @0 Ä               +  +  
 ù  B  ê,T,*,,∂   + Y ù û B  Ø@      @  êZ  '_  '/  /6  [  ¶.4 Ä   Z  ¶@     "   	b  H  Œ R+  ´  X  d`@ +  ¥4@ ¨3@ü+  3@!+ °3@¢+ #0P  Ä6@$7    +  ¥ &  @   &   4B %1b  +  ¢1b  +  £/"  í  !+  $            Ç."  á+  $."  )B}=F ú34  +  ® "0  S  Ä	b  ÑH  ŒZ  ¶   ÉP  .4  1P  Å+  7+  ¥ §+  %1P   6@$7    +  ¥1P  :    X ÄaBˇ+  4`bˇ+  3Q  Ä+  ¥!  Ä+  ¥Y  Ä/6  10  Å+  î %+  %   /  Ñ Põ/4  QT  ¶Z  '/"   ZB  ®QB  (."  Ä	b  ÑH  Œ@@   ,T   $,Ù   $ •,Y,>     ."      0 $ è &   ,	¬,^  Ä(BqQ"   b   ,¥ &*"   Û."  ,8  õ @  *b L`B ˇ+  L,Ú0`        &  Ä,,Ë, L,*  0B  Ä+  “ "  + ¨  }0"  Å+  U7@ ◊+  ◊, y "  Ü  4D¨+  gZ G	b  ÑH  Z G[  G/   .$  Ä " W &   ,	]   ®2b 'H  MZ  ."  Ä B  ®,  õ.  Ä@      2H¶+  eZ Ä H £O   ."  3"  4F b @@   ,∂ ' B ]6@ß,"∏@@ Ñ+ £+ (O@ ˛7@)+  Ó ^  á >   *>   ù,> ˛ ©	bÊ+    	`    **" Ä^" B S"  BB ,-,T, y,∂,^ ˛ "  Ä6@ ˛ B ˛+ £@@ L@@ Ã@@  0@@ ’@@ U@@ V,$  B  ê@@ @@ @@ ù,À6@™,     ¸6@ ˙  ˙  ~ 4  Ä    Ñ.2  .õ  H  [H ÄZH Ä+T  	  
     4  Ä+ =vå 4  Å  }1f   4  2@  É+  D £ D Y D Ç2@ ¸+   ÄZ   
p Ä J ÿ,+ 2@¶+  D £ 4  Å.2  32  + ,' + B ˇO@ z "  
 B … "   B J,~      2@´,~    (H Z   Ä3@  ,~   [ Ä4H¢"  S  X Ä    @   *h°    Ä @ Ä   ˇ @ S A`.   @  , Å,~   @@  Ò     @  r@@ ¢@@ j ( j,Å@@ r ( r,Ü,~    B #@@ ◊7@ Ñ,g6@,,"",n,°  #+±  9  9  9  9  ∫  ∫  Ω  Ω  A  A  F     N  œ  ”,Ö@@ + ;O@  x   B Y p   B ÿ+ –O@  x   B Y p   B ÿ	b  + –,˙  C	`  é+   gg  Y>=}:                      }1"  Å+ –O@  "wˇ B Y p   B ÿ+ –O@  "p Ä B Y p   B ÿO@ Å+ ”@@ O@ ◊+ –O@ + –@@ Å  ."  Ä5"”,}	b  Z   D G/$ H   »Q@ G " W &  Ä,	] .  é  8 u4@⁄    É(@  ,=nXZ F	b  Ñ+ f   Û."  Z ∆[  ∆/   .$  Ä &   ,	¬   }0"  Å \  "   B ŸS"  BB  ù ¨+  :J  +Ê ."   (  Ä H ÑZ  Z Å2(  + -   3B ¸@@ Ñ3B¶O@ Ñ,~   7@ ∏+ x,     #0B  7@ ∏+ x0B  Ñ1b  Å+ x  0 "  Ä $  Ä,	  2 "  Ä $  Ä,	 "    B # 0  
7B@ + ˚6@µ,#∑  @ ,=p¯7@  + O    
,   d   
.   7@ ¢+ Å6@6,#ê+ ,~   7@  + O    
,   l   
.   ,~    0  
7@@ + â  @ a`ˇ+ â@@@ ,=p@@  ,~                            I?&0     Å         Ä     ˇ                                                                                                         &      »  T     v Ò,
¸ @0 Ä   ? 0  Ä+  ¥ %=_ 0   +  ´}
T_ 0  +  ¥     ggI∂K:&" 0ê O$I'lzH ∞  "∏@@ ˛+  l     i
	l{@!0z     {>7{+     ""i
  ."  :  Ñ   3F§."  + ÈPage locks lost     Continuability lost, files closed    #∑  #ê  ¯ @ aS"  	bÚ " ﬂQ"  	bÚ+ ,U"  	bo+ / 0	bq+ ≤S"  	br+ µS"  BB S"  BB  ∂	bp+ 9@@ _7@ Ç+ ≈S"  	br+   +:,~    \ ),^   \  ´Z\ ©,§<∫1\  ÷+ È[  ´A< @0(\˝d\  G<  .<O \ ,  )+ ,`  + S`  `  `  ò+ W`  ô`  7@  0`  ó<;+tU  `  `  b  f7@  0`  <ª1\  •+ `A<  É+t⁄  ﬁ  `  b  „  ﬁ  ﬁ  b  „<<@@p  + Ë<<@@p  @@p Ä+ Ë  *@Ap  + Ë<<@@p    *@Ap  + Ë<<@@p  @@p Ä  *@Ap    )+ ©  ©`| p+ £   ´`|   + éa| @ + ![ ™(\˝A<  á \ + \ , = ™ \ ´Y ™P  ´AºF<  5\Ù  ´ \ ,  ,5<y = \ ¨G<  Ä \ ≠ <  Ä \ -+ { Ω \ ≠ \ ¨ \ -<>0|  ø+ !0<  $0|  •+ ˛+ ä1\  - <  01<  0+ !A<  É+tÅ  Ö  !  	    Ö  Ö  	    ≠ ] ++ !  ≠ ] + ] ´+ !  ≠ ] ´+ !  ¨ ] +:  + <  áA\ +  - ] ++ !<>0|  ø+ !1\  - <  00<  $0|  •+  <  ∞1<  0+ !A<  É+t                R ™d<~èl<  + †R ™d<~èGø+ †  ™d<pl< + †  ™d<~ l< +@  Z ©4\¢X\ ©U<?@A\ ©  )+ ©   ´ <wˇ \ * p   \ ™<@0\  W,~     * =p  + •INTADR Error return 
&*+   TINASS Error return 
&-+       ÄINTASS Error return 
&∞+   INTENB Error return 
&≥+   ,∆SETTR1 ERROR RETURN 
&7	`   F6% ©6	 *6% *. *   @    ?ˇ6$ ™           æ6$                      ,>   B . D Æ.   ÅA  @ /6D  ,äZ ¶^  2" /+ Y4"JZ Ä+ G  ß/$  7   + O_  /  Ä[ ÄZ ÄXP ÄQB@ ÄZ  . /."   B ß7@J B  ®/"  Ä3b (+ V*   Ä,>*   Ä  ß/"  Ä"  /Q    X  @ˇY@  + Á[  Ä1@ &+ ﬂ[ ¶Z ¶XP ÄQB@ Ä " &XD Ä[ ÄQP ÄQB ÄXB@ Ä^   /  /5`„[ ÄZ ÄXP ÄQB@ Ä+ eX@  .   Q@  "  /X@  Z  /   Q@     Æ  .XB Ä $  D  ,^  ,~   ,>  ,>  Ñ,>  /"  Z Ä@@@  6   + Û 0 &QP ÄZ@ ÄXR ÄXB@ ÄQBH Ä^  "  Ñ+ v^  "  Ñ_  /  .  XR  Z  Ä.  Ñ^P  50É 0P 2P ß+ [ ÄZ ÄXR@ ÄQPH Ä 0XP  ."  XB ß7@JXB ß." ˇA"| /"  Ä2" (+ à*   Ä,>*   Ä+ à P 0[P ÄZP ÄXR@ ÄQPH Ä^  . 0XR  . 0QRP  ,^  ,^  Ñ,^  ,~   Z  2d ß+ /$  3$ '+ ^  5&Z Ä2B  Å+ ,>    " ,k,^   ,~   ,> ,>  ,>  Ñ    P 2`PˇXRGˇ@@  ,¬  P  `PˇXDGˇ,^  Ñ,^  /K,~   ,> ,>  ,>  Ñ    P 2`PˇXRGˇ,k  P  `PˇXFGˇ,^  Ñ,^  /K,~    "  .  ®."  Ä B  ® B ßZ"ˇ	b  Ñ@  P7@J+ ≠ <J,   [  /    Ä,  @  P B ß/"  Ä B (  ßA" B ß B ' *  .
 ßA*| /
 ß  ß.$/ˇ.J ß  ß7@J B  ®*   ,>*     'SB ¶XB ¶^$XD & & &SF ÄXF ÄSD  /*  XJ     Ä.  ÇSJ   XD   ,~   ,>  ,>  Ä0`  @  œ7@J+ ƒ/  (.@ ([  /,  @  P    Ä+ HZ  ."  Ä	`  Ñ@  P    ÄZ   B (,^  Ä,^  ,~                     Ä R B ] "ˇ  u@@ Ñ@@  $  ( D  $  ° D Ü6@“,"∏,~   H ∞  "∏?    +    l6  Äl6 l6 l6  nCn√l6 @ d   h6 ( l6  ,>   ,>  Ä,>D,>D,>  ,>  Ñ,>  ,>  Ö7R  Ú+ _,y@   Z}"ƒ."  ÄA"  É+@”`V  d6   }(N  (q  ¸,≠4BÁ5b    O@˝+ `v   + Í`v  +  "  +   4 Ù,`v  Ä+ nd @@    `EaV   + p"≈+@Wav pû+ u`v  + u,–5B aV  + u,¸ B~av @ + ¯  F`v    H,º5B `v  av  + |,ˆ@@@ â@@@ ,aV  + ~Q   G@P av  + `V  + ÉO    `  K`V      ì6@   `À`V  + Ö,Ì+ ,i5B l6    P Ä @@ Äav  + `v  @@P ,r5B aV @ + `v  ,ˆ`v  @,y`V  + ê ¸  @ ÅR@  Ä@    `V      Ä @˝    `V  @    aV  + ñG   @@@@ áO@@ av   @@ ÜS  `B@@ A   ÖG@@ @@  Ú   Ñ(D   ~+  ˝   ,^  Ö,^  ,^  Ñ,^  /L,~    B˝`v   @@@ av  + #,ˆav  @+ §,yaV  Ä+ ,av   + ®     "   ,ò+ *  ¸ "   ,"    Ä ˝   É,æ`V  @@˝+ ,>   `V  + ¿ x    Ã3@  + >O    ,É D  Ñ5Bœ 0  @ É4D82P u+ 8.0  ã10 F+ ≥ "  ú+ œl6    PH u@@@  Q$@  X$@ Ä*$@     Ñ @@ É  x  ,ãXN@ + O 0 èO   `V   "  Æ+ œ x  l6    @ É^@ S  `A @ b@M+ ∆d6   6@  Ñ@@H u+ Oav  +  b@Õl6    @ Ü`@  @l  + ÃG   `v  @+ Od6 @    Ñ,É5BœZ`@  PH u@   /N,~   ,‰4B\ E4@VaV  @+ Vd  @[ P Å4@VP@P Å+ –aV  + Ÿ7@@ Ä+ Ÿ@@P ÄjŒ+ –`v X + „`v    "  õ+ dl6    P Ä @@ Äav  + ﬂ "  + dR P ÅP@@ Å`E`v  @@@ Ä  P Ç @@ â @@ @   ,~   Z   ÑQ   `P  + Á@   + ËZP Å " ,~   Z   ÑQ   ê`P  + l@   + mZP Å " ,~   Z   ÑQ   Ç`P  + @   + ÒZP Å " ,~   Z   ÑQ   Ñ`P  + u@   + vZP Å " ,~   Z   ÑQ   Ä`   d6  ,~   Z   ÑQ    `   @@H u@@  Úd6  @,~   "O œ$   .    P`– Q`—,~   @    `O`RR`P Å,~   @   Z   Q$  Öd
 "  úZ  1$  1d    "  ú5Bâ D  Úl6  @,~       áINX               F@   Ä F@ Å 4F@ Ç &@ Ç F@ Ä+ ë H@ Ä,~   @@P  Q P  X P Ä* P      @P    @  @P R @ Å @P Å  @ Ä @P Ä,~   .L,>  ,>  Ñ     2˝  @ Ç @H   @  @H Å  @  @H    @ Å @H Ä  ˝,",^  Ñ,^  /L,~   ,>  Ä,>  ,>  Å,>      1B    " ÒabˇQ"A`   Ä  Ω2@@  + ™     "Ω,:+ 47@@ + / &  F   "@     ,: &  îF   "@      ,: “5@4 &  F   "@ Ä    Å,:@   F  .S+06   7@˛ " Ò  ˇ,^  /”,~   Q"A@  Ä4F=.&  F  =`∫,~   iZ7C0   ,>   ,>  Ä,>   x  cˇ  ,ˇ x  eˇ  @   @      0}@ Å @ Å: New file, OK?     : Existing file, OK?     .P 6$}6$P     iZ7            Ä @  $P ,P  0P $0  ÄP Å<  Ä \P @ Ä       ÅS"   B 9O@ ˆQ" ˆX" w*" S&   F B 
†*& L &  † F Ã 
!*& ÷@@ ∏ " 
H(B˚ B » $ »(D˚ D I6 
°+ a
&
" " »+    
$*" C " è B  Ù "  B  t,~   S"  Ä	b  Ñ6     
      ÄQ   ÄS"LıS&:@@  @@  	`ı
& ¿	`  
CANNOT FIND OVERLAY SEGMENT ,>
§	b  &"   Dx  &"  (B  G  (B  Gx  G"ZB  s/
%,~   ,>   @  ,nQ k3X   s @@  S K8 @@ Ä@@@ @@@ Å,^  ,~      Û(Bq@@ u,},~   ,>
§ "  é7@ u+ Å Bx  (B      Ä, x  ="~/
%,~   ,>  Ä,>
§, Dx  Q"  Äcˇ  x  ,/
•,~   @   ,,~    "  ,,~    @  Ä  ÉQ$   d   @@ u,~   .
&(@q @      uS$  fD \   Dx    »   Ä/ IQ  ZÃ ˆ(Fı2F   +  x  AFÃ BˇZ   Ä   ,	Ö   ˇ $  † DÃS$   DB*bî      u/
&,~   ,>  Å.
&ZD[Dˇ)Bq(D}& Fx    u(D  )B  ,8_  Ä"  $/x   D 
\  ÄG$~ "  $/x   D ä x  $ˇ$
¶.ˇQ"@  B  Z  Å ˛/
',~   ,>  ,>  Å,>  ,>
§,>
§$ø"  .$  (@&   Dx   &  &   Fˇ_  ÄZ  $
ß6@x  .$  Ä,ß6@x  /"  Ä&
($ˇ.x  f
( ~ ˛ /
®,~   <  0  $ø"  .$  (@&     ,x &  &  $  Å.  ,~   ,>   L   `@ ˇ+ JZ`  Ä,Œ+ À:  
:  äQ"    x  /
%,~   \`  Ä,Œ,~   ,>  ,>  Å,>
§ZBx  X  ."  Ä,|XCx  Xx   $  d
) $  &
©&  Å_  Ä"  Å$  /&  Ä F 
Z`  Ä7`  ÅQ"  (D  Ñ/$  Ä D ä  ˇ/
&,~   ,>
§d
*$@ Dx  ,0.    x   &  &  (D  .  Å,ü/
%,~   ,>  ,>  Å$
ß@   ,ß ˇ x  /
•,~   ,>  ,>  Å$
ßO   ,ß ˇ x  /
•,~   ,>  ,>  Å/"  Ä $  @   ,ß,8 ˇ x  /
•,~   ,>  ,>  Å/"  Ä $  O   ,ß,8 ˇ x  /
•,~   ,>  $
™ Ã$
+d
´ x  /
%,~   ,>  ,>  Å,>
§_  Ä/"   $  ,ß  Ü`F  `F  aF  @+ à Bx  A
,`F  & aF  $"  Ç B  x  /"  ,
 x  ,; x  ,8  ˇ/
&,~   5Fç5"ò_  Ä"  + è   ÄA( ˇ"  .(  2h   + ô4HîS
  ÄX
  4F!`  Ç   Ç.  **7ˇ.  `B ˇ+ Q  Å,|.  /   + Q   + '4@ùS
  ÄX
  4F!`  Ç   Ç.   **7ˇ.   .   4F•,>  Ä,>  Z`  Ä)B˚\bÃ ˆ)Bı  u(D}2d â D â,^  ,^  Ä_  Ä.   Q  ,~   ,>   ,>  Z  Ä(P˚> @B+ Ø^@l5"≠	p\+ 
R`@l>  ∏6 @·; 9S"   B@B @W(B  Ñ.      Å   Äd&p  @·>  à7@   + 6\`@Ã2f â F â  ˇ,^  /
%,~   ,>   @    ,Ω  x  /
%,~   ,
oO    ,Ω,
Û,~   ,>   ,>  Ä,>  ,>  Å,>  ,>
§O@  )B˚,Û5&D  ˝,„5BW  ó:`B+ L@@B ·   ÜaH  @+ L7@˝+ Z Bx  ,	i+ W:  ∏ x  O@l6@˝+ ‘Y  )B  ÑP   ~)Fq(H}G( ˇ.(  Ä  u:  à/ â4h‘A(ˇS  .   ˛  ˇ/
¨,~    x    ˝ ~,‹@   + ‘  ˝ ~,‹^ `  ‘: 9 DB4 c ·  Ü`F  + ‚)F  (H}$(  Ç(H  )F} H Ö,~   ,>   ,>  Ä,>  ,>  ,>  Ç,>  ,>
§,y Bx      ÄZÃ,	Ö ˝,Û H˛ B ˆ x   D ó BW HÃO@B        },	°  } ~ ˛ 
 ˇ/
-,~      Ä%
≠(HıA(  ü2B ˆ7  ˆ+ x=(ı+ u  ˆ,~     »^$ Ä   / I5&	ÄQF  RÃd&ˇGB3fB+ ˇZ   B*d˝4&	Ä,~   ,>     x   "  Ä $  Ä,	,}	`  /
%,~   ,>   ,>  Ä @   ˆ4"	†(B  ÑR
Ã5J	7 l+ 	+ 	   Ä)Fq  u(H}  â/  0d   $  .  2h  H  ˇ7 l+ 	(@  Ñ &  Ä,	¬+ 	 ˇ,
â ˇ;@l>  ∏@@l x  O@ˆ/"  ÄA"  ü ˆ4$	† Bx     ,Û x  3H  Ä+ 	 ˆ D ˆ ó D óXHÃO@ˆ+ 	/
•,~   ,>   ,>  Ä,>   
   (@  Ñ @   ˆ(F  Ñ F  )Fq  u(H}ZF(·  ÜaB  \`(·aB  @g  ÄZ"  ÄFx  aB  Ä+ 	≠  
.,	RB(l  /  5b	¥6 (l+ 	± "  Ä+ 	¡@@  S   X  Ä* ˇ "   + 	¡7 (l+ 	æ0"  + 	ª 
  .
  Ä@@(  1B ˇ+ 	∫QJ  Ç.*  Ä**ˇ B  + 	< $      &   ,	¬ "   + 	¡  ˇ ˆ(D  Ñ,
 "   /
&,~   ,>   ,>  ,>
§4D	[@@  )Bq  u Bx     ÉQ   `x+ 	N(D˘4F	KQ   É` Ä+ 	LQ   ` ÄQ   à`x+ 	–+ 	N  
3 "  Ä $  Ä,	+ 	[ /(  Ä"
ˇQ  Ç@@  Ç4F	’Q   `  + 	◊+ 	YQ   Å`  + 	◊+ 	YQ   à`x+ 	[  	\ "  Ä $  Ä,	/
&,~     
µ  
∑,>   ,>  Ä,>  ,>  Å7`  + 	h6H  + 	‚ (  .h ÷ H  0d   $     ,	¬    .`˛:^$~ .dˇ x  + 	_/
',~   ,>  Ä.
': ˝O@ ~	b⁄+     ~	bZ+ 
 B˛ ~ Bˇ "ˇ	b€7    + 
à7@ …+ 
0B  + 
 ˇ B@   	b+     "	˛* ` Bx    …Q"  Ä	b+     ~	b[+ 
@   	b+     x   B `,   + 
à "
 * ﬂ	`ˆZ`  Ä0B	z+ 	{ ~ Bˇ "ˇ	b€+ 
Ñ+ 	{ ˇ3B+ 
 B+ 	˜> ˝+ 	{> ˝/
®,~   Q"  Ä	bÂ+ 
.
π	b‰+ 
,~     
:,	(B˚,Û4&
ñ  ó6 l+ 
6 B> B+ 
ñ: 9 BB^l5"
ñ	f\+ 
R`l>  ∏,~     
=,	  
B,	Q"  Ä	bÂ+ 
ü)Dq(F¯.&  Ä*  .
πQ"  éb  + 
ü\`l,~     
ƒ,	 x ¬ yHM    CTSIZE too small    @lH:        Ä      Å`     $  Ä x  Ä  ( Ç<  0  F  Ä$  Ä Tˆl  Äˇ  0   8 É @ ñAttempt to READ concurrent or MAP normal page     CANNOT POSITION FILE     CANNOT READ FILE    CANNOT WRITE FILE   @   Unable to unmap file page     Found page of SOPENed file not mapped but in core Cannot release page lock Can't map file page ,bZ  Ä   .l5~
c  Ï @˛S : @@@ˇ7B  + 
c Bx    ˛ m,Y/l5B
c.$  *  ,8*  5p
“@  ±2p  @  ±   ,d.  ,8   ,d/  ."P  ,8   ÄYt   TH Ä  P  &   Ç.   Ä       Ñ@   ,¬ZH    @     Ö@   ,,d    Ä,  H   @˙,f,~   @@ | "Ì BH  + 
a  ,~     ,~     ù,~   : Ç0D  Ä+   S$  	dr+ Ò+   >` Ç+   @@ ÇS$  	dr+ Ò+   ,>  Ä,>  : 1B  Ä-"
h ˇ x  /Ú,~   ,>  Ä,>  ?` -"
Î ˇ x  /Ú,~   ,>  Ä,>  7b + 
z-"
Î@@  ˇ x  /Ú,~   ,
˜,
o,b[  (T˚0t  + Ç,f,
Û6@s+    @  À   ar  7B ¢+ Z 0Bp  + ,#ê+ Ç p  7@  @    P ZR  *WÛ1*  + 1*  Ç+ Û {3&Ù+  F ù`r  @+ 0J  + ì  0B  ó1B  7    + ì6B !+ T,=6B(û+ T0T  +  *  ,=6B(û+ T0T  å+ 6@ ú+ 6B + T`r   + u "H   ( {,
∆`r  + ˆ,6B {,k@@ { "@  6@  Ä`r  + ß1BP+ ˘  {,>  Ä,Ç,^  Ä,,…  |,Çar  + ¸,f,
Û,~   ,=@@(û0J  ,~   S"  BB ,~   ,= B(û7@  Ç7@ ^+ 2S"  GB  "   B ›7@ 	0J  ,~   S"  GB ,~   S"  BB  p   B ‹7B †+    *  É:  	+ TS" @ BB 7@ †,~   S"  GB ,~   +@,¿ +,E,~   2&Ù0f  
@  2,~   +    +    +    +    +    ,æ,æ+    +             Ä        Å       á   ñ        Ç,g7@ Ñ,~   ,>  Ä  ˛,ˇ,^  Ä $   
ˇ@   @   @    )@  4@R.   @  Ç=dO@   Ç    Å,ˇ,~   ,>  Ä,>  Ç7B ¢+ ÿZ 0Bp  + ÿ,#ê+ U,^  Ç,^  Ä: LA$  è D L2D Ã+ › & ÄA&  è F ÃX  Q  Ç>   Å FM B{,f,
Û  +   ,^x  @x ÄQ   ÄX x * x .Ä  z,~   S6z*6  Ö,^z/,~      ¸,>  Ä@    7@ ¸O     @ ú,~       i
\Û 0TBA system error    INTENB Error return 
&Ô+           ^&˛+ ç˚ar  + + ß,Ç+ in Direct statement   ˜,Ç+ ¶in line        ,f "  ,
Û+ ¨ module   H  Åv Ò  h Ü  X Ö ,ã@   ,ê,~    ,ã $  0,ê,~    õ,ã@   ,ì,~    õ,ãS$  ,ì,~   ,>   B    B  Å    $  Ä,˜,^  ÄZ  ,~   Q"@ D   $ ÄA$  ø*b,~         ÄQ.@    ÄQ@8 ÄZ  É@   ,¬ D   L  .ú+    ..  Ä*n,~      Ä  ( Ä    ø    ,>   ,>  Ä"_4B#   ¬  <(Nq 8 u 8 ÖZ`  Ä,0 B < x    ˇ4"'!" Nül  ÿ,Y4B,5b∏:  ¬    C @ 0@    `_`a    Ä`b@@ J+ ∏:  ¬    C @ 0    Ä`_ ﬂ(`B@  hahb@@ ∂ D < D J   (Nq 8 u*  ,>   ˜,ü,^  *   D8 Ö "  Ñ B8 Ü/x,~      ¬4B= _4@º   <,,Ê,~   ,>   ,>  Ä,Œ x  4"Õ ˇ     ¯,Y Bx   D  B6@x  + Õ "  Äbﬂ&`f‡@@  haf·&_L@  Åfbb‚hcb„   B,>   ˜,ü,^   B  ¡/x,~   "ﬂ4B€   ¡\`  Ä,07@y+ S   B,#∑    B,@@  Äbﬂb‡&`(_ H  ÇA
  Åjab·KH  Åfbb‚ &  Äfcb„,~    "  Ä,Í,~    "   ,Í,~     C  C  C  C  C
  C  C  C  C  C   C  C  C  C   C>  ¬"ﬂ  ∞ F  Cbﬂ&` F  A  Äh‡JB  Ç J  A  Å._ N  A  pah·KN  lbb‚jcb„4Nw  < B J   Ä(Nq 8 u,>   ˜,ü,^   B8 Ö,~      Ç    p0ò  #∑$e,	,~   $Â,	,~   ,>    x   Â,ü/7,~    "  ,,~   $f,	,~    "  Ä,,~    "  Ä,,~    "  ,,~   $f,	,o,~   ,>   ,>  Ä,>  ,>  Å6@∑,""  ˛  ˇ x  + + ê+ ì+ ò+      "  Ü,ü  ˇ "  ,üS"A`PB˛˛4Bû  ˇ,ü+ îQ A` @˛+ õ        Q A` @˛[ Ä Fx  4Fû˛  ˇ,ü>x  5B/8,~   *   Ä,Ì,~   @@  @@  Å&   ."  ("¸)D¸G  Ä5@")Dˇ(D  Ä      Å,~   ,>  ,>  ÑQ A`@      6@  Ñ9©   ,^  Ñ,^  ,~    "  ä B  C@@  ¬ "   B  œ   Ä$$  .$  Ä D œ=bØ^"ˇ
,  ÄZ  Ä	by(BÙA"  ˇ B  6 "   B ò,~      Ä  ""    "‰,«,~   "e,«,~   "Â,«,~   "f,«,~   ,=,o,~   "‰,Ì,~   "e,Ì,~   "Â,Ì,~   "f,Ì,~   ,ƒ,o,~   ,>   7@+ À,>  ,>  Ä,"",^  Ä,^  `D  ,◊`D  Ä,Z  A`Q@x  `B  Ä
>x   x  4@‘aB  Ä+ ”1@  ÜO@  √0@  :   √,a+ œ`D  ,◊`D  ,Z/í,~   6@  √,€6@  D,ﬁ,~   ,€,ﬁ,~   aB  Ä,~   
<  Ü
<  @@  √,~       Ü,a    ,a,~   aB  ,~   1@  ÜO@  D0@  :   D,>  Ä,>     ¡>  
?  ä,MA  Ä B  ¡,^  ,^  Ä,~   aB  Ä,~   1@  ÜO@  √0@  :   √
"   ,~   ,È,a,~   ,>"_4Bá   }Z$  ,="ﬂbì  Z$  Ä,="_5b˜  î@   ,=+ Ñ  ï@   ,=   ¬   ∂,! Bx    x  @   ,=  ñ@   ,=   ¬  <(Bq  u    Ä@   ,ò    ÄZ$  ,=   ¬   <,>  ¬  ∞ B  C5Ds@@  Äb_$ﬂ4D
bﬂ    B,@@  Çj‡"`&_JF  A  Äfaj·G  bbj‚ "  Äbcj„/í,~     ""   Ä       ∞AT   TERMINAL  LINE       IN   $ˇ &   ,õ    4D/$  Ä &   ,õ,~   .     4B G" ˇ/B  *  Ä,Ë*  Ä/B  /&  Ä=$,~   "_4B¶   ¬  <(Bq  u  ÖZ`  Ä,0 B <"ﬂ4B©   ¡\`  Ä,0 B  B,~   "_4B0   ¬  <   Ä(Nq 8 u,>   ∫,ü,^   B8 Ö"ﬂ4B4   B,>   ∫,ü,^   B  ¡,~   ,>; "  é  u4D9 Bx       ª,Y x  =bµ/<,~      Ç       Ñ   Ä,>        c,ò B   x  Q$A`  F  Ä5F@@
       ◊ "  Ä $ c &    (    *   ,¯4"J    ◊,O5"J  „ "  Ä,˘ *  Ä+ Bh  Ä6@  Ä "  /f,~   NO        YES       ?ˇ*   $   É   AÊ $    &Ã,/,~   ,>   ,>  Ä,>  .g,>  ,>  Ñ,>  ,>  Ö@   @    ¸ ˚apˇQ0A`@@   Á*  ò,?    ,∫4Be  a,M4Bb0B  Ä+ a0F  î "  Å 6 Ä+ q,?    î,∫5Bp 6  + q    ≠,∫4Bq,?,B5BoSD ò    ,∫5Bk "  Ü+ o,B5BoXD ò,?    Æ,∫5Bp "     Ä+ q,?l  5Vñ  ‚,M1d  + ˘5B˘$$        &•,/5B˘`T   6  Çl  Ä  • @ @@ ó7@  6     3@•`T  Ä+ ˝ 6  É5Vñ    ,∫5BO    `h P~ 0|Q0A`  ·,M ~+ `T  Ä 6    ·,M,?5Vñ    ñ,∫4B,?@@}@@˝  bX },M5B$$      } &",/."  Ä4BbË,?     ,∫5Bí 6 Ñ5VñaT  Ä+ ú`R  + O   +  6   \¶aR  Ä+    Ñ(D  (q  ˚   Ö,æ`R  @@  Ö+ @   `R   6  Ä   Ö $ ,^  Ö,^  ,^  Ñ,^  /i,~   C;H       KbN=î]   ]8       ?ˇiZ7C0   ?ˇ    ù        ù    ù    ù    ù    ù    ù    ù    ù    ù    Æ    ù    ù    ù    ù"   O@  ÇO@  )J   G  ÇG     Å3"  + ¥.(  + ≤F   F  Ä 
   )B/\7@  Ä4D∏O@  Ä+ :   /  Å(Bˇ,~     3F   + >@@  Ä.È+0Ω+ æ "  Ä,~      1@  + ?.È+0¡,~    j@    &    1h  õ1(  + GH  Ä/&  Å5f√@   1&  	 "  á0f  ê "  "  Å(D  .È+0À,~   6$   $$   (L*ÃQ A@@   @     1f  =1&  ∞+ R/&  1f  -1&  †+ T+ Y5D’`J  Ä+ \1f  ú1&  + ◊+ Y`J  0F  + \2$  @    .&  `@ˇF   9œ5d›`J   "  ÄaJ  + ﬂ2d   "  .È+0‡,~    x ` ó `   `H cTYPE YES OR NO ONLY
       Ä_____   Å"pó ó  ó  0     H  4Bs "  Äb`"ﬂb‡&_JF  BB  Åfab·KB  hbb‚JB  Åfcb„,~   @@  Äb`b‡bab·"_L@  Äbb,~   ,>  Ä,>  [  6@  Å@@  + ~/˜,~   ,>  Ä,>  [  6@  Å@  –Z* ÅZ <,_(  ^(  2f  @  O9
Z  4F[  0@  Ç+ Ö,+ Ü   ,k ˇZ    É.. ÅQ.D@[   $  1   Å $  Ä,,Z  4·   Å.  Ä   Å0l  + 0,  +  ( Q07*0     ÅYH  XH Ä  YH ÇXJ +  ( àQ0º*0     ÅYH  XH Ä  YH XH É  ÇYH ÇXH ÖXJ Ü+  $≈6@ Z $∆P   
 Ä  [  Ä[ @   1F  Ç $  Ä,¬ 
ˇ[( [( ÄZ(     @@   & ÄQ  .$?ˇ*&  0L  Ç+ +.  Z x   @  Ä.(  3(  É+ )/˜,~   4L¥D  É   Ä@
      _   Å$   .
  ^  Å/   .$  Ä$     Å.(  Ä<L¥D  É+ ÆQ  "
  ÇX  Ç D Ä,~   ^    ^&   2"   2b  Å@  $"   ."   -$HZ˘.$  ,~   ^    ^&   2"   2b  Å@  $"   ^    ^&   2$   2d  Å@  $$   .  ."   -$HZı.$  ,~    $   -# $   -#ú@  +   Z  Ä/" Z    .& ÅQ&D@@    * €  Å$(  .  .*  Ä=dÃ  Ä[
  ^  .  4(«2(  Ç+ «Z  .  ,~   Z  Ä/" Z    .& ÅQ&D@@    * € , Å  (  _0  3   É+ «^0  2`  É+ «  Å$   .  É.*  Ä.,  Ä=dÿ^ Ä.  Z  .  ,~       Å    Ç            Ñ    Ö            á    à    	    Å                Ö    Ü            à    â    
[  4DpZ  (Dy   ,Ò+ qZ  g,~   ,>  Ä &  Ç.   .   Ä&   .    x  ."  Ä&"  .  Å/x,~         Ä @ àS"  bB + ˚  à+ ¸  à+  B àS"  GB   à@@ ﬁ7@ _+ Å* _ B ‡* _	`ˆ:  ^ B àS"  BB   à&  Õ@@ ^,©,´  ñ,Ç  7@ ﬁ  ô,ˇ p  ,,…  , "  + ¨* _,~   @   @   @
    õ&"  4B,>  9.$  D  <&î,^  +     @   ,ˇ,~   Interrupted    before line    out of line         H  Z
  4J§   Ä[ Ä(Hˇ<(¢7@(  + °   Ç   ,k.*  + û      ,k@@0  ,~   S$ˇD  Å6     F  ,~   6@o,""
:  Ä,~   
2     Ô @ ],~   
4   6@p,"∏,~   0b  ˇ "  ˇ4b1 B  6\   ã@  Ä6    ,~   Z  Ä)B˚ Ã ˆ)Bı(D},~   ,>,>   Ä,ª(Nq 8 u@@x  7B ¢+ ;  3B  ÉO@x   8 ÜaD  + B6@x  + ? 8 ÖAq+ @ 8 Ö,±3$8 â 8 â   + ’6@x  + « 8 ÖAq&"  Ç7@  /"  Ä   Ä7    $   + » 8 Ö,± 8 â/"  Ä3"      BˇG0 ,8   bDÒ+ –? ˇ+ ”`B ˇ=L,d=À:ˇ$&  Ç`D  + T(D¸=—@    Fˇ,d ˇ 8 Ü`D  &8 /r,~   "_,~    Ú	b  ê6    b  Äs,~   4"ﬁQ"  Ä	b  6    + a6@o,""S"  	b  6    ,~   	b  &" Ò   $Û	d  	.  ,~    "  Ä
8   + t,~   ,>      Ä    $   ,¬ Ex  	`  &  :.  V,! x   C   "  QB Ä/x,~     ""H ∞  "∏     ˇ   x #SD       ] ]7@  Ä @ ]4BÊ @ ] "  Ä+ Ê   Ä,>   ,>  Ä,>  ,>  Å,>  ,>  Ç,>  É,>¨5B˛@@ @@ á@@  " à B  "   B Ü"_A4B  ¨,ÖO   + 5H (   H˛$(  Ç0h   (  7B¸ "  ◊ B¸@@   B ô H @@ ö@@ @@ õ      "  $ ô ˝ ~, Bx  0B  +    Ä+  -*" Q¸X  ˛0d  ô $  ô. *"   x  1B   "  Ä ¸ ˇ/≠,~   ,>  Ä,>  ,>  Å,>  ..,>  ,>  Ñ,>  ,>  Ö,>  ,>  Ü,>  &‰ F|@@¸ y  &&  Ç$( Q&$A`.  (_5h‹ F{@@  ƒ Æ*"  O "  ä B  ƒ ¯ B  ≈ y B  FZ˘4B0 B ‡G/@     Ä6@  Å9, D a@@ · D b@@ ‚ "• B  ∆ "  œ B  G " B  « z B  N B    "  Ä B  O "¶ B  H ^  "  ƒ,A   B˙0B  Ö+ D &  ƒ  Ñ0D  É+ = "   B˙+ ”  Å  Ä&"  Ç  Å.  Q  X  .&  Ä@A  *&  @@ @@ Å@@ + ”0B  + G ¯    @ + ”0B  + Q ¯Qy y  Ä&$  Ç7@  Å/$  Ä.¯*"   ¯ y@@   Å F Å@@ 
&Ø
2   + 60B  Ñ1B  + ”
&3+ ” y  Å  % {,© B˚@   F  Ä y  Å=B  }(BÒ1B  7@  ¬+ ,Ê+    H Å (   H˙ % 
  ¬ ( <(Tq P u 
P Ö (      G  Äa@  Ä+ j*P Ö?  
,∆*P Ö7 P Ö+ ËP Ö4Ld+ i+ 0L  Ñ+ d*P Ö?  
,∆*P Ö7 P Ö+ ÓP Ö4Lj+ o+ 0,  ç+ }1L  Ü+ Ç1L  Ñ+ t6@z+ }O@¸+ j ,     Å "  Ä3  œ+ y."  Ä3b  œ+ ı    Ä+ ˙/  œ"`   /   Ä<`}L  ÅL  :  Å+ ˙  Å2. Ä+ ÄL  ÅL  :  Å+ j .   N˙+ j@   @   N  Å H˚   ¬4L*( Ö?  
,∆*( Ö7 ( Ö+ â( Ö4L+ 
6    : 8 ∂+ ê  8 <,,Ê+  y  Å&$  Ç$& Q$A`.   D˚@@  ÉN˚  ˘4@ "   |,	   } "   |,	  ¨ "  Ä |,	7@¸+   6 "   |,	 ˙0B  Ñ+   x   ˇ S"  	bÒ6@∫,    ˙,^  ,^  Ü,^  ,^  Ö,^  ,^  Ñ,^  /;,~   H } " ‡,~     Ñ "  Ä0D  É1D  @   ,~   4d´  ÄF   =d*    ,~         c(  @   ( Ç H EH   Line too long. Please reenter:
   Bad return code from TIE
     CONTROL CHARACTERS IN ABOVE LINE REMOVED
         H Ñ3lø@  20l  
@  2 0 5N?+ @,~   ˚   `  1 B ô+ «        Ñ    à        ç        í        ó        ú  ô   0"  Å+ K "   B Ä,~     ô   0b   "   B Q£ *   X( * J   *hO.&  ÄQ  Å (  Ä.( *X  .  0b  *&ˇ "   B *@@ ™,ﬂ4BW,~     ∞ B ü@@  @@ †  µ    F   F °  6 
0  J0  J ! 0  $  Ä  2,È  ,,j   á B ù,Ç6@ ™+ Ì7@  + ‰ "  ˇ+ e  ü  ≤,,•4Bj,!   Ä  ≠ &  ,¸4Bm,!4BÏ,ß,∫+ m,+ ·  6   B Å   (  Ä.( *Q   *  Ä.
 ôX  Ç.  Ç0b   *(ˇ,{  ™,~    "  Ñ B ™  ù+ Ì,""  Ä  6. * ,’,Â  6  2B !+ ~ "  Ä,,~   ,~     6    2,Ï4Bâ  µ  2" +     ±,Ï5B  µ> + Å  µ  2" + â> ,~   ,~    B ∂ B 7@ 0+ è,!   Ä  ≠ &  Ö,¸4B "  É  3,`,~   ,~     µ  Å/  B 8   $ï5H   + ﬁ+ £+ ®+ 0+ 7+ B+  + M+ W+ X+ Y+ ·+ Í+ q+ ¯+ ˝+ + 	+  + a+ f+ Á+ ï+ )+ º+ A+ Y+ ﬁ  6  2B !+ ' "  Ä,ä+ (,µ,˜+ ﬁ7@ 1+ Æ,<  ≠ $  Ä &  Ç,¸5B. "  ,ä@@ ™+ Ø "  ,ä+ ﬁ  µ  Å3b + ≥ "  Ä,5B5 "  Å,ä+ ∂ "  Ä $  Ä,+ ﬁ7@ /+ ø  6  2B + ø  µ   2B  + ø6@ †+ ø  ≠ $    &  Å,¸4B¡ "  Ä  8 &  ,™+ ﬁ6@ †+ … "  Ä B † "  Ä, "  ,«  µ   B ° 
 6 (  H !+ J,¶+ ﬁ "     8 &  ,™+ ﬁ7@ 4+ ’ "  Ä,4B’ "  ø B ,•4BT  ≠ $  Ä &  ,¸4BU "  Ä,∫+ ÷ "  É,ä+ ﬁ,%+ ﬁ,+ ﬁ "  Ä, B 7 "  Ü  3,`6@ 7+ ﬁ "  @A 4B` "    3,` "   B ™+ ﬁ  µ  Å3b + i,¶  µ: ,.,Â  µ    $     ±,È+ j "  Ö,ä+ ﬁ  8,5BÌ "  ,ä+  "     8,4B "  ï,«+ ﬁ "  Ä,5Bt "  @A 4Bw "  Ü  3,` "    3,` "   B ™+ ﬁ  8,5B˚ "  ,ä+ } "  Ä  8,+ ﬁ,<,˛/"  Ä B 7,4BÇ "  Ä  7,+ É "  á,ä+ ﬁ,<,˛/"  Ä B 74bá,"+ à "  ,ä+ ﬁ  !  62B +  
 µ ( 2H °+ 6@ †+ ë7@ Ø+ ë  ≠ $    &  Ä,¸4Bí "  à,ä+ ü "  /,«  !  62" + ,  6> + 6@ †+ ô, "   ,6@ †+ ü "  Ü  3,` "    3,`  ,,j+ ﬁ "  Ä,  µ  Å3b + K6@ ,+ % "   + )  ,,° B ∑."  Å &  . ∑   /   B 77@ †+ +: 77@ ¥+ 2  6   B ∑: ∑  62b + 2,’0B  + ±@@ 7+ ≠ "  Ä,]. 7 B 7, B ∑  7&  Ä H 7, B ∑  73& ∑+ ? "    3,`  7/ ∑ B ∏?  ∏+ æ "  ,«+ <+ ≈ "  Ü  3,` "    3,`  7 B 9?  9+ ≈ "  ,«+ C  µ   B 7  µ  Å3b 7+ K: 7,.,Â+ G "  Ü  3,` "    3,`6@ ,+ P "   + T  ,,° B ∑."  Å &  . ∑   /  4B’  ,,j  6   B 7  !3b 7+ ⁄: 7,’,Â+ W7@ †+ ‹ "  ,«  6  3b 7+ ‡: 7,’,Â+ ‹+ ﬁ  µ  Å3b + ‰ "  Ä,"+ Â "  â,ä+ ﬁ "  
,ä+ ﬁ@@ π@@ ∫  6   B ; 
 µ (  H ª "   ,] B 7  ¨  7,ó. 7 B :6@ π+ Ç6@ ∫+ Ç  µ  Å3b + Ç: ,. B  "  Ä,4B  6: ""  Ä. &"  Ç5$˙<   .$  Ç$$.$Q`.  Q    h  Ä "   ,]2B :+ Ä "  Ä B π+  "  Ä B ∫+ Ô  6  / ; B 87@ π+ Ü (   + â "   ,]   Ä  ¨,ó   Ä H 7  ; 
 6 B(   ª  µ B0 6@ ∫+ . 8   ,5Bë "  ä,ä+  "  Ä  8,4B6@ π+ ,+ ﬁ7@ ≥+  "  Ä,5Bô "  ,ä+ ®,< B  &   F 71"  ∞+ 0b  =+ / 7 B + ¢  1"  †+ ¢0b  -+ ¢. 7 B ,•4B&  ≠ $  Ä &  ,¸4Bß "  Ä,∫+ ®  ,Â+ ﬁ  !  62B + ¨ "  ã,ä+ <,µ  !  62" + ¥  ,’1B  + ≥  6  ,’0B  Ñ+ ¥,˜+ -  !  62" + <  ,’1B  + <  6  ,’1B  Ñ+ <,˜+ ¥+ ﬁ,<,¸ B 74bø,"+ ¿ "  ,ä+ ﬁ,¶  6  /   µ B  Å    .§ B 7"*  Ä.
 &*  Ç5,»<
   .,  Ç$$.,Q`.
  Q
   J ∑   Å L <?  <+ Œ ∑B 7+ L  µ@@ @@   6    F   F !    $  Ä  2,È@@ ° "  Ü  3,` "    3,`  ,,j+ ﬁ,<,¸ B 7,4B› "  Ä  7,+ ﬁ "  ,ä,~   ,~     + B µ  ´ F 6  Ä3H Ä+ e (   H ™   ,~     µ  Ä1b  + Í7@ ±+ i6@ 2+ Í "   B ™,~   6@ ±+ Ï " " B ±6@ 2+ Ó " & B 26@ ≥+ Ñ   B º  µ    F û: û  µ2b Å+ É/"  Ä&"  Ç5$ˆ<   .$  Ç$$.$Q`.  Q  $  Ä D    ,ß4B7@ ¥+ ˝  1B  + 7@ 4+    1B  ø+   º B  &  É F ™   Å,~   + r  º B 6@ ¨+ Ü "¡ B ¨6@ ≠+ â@@ Ø@@ /@@ 0@@ 1  ™,~   ,~    B = D Ω,¶   B >"&  Ä  µ.  &&  Ç5(<   .(  Ç$$.(Q` 
 µ.(  Q   F æ  Ω L ??  ?+ ü æ B 7@ =+ ò,Â,•4B  ≠ $  Ä &  ,¸4B,¡+   > B  "   ,~   +   > B  "  Ä,~   ,~    B ø,¶  ø B @?  @+ ©  µ:    $     ±,È "  í,«+ $,~   ,~    B ¿ D A F ¡6` A+ 2,¶ "  Ü  3,` "    3,` "   B ™+ ;  A,4B:  ¿  A,4Bπ "  Ü  3,` "    3,` "   B ™+ ;  ¡,ä,~   ,~   , "  ˇ  ≤, "  @A 5B@,  ,~   ,~     6: 6@ †+ K  µ   Å3b  + K:      $  Ä  ±,È  6    $  Ä  2,È+ Õ  6    $     2,È""  Ä  6. &"  Ç5$Q<   .$  Ç$$.$Q`.  Q    h  Ä   ,~   ,~    B B/"  Ä&"  Ç5$ÿ<   .$  Ç$$.$Q`  6.  Q     Ä"  ,~   ,~    B ¬   F D@@ C 
 6 (  H √: √  62b + z,’ B ,ß4By6@ ¬+ pM#$