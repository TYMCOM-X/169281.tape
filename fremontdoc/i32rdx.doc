















                                    3270 Interface
                                   Reference Manual

                                    March 30, 1984

                              Host Interface Version 7.02
                            Terminal Interface Version 5.02
                                   CMT Version 1.00
















                                    Tymshare, Inc.

                              Network Technology Division






























































                 This document  is the sole property  and confidential
                 information of Tymshare, Inc., and  may not be copied
                 in  whole or  part or  disclosed to  any third  party
                 without the prior written consent of Tymshare.





                 Copyright 1984 by Tymshare, Inc.

                 TYMNET and OnTyme are registered trademarks of
                 Tymshare, Inc.















                                 SUMMARY OF CHANGES TO

                            3270 Interface Reference Manual

                                    March 30, 1984


            This reference manual dated March  30, 1984 supercedes the 3270
            Interface Reference  Manual of  December 16,  1981 which  docu-
            mented software version 3.  It documents Host Interface version
            7.02, Terminal Interface version 5.02, and CMT version 1.00.

            Some of the major changes are:

              1. The Virtual Host  Mode with the CMT  Emulator is described
                 in the Overview.

              2. The second  chapter describes  system operation  including
                 support capabilities and constraints.

              3. The third chapter defines system  generation for 3270 Host
                 and Terminal Interfaces and describes statement syntax.

              4. The 3270  Host and Terminal Interface  Tymfile definitions
                 are in a new format with each interface described in sepa-
                 rate chapters  (Chapter  Four and  Chapter  Five,  respec-
                 tively).

              5. Sample 3270 Host and Terminal Interface Tymfiles have been
                 expanded and moved to  Appendix A and Appendix  B, respec-
                 tively.

              6. The Polling Address Conversion Table is now in Appendix C.

              7. The Attention Key Conversion Table is now in Appendix D.

              8. Debugging  options for  both the  3270  Host and  Terminal
                 Interfaces are in Appendix E and Appendix F, respectively.
                 In version 3,  these options were included  in the Tymfile
                 statements sections.

              9. Section 6.0, Terminal Evaluation, has been eliminated.





















                                        PREFACE


            This manual describes the operating requirements for the TYMNET
            3270 Host and  Terminal Interfaces.  It is intended  for use by
            system programmers  and field support specialists.   The manual
            is organized into five chapters.

            Chapter One is an overview of  the TYMNET 3270 interface Proto-
            col and application support.

            Chapter Two defines TYMNET 3270 Host Interface support capabil-
            ities  and  constraints  and describes  system  operation.   It
            includes  descriptions of  circuit  login, bisynchronous  (BSC)
            protocol, and protocol operation characteristics.

            Chapter Three defines a 3270 Host  Interface Tymfile and a 3270
            Terminal Interface Tymfile for system generation.

            Chapter Four defines the macros and parameters required to gen-
            erate a 3270 Host Interface Tymfile.

            Chapter Five defines the macros and parameters required to gen-
            erate a 3270 Terminal Interface Tymfile.

            The  main text  is  followed by  six  appendixes:  Sample  Host
            Interface Tymfile,  Sample Terminal Interface  Tymfile, Polling
            Address Conversion Table, Attention  Key Conversion Table, Host
            Interface Debugging  Options, and Terminal  Interface Debugging
            Options.






























            3270 Interface Reference Manual                  March 30, 1984


                                       CONTENTS                                       ________


            OVERVIEW .................................................... 1

               Native Mode .............................................. 2

               Virtual Terminal Mode .................................... 4

               Virtual Host Mode ........................................ 5

               Virtual Host Mode with the CMT 3270 Emulator ............. 6

               Via X.25 Interface ....................................... 8

            SYSTEM OPERATION ........................................... 10

               Support Capabilities .................................... 10

               Support Constraints ..................................... 11

               Network Login Procedures ................................ 11

                  Circuit Login Processing ............................. 12

                  Project Code Interpretation .......................... 12

                     Project Code Structure ............................ 13

                     Project Code Defaults ............................. 13

                  Polling Address Assignment ........................... 13

                  BSC Protocol ......................................... 15

                  Operating Characteristics ............................ 15

                     Native Mode ....................................... 16

                     Virtual Terminal Mode ............................. 16

                     Virtual Host Mode ................................. 16

                     Disconnecting the Terminal ........................ 17

            SYSTEM GENERATION .......................................... 18

               Host Interface .......................................... 19


                                                                     Page i









            3270 Interface Reference Manual                  March 30, 1984


               Terminal Interface ...................................... 19

               Syntax .................................................. 20

                  Macro Statement Syntax ............................... 20

                  Ranging Macro Syntax ................................. 20

                  Equate Statement Syntax .............................. 21

                  Message Text Syntax .................................. 21

            HOST INTERFACE TYMFILE DEFINITIONS ......................... 23

               General Macros .......................................... 23

                  Host Numbers Associated with Host Interface .......... 23

                  End of Tymfile ....................................... 24

               Setup Macros ............................................ 24

                  Start of Configuration ............................... 24

                  End of Configuration ................................. 25

               Configuration Macros .................................... 25

                  Define Line .......................................... 26

                  Line Associated with Host ............................ 26

                  Define Control Unit .................................. 27

                  Define Device ........................................ 27

                  Define Color Terminals ............................... 28

                  Define Special Device ................................ 28

               Macros Defining LUD Entries ............................. 29

                  Define LUD Entry ..................................... 29

                  Device Username May Access ........................... 30

               Macros Defining Host Messages ........................... 30



                                                                    Page ii









            3270 Interface Reference Manual                  March 30, 1984


                  Start of Message String .............................. 31

                  Message Text ......................................... 31

                  Message Usage ........................................ 32

                  Send Needle Data to Host ............................. 33

                  End of Message ....................................... 33

               Parameters That Can Be Modified (Host Interface) ........ 34

                  Define Associated Device ............................. 34

                  Define Type of Virtual Host Device ................... 34

                  Echo Project Code .................................... 35

                  Inactivity Timer ..................................... 35

                  IBM ENTER Key ........................................ 36

                  IBM 3101 PF Keys ..................................... 36

                  Number of Mapped Ports ............................... 37

                  Number of Screen Buffers ............................. 37

                  OWL and TYMSHARE 470 PF Keys ......................... 38

                  Poll Timeout ......................................... 39

                  Save Queue ........................................... 39

            TERMINAL INTERFACE TYMFILE DEFINITIONS ..................... 41

               General Macros .......................................... 41

                  Host Numbers Associated with Terminal Interface ...... 41

                  End of Tymfile ....................................... 41

               Setup Macros ............................................ 42

                  Start of Configuration ............................... 42

                  End of Configuration ................................. 42



                                                                   Page iii









            3270 Interface Reference Manual                  March 30, 1984


               Device Description Macros ............................... 43

                  Define Line .......................................... 43

                  Define Control Unit .................................. 44

                  Define Device ........................................ 44

                  Define Printer ....................................... 45

                  Define Color Terminals ............................... 46

                  Define Special Device ................................ 46

                  Define PVC ........................................... 47

               Stored-Login Definitions ................................ 47

                  Define Element ....................................... 48

                  Define Menu .......................................... 52

                  Define Login String .................................. 53

                  Login String Start ................................... 53

                  Manual Login Menu .................................... 54

                  Menu Device .......................................... 54

               Miscellaneous Macro ..................................... 55

                  Define Calling Address ............................... 55

               Parameters That Can Be Modified (Terminal Interface) .... 56

                  Default Menu ......................................... 56

                  Hold Hang Time ....................................... 56

                  Inactivity Hang Time ................................. 57

                  Poll Time Inactivity ................................. 57

                  Poll Time Interval ................................... 57

                  Poll Timeout ......................................... 58



                                                                    Page iv









            3270 Interface Reference Manual                  March 30, 1984


                  PVC Timer ............................................ 58

                  Two PF Key Option .................................... 59

                  Lines Requiring Hang Logic ........................... 59

            Appendix A, SAMPLE HOST INTERFACE TYMFILE .................. 60

            Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE .............. 67

            Appendix C, POLLING ADDRESS CONVERSION TABLE ............... 77

            Appendix D, ATTENTION KEY CONVERSION TABLE ................. 79

            Appendix E, HOST INTERFACE DEBUGGING OPTIONS ............... 80

            Appendix F, TERMINAL INTERFACE DEBUGGING OPTIONS ........... 85

            INDEX ...................................................... 90































                                                                     Page v









            3270 Interface Reference Manual                  March 30, 1984


                                      CHAPTER ONE


            OVERVIEW            ________

            The  TYMNET 3270  Interface  provides  the 3270  terminal  user
            access to host computers with 3270 support and access to inter-
            active asynchronous ASCII host computers  through a TYMNET net-
            work.  The interface  also provides users of  certain ASCII CRT
            terminals access to host  computers with 3270 support  and sup-
            ports ASCII printers that function as 3270 printers.

            The 3270  terminal connects  to a  TYMNET network  and accesses
            multiple hosts  and applications (independent of  host software
            restrictions).  This increases the  versatility and flexibility
            of the  3270 terminal.   A 3270  terminal that  accesses ASCII-
            compatible hosts eliminates the need  for multiple terminals at
            a 3270 site.

            The 3270 interface supports the  Perkin-Elmer (OWL) 1200, 1250,
            and 1251 terminals, the TYMSHARE 470 terminal, and the IBM 3101
            terminal.  These terminals  access a 3270 host  and perform the
            functions of a  3270-type terminal.  The host  interface trans-
            lates the ASCII characters to  EBCDIC characters.  The terminal
            appears as a 3270 device to the host computer.

            The 3270 Character  Mode Terminal  (CMT) emulator  allows asyn-
            chronous  ASCII-type terminals  to access  3270  hosts.  A  CMT
            accesses  a 3270  host interface  or a  3270 host  via an  X.25
            interface using the 3270 Display System Protocol (DSP).

            The 3270 interface may replace leased  lines at a customer site
            without revisions to hardware or software.   A 3270 host inter-
            face connects to  the host through direct  hard-wired or leased
            lines.  The  host interface matches  the host's  polling tables
            and responds  to these  addresses.  A  3270 terminal  interface
            connects to the  terminals through direct hard-wired  or leased
            lines.  The terminal interface polls these devices.  Communica-
            tion is established through virtual  circuits.  Additional fea-
            tures are available to revise an existing 3270 network.

            A document,  3270 Display  System Protocol,  1981-08, describes                         _______________________________________
            the  standard  end-to-end  protocol to  support  IBM  3270-type
            devices on an X.25 packet-switched network.






                                                         OVERVIEW    Page 1









            3270 Interface Reference Manual                  March 30, 1984


            TYMNET 3270  Interfaces use IBM's  3270 polled BSC  protocol at
            speeds up  to 9600  bits per  second to  communicate with  3270
            hosts and terminals.  (Refer to page 15 for more details on the
            BSC protocol.)


            Native Mode            ___________

            TYMNET  3270 Host  and  Terminal  Interfaces operating  in  the
            native mode replace  leased lines between hosts  using the 3270
            protocol  and  3270  compatible  terminals.   This  application
            allows sharing of network facilities among multiple 3270 appli-
            cations or among 3270  applications and batch BSC  or asynchro-
            nous applications.  Figure 1 illustrates  a native mode connec-
            tion.



































                                                         OVERVIEW    Page 2









            3270 Interface Reference Manual                  March 30, 1984



                                        *****
                                       *     *
                                      * 3270  *
                                      * TERM  *
                                       *     *
                                        *****
                                          |
                                          |
                                     3270 | BSC
                                          |
                                      ---------
                                     |         |
                                     |   3270  |
                                     | TERMINAL|
                                     |INTERFACE|
                                     |         |
                                 ---------
                                          |
                                          | DSP
                                          |
                                          |
                                      ---------
                                     |         |
                                     |  3270   |
                                     |  HOST   |
                                     |INTERFACE|
                                     |         |
                                      ---------
                                          |
                                     3270 | BSC
                                          |
                                          |
                                      ---------
                                     |  3270   |
                                     |  HOST   |
                                     |COMPUTER |
                                     | SYSTEM  |
                                     |         |
                                      ---------


                                Figure 1.  Native Mode                                ______________________







                                                         OVERVIEW    Page 3









            3270 Interface Reference Manual                  March 30, 1984


            Virtual Terminal Mode            _____________________

            A 3270  terminal connected  to the  3270 terminal  interface is
            used in place of a teletype-compatible  terminal to access net-
            work host  computers through TYMCOMs.   Figure 2  illustrates a
            virtual terminal mode connection.

                                         *****
                                        *     *
                                       * 3270  *
                                       * TERM  *
                                        *     *
                                         *****
                                           |
                                           |
                                      3270 | BSC
                                           |
                                       ---------
                                      |         |
                                      |   3270  |
                                      | TERMINAL|
                                      |INTERFACE|
                                      |         |
                                       ---------
                                           |
                                    TYMNET | ASCII PROTOCOL
                                           |
                                           |
                                       ---------
                                      |         |
                                      |         |
                                      | TYMCOM  |
                                      |         |
                                      |         |
                                       ---------
                                           |
                                           |
                                     ASYNC | ASCII
                                           |
                                       ---------
                                      |         |
                                      |  HOST   |
                                      |COMPUTER |
                                      | SYSTEM  |
                                      |         |
                                       ---------

                           Figure 2.  Virtual Terminal Mode                           ________________________________


                                                         OVERVIEW    Page 4









            3270 Interface Reference Manual                  March 30, 1984


            Virtual Host Mode            _________________

            Certain ASCII  block mode  terminals may  access 3270  protocol
            host computers through the 3270 host interface operating in the
            virtual host  mode.  These ASCII  block mode terminals  are the
            Perkin-Elmer (OWL) 1200, 1250, and  1251, the TYMSHARE 470, and
            the IBM 3101.  Figure 3 illustrates a virtual host mode connec-
            tion.

                                         *****
                                       *       *
                                     *  SPECIAL  *
                                    *  BLOCK MODE *
                                     *   TERM    *
                                       *       *
                                         *****
                                           |
                                     ASYNC | ASCII
                                           |
                                       ---------
                                      |         |
                                      |  TYMSAT |
                                      |         |
                                       ---------
                                           |
                                           |
                                    TYMNET | ASCII PROTOCOL
                                           |
                                       ---------
                                      |  3270   |
                                      |  HOST   |
                                      |INTERFACE|
                                       ---------
                                           |
                                           |
                                      3270 | BSC
                                           |
                                       ---------
                                      |  HOST   |
                                      |COMPUTER |
                                      | SYSTEM  |
                                       ---------

                             Figure 3.  Virtual Host Mode                             ____________________________






                                                         OVERVIEW    Page 5









            3270 Interface Reference Manual                  March 30, 1984


            Virtual Host Mode with the CMT 3270 Emulator            ____________________________________________

            ASCII character  mode terminals may  access 3270  protocol host
            computers through the 3270 Character Mode Terminal (CMT) emula-
            tor and the  3270 host interface operating in  the virtual host
            mode.  These ASCII character mode terminals are the VT-100, the
            SCANSET,  the  ADM-3A,  the Televideo  920/925,  the  Hazeltine
            1500s, and the DISPLAYPHONE.

            The CMT 3270 emulator supports terminals operating in character
            mode, which  allows less  intelligent terminals  to communicate
            with a 3270 host interface.  Because  CMT 3270 uses DSP to com-
            municate with  the host interface, it  is also possible  to use
            the X.25 interface.  (Refer to  CMT 3270 documentation for spe-
            cific information on this protocol.)   Figure 4 illustrates the
            virtual host mode  connection options with the  CMT 3270 emula-
            tor.

































                                                         OVERVIEW    Page 6









            3270 Interface Reference Manual                  March 30, 1984


                          *********                 *********
                        *  SPECIAL  *             *  SPECIAL  *
                       *    BLOCK    *           *  CHARACTER  *
                        * MODE TERM *             * MODE TERM *
                          *********                 *********
                              |                         |
                        ASYNC | ASCII             ASYNC | ASCII
                              |                         |
                          ---------                 ---------
                         |         |               |         |
                         |         |               |         |
                         |  TYMSAT |               |  TYMSAT |
                         |         |               |         |
                         |         |               |         |
                          ---------                 ---------
                            \                           |
                             \                   TYMNET | ASCII PROTOCOL
                              \                         |
                               \                    ---------
                                \                  |         |
                          TYMNET \ ASCII PROTOCOL  |   CMT   |
                                  \                |  3270   |
                                   \               |EMULATOR |
                                    \              |         |
                                     \             |         |
                                      \             ---------
                                       \               /
                                        \             /
                                         \           / DSP
                                           ---------
                                          |         |
                                          |  3270   |
                                          |  HOST   |
                                          |INTERFACE|
                                          |         |
                                           ---------
                                               |
                                          3270 | BSC
                                               |
                                           ---------
                                          |  3270   |
                                          |  HOST   |
                                          |COMPUTER |
                                          | SYSTEM  |
                                          |         |
                                           ---------

                Figure 4.  Virtual Host Mode with the CMT 3270 Emulator                _______________________________________________________


                                                         OVERVIEW    Page 7









            3270 Interface Reference Manual                  March 30, 1984




            Via X.25 Interface            __________________

            The host and  terminal interfaces are compatible  with the 3270
            DSP standard.   A Packet  Assembler/Disassembler (PAD)  substi-
            tutes for either  the host or the terminal  interface.  The PAD
            interfaces with the network via  a standard X.25 interface.  It
            communicates with a device or a host by a BSC line or by a more
            direct mechanism such  as a host channel  attachment.  Figure 5
            illustrates the various X.25 interface connection options.







































                                                         OVERVIEW    Page 8









            3270 Interface Reference Manual                  March 30, 1984


                                        ************
                                      *     3270     *
                                      *   TERMINAL   *
                                        ************
                               BSC  /                  \   BSC
                                   /                    \
                         ___________                     \
                        |           |                     \
                        |   3270    |                      \
                        | TERMINAL  |                       \
                        |   PAD     |                        \
                        |___________|                         \
                              |                                \
                         DSP  |  X.25                           \
                              |                                  \
                         ___________                           ___________
                        |           |\                       /|           |
                        |   X.25    | \                     / |    3270   |
                        |           |  \                   /  |  TERMINAL |
                        | INTERFACE |   \    _____________/   | INTERFACE |
                        |___________|    \  /                 |___________|
                              |     \     \/                  /     |
                              |      \    /\_____________    /      |
                              |       \  /               \  /       |
                         ___________   \/   ___________   \/   ___________
                        |           |  /\  |           |  /\  |           |
                        |   X.25    | /  \ |   X.25    | /  \ |    3270   |
                        |           |/    \|           |/    \|    HOST   |
                        | INTERFACE |      | INTERFACE |      | INTERFACE |
                        |___________|      |___________|      |___________|
                              |                  |                /
                         DSP  |  X.25            |               /
                              |                  |              /
                         ___________             |             /
                        |           |            |            /
                        |   X.25    |       DSP  |  X.25     /
                        |   HOST    |            |          /
                        |   PAD     |            |         /
                        |___________|            |        /
                                 \               |       /
                             BSC  \              |      /  BSC
                                     -------------------
                                    |       3270        |
                                    |       HOST        |
                                    |     COMPUTER      |
                                     -------------------

                               Figure 5.  X.25 Interface                               _________________________


                                                         OVERVIEW    Page 9









            3270 Interface Reference Manual                  March 30, 1984


                                      CHAPTER TWO


            SYSTEM OPERATION            ________________

            The TYMNET 3270 Host Interface  configuration supports compati-
            ble 3270 devices.   The configuration supports  these capabili-
            ties with specific 3270 environment requirements.


            Support Capabilities            ____________________

            The TYMNET 3270 Host Interface is compatible with 3270 terminal
            equipment and equivalent  devices not manufactured by  IBM that
            are compatible with the 3270 polled BSC protocol.  Consult with
            a technical support representative  to verify the compatibility
            of specific 3270 devices not manufactured by IBM.

                                Compatible IBM Devices                                ______________________

                       3178                Display terminal
                       3271-1,-2           Control unit
                       3274-1C             Control unit
                       3276-1,-2,-3,-4     Control unit/display
                       3277-1,-2           Display terminal
                       3278-1,-2,-3,-4     Display terminal
                       3279-2,-3           Display terminal
                       3284-1,-2,-3        Printer
                       3286-1,-2           Printer
                       3287-1,-2           Printer
                       3288-2              Printer
                       3289                Printer
                       3290                Information panel

            The Read Modified and Read Buffer commands  that produce a lim-
            ited  conversational  mode response  are  processed  routinely.
            However,  extensive use  of  these  commands may  produce  slow
            response times.

            The Read Buffer command is not fully  supported on the IBM 3101
            because of translation problems.

            Uppercase  and   lowercase  alphabetic  characters   are  fully
            supported.






                                                SYSTEM OPERATION    Page 10









            3270 Interface Reference Manual                  March 30, 1984


            Support Constraints            ___________________

            The TYMNET  3270  Interface  has  the  following  support  con-
            straints:

              o  Systems Network Architecture/Synchronous Data Link Control
                 (SNA/SDLC)  communication with  the host  computer is  not
                 supported.

              o  Direct  channel  connection  (local   3270  mode)  is  not
                 supported.

              o  Those 3270 terminals that use  the ASCII character set are
                 not supported.

              o  The 3275 dial-up version of the 3270 using contention mode
                 BSC protocol is not supported.

              o  The  3270 test  request key  is not  supported.  The  test
                 request message  is inconsistent with  terminal addressing
                 within other 3270 BSC messages.

              o  Special feature  character sets (e.g., APL,  Katakana) may
                 not be fully utilized.

              o  The IBM  3101 terminal  does not  support numeric  fields.
                 The numeric field bit in attributes received from the host
                 is ignored.


            Network Login Procedures            ________________________

            Display terminal  users begin  operation with  a network  login
            procedure requiring input of a username, a password, and a pro-
            ject code.  As  an installation option  in the  terminal inter-
            face, a fixed username, password, and project code may be spec-
            ified for each terminal.  This option causes automatic restora-
            tion  of the  network circuit  after network  or host  outages.
            Each active terminal has a separate virtual circuit.  Terminals
            on a single control unit may access different host computers or
            different applications within the same host computer.

            A  dedicated  program-attention  key  or  program-function  key
            accesses a  network services  screen.  This  screen allows  the
            user to perform  a network logout or to  control printer usage.
            The network services key is  specified at system generation for
            the terminal interface.



                                                SYSTEM OPERATION    Page 11









            3270 Interface Reference Manual                  March 30, 1984


            A display terminal  supplies login information and  other input
            for a printer  terminal.  The display terminal is  also used to
            disconnect the printer's virtual circuit.


            Circuit Login Processing            ________________________

            In native mode,  circuits are built through the  network to the
            3270 host interface using  the standard TYMNET circuit-building
            process.  Initially,  the interface waits  to receive  the call
            user data packet containing the following:

              o  3270 terminal's physical address

              o  Device type

              o  Requested logical line address

              o  Control unit address

              o  Device address

              o  Other terminal characteristics


            Project Code Interpretation            ___________________________

            In the virtual host mode, the project code is composed of three
            optional fields.  The  first field (referred to  as the logical
            address) is zero to three characters long.  The first character
            is the line identifier.  The second character is the address of
            a control unit  on that line.  The third character  is a device
            address on the  specified control unit.  If any  element is not
            specified or is specified by a  quotation mark, the host inter-
            face  assigns the  first available value or a  default value to
            that field.

            The second field is a terminal identifier.

            The last field supplies other modifiers for the terminal type.










                                                SYSTEM OPERATION    Page 12









            3270 Interface Reference Manual                  March 30, 1984


            Project Code Structure            ______________________

            The structure of this project code is:

                 l c d n x

            where:

                 l = Line number or " (any legal address character)

                 c = Control unit address or " (any legal address
                     character)

                 d = Device address or " (any legal address character)

                 n = 1  Perkin-Elmer (OWL) 1200, 1250, 1251 terminal
                     2  TYMSHARE 470 terminal
                     3  IBM 3101 terminal

                 x = S  (associated printer)
                     T  (printer)

            The fields in the project code  must be in the order specified.
            A default is assigned for any  field not specified.  Any or all
            fields may be  absent.  A number, input as part  of the project
            code after the "l" field, is assigned to field "n"; numbers are
            meaningless in any other field.  All alphabetic characters must
            be uppercase.


            Project Code Defaults            _____________________

                 lcd  There is no default, but if no device is specified,
                      one is selected by the scheme described below.

                   n  The default for "n" is  established at system genera-
                      tion.

                   x  Only the S option (associated printer) may be
                      designated as a default at system generation.


            Polling Address Assignment            __________________________

            The user's login status is partially  defined by the Local User
            Directory (LUD).  The first two  characters of the username are
            checked against  the LUD  table specified  at configuration  to



                                                SYSTEM OPERATION    Page 13









            3270 Interface Reference Manual                  March 30, 1984


            determine which devices the username is allowed to access.  The
            host polls the available devices and the host interface matches
            the username to the first  available device compatible with the
            user's machine access status.  If a  device is not polled after
            a predetermined  period, the  device becomes  unavailable.  The
            host interface  assigns the  first legal  combination of  "lcd"
            available.

            After the  interface receives the  project code, it  must match
            the requested device address with the  address list in the host
            interface's device configuration table.   The device configura-
            tion table is searched for an  available logical address match-
            ing the request.

            The matching process uses the following rules:

              1. When the host interface is  generated  with the LUD option
                 defined,  the first  two characters  of  the username  are
                 scanned to determine whether the  user is permitted access
                 to the device requested.

              2. The logical  device address  assigned must  have the  same
                 device  type  as  the   physical  device.   Terminals  are
                 assigned  to terminal  addresses and  printers to  printer
                 addresses.   A request  for a  device  with an  associated
                 printer  requires that  the  printer  be assigned  to  the
                 device.

              3. A  quotation mark  (") in  the  requested logical  address
                 matches any character in that position.

              4. The first  matching, available  logical device  address is
                 assigned.

              5. If the  project code requests  an associated  printer, the
                 first available logical  device address having  an associ-
                 ated printer device address also available is assigned.

            If the  assignment process fails, an  error message is  sent to
            the terminal and the network circuit is disconnected.

            If the assignment process succeeds,  a status message (normally
            Device End status) is sent to the host.

            Once a  successful assignment is  made, the host  interface may
            send an optional  text message to the host informing  it of the
            new  circuit.  This  is  accomplished  by defining  the  MSGUSE
            option GRT at host interface system generation.


                                                SYSTEM OPERATION    Page 14









            3270 Interface Reference Manual                  March 30, 1984


            BSC Protocol            ____________

            The terminal  interface uses  standard 3270  BSC protocol.   It
            continuously cycles  through the  control units  on each  line,
            issuing general poll messages to each control unit.  At the end
            of each polling  cycle, the interface checks  for data messages
            to be  sent to terminals.   If a  message is waiting,  a select
            message is sent to the corresponding terminal.

            Whenever a poll or select message  is sent, subsequent process-
            ing is a function of the current state of the line and the type
            of message received.

            (Refer to  the IBM specification  titled General  Information -                                                     ______________________
            Binary Synchronous Communications  for more details on  the BSC            _________________________________
            protocol.)


            Operating Characteristics            _________________________

            Some operating characteristics of the 3270 interface are appli-
            cable to all modes.

            Text messages from the  terminal are queued by  the host inter-
            face for transmission to the host.   More than one text message
            may be  queued for a device.   Status messages (such  as Device
            End) from the terminal are also queued until they are forwarded
            to the host in response to a  poll.  The Copy command also gen-
            erates status messages  if the specified printer is  busy or is
            unavailable.  The status "unavailable" may  be generated if the
            terminal is not on the same  terminal interface control unit as
            the printer.

            General and  specific polls are answered  on the basis  of text
            and status information present in  the host interface.  If more
            than one text message is queued for  a device, the first one is
            transmitted  in  response  to the  poll.   Write  commands  are
            acknowledged immediately by  the host interface and  are passed
            through  the network.   Read  commands from  the  host are  not
            acknowledged by  the host interface.   Instead, the  request is
            passed directly to the terminal  interface.  The host interface
            must wait until a response is received from the terminal inter-
            face.  The  response is returned by  the host interface  to the
            host.






                                                SYSTEM OPERATION    Page 15









            3270 Interface Reference Manual                  March 30, 1984


            Native Mode            ___________

            Native mode is entered automatically on  the basis of action by
            the host computer interface.

            The host  interface assigns  the circuit  to a  polling address
            recognized by the  host computer and returns  a message placing
            the terminal interface in the native mode.

            When a 3270 compatible terminal is  logged into the host inter-
            face, no translation or reformatting functions are performed on
            text messages sent to or received from the host computer.  Sta-
            tus conditions  detected at  the terminal  are reported  to the
            host  computer as  received.  Serious  errors  at the  terminal
            cause  disconnection of  the  network  circuit and  the  device
            appears unavailable to the host.


            Virtual Terminal Mode            _____________________

            In the virtual  terminal mode, the terminal  interface performs
            several functions locally  so the 3270 terminal  appears to the
            host computer as a standard  full-duplex ASCII terminal.  These
            functions are EBCDIC-to-ASCII  character set  translation, dis-
            play formatting, and keyboard control.


            Virtual Host Mode            _________________

            In the virtual host mode, the  host interface translates termi-
            nal input from ASCII to EBCDIC and  formats the data into stan-
            dard  3270 BSC  messages.   Output from  the  host computer  is
            translated from EBCDIC  to ASCII, and 3270  commands and orders
            are transformed into equivalent control sequences recognized by
            the terminal.

            The translation process required is unique to each ASCII termi-
            nal model.  For this reason, support is limited to TYMSHARE 470
            terminals,  Perkin-Elmer 1200  series terminals,  and IBM  3101
            terminals or to an ASCII printer connected to a printer port.

            The 3270 interface  provides two methods of  printer support in
            virtual host mode.  The first method allows an ASCII printer to
            be logged into a printer port  on the 3270 host interface.  The
            login procedure  is similar  to that used  on an  OWL terminal,
            except the fifth character of the project code must be the let-
            ter T,  indicating the  terminal is a  printer.  Once  login is



                                                SYSTEM OPERATION    Page 16









            3270 Interface Reference Manual                  March 30, 1984


            complete, any  input from the  printer is  disregarded.  Output
            from  the host  is translated  to ASCII  and is  queued to  the
            printer.

            In the  second method,  an ASCII  printer is  connected to  the
            printer port  on an OWL or  470 terminal.  When logging  into a
            3270 host  with this combination  of terminal and  printer, the
            fifth character of the project code must be the letter S.  This
            causes  the printer  associated  with the  device  in the  host
            interface to be accessed.  Output from  the host to the associ-
            ated printer appears only at the printer.  Output from the host
            to the terminal appears only at the terminal.

            This method requires that the  host configuration associate the
            printer with  the terminal, so that  a terminal may be  used to
            direct host output to the printer.


            Disconnecting the Terminal            __________________________

            The  circuit is  disconnected by  either  the network  services
            screen in native or virtual terminal mode or the disconnect key
            in virtual host mode.

            If the host  interface is generated with the  MSGUSE option ZAP
            defined, the  interface accepts a  disconnect message  from the
            host.   If the  host  interface is  generated  with the  MSGUSE
            option DSC defined, a message is sent from the interface to the
            host whenever  a user is  disconnected from the  host interface
            for any reason.  However, no interpretation of the cause of the
            disconnect is provided.



















                                                SYSTEM OPERATION    Page 17









            3270 Interface Reference Manual                  March 30, 1984


                                     CHAPTER THREE


            SYSTEM GENERATION            _________________

            System  generation is  the  process  that prepares  files  that
            define  the  network configuration  (Tymfiles),  assembles  the
            files into machine-readable code, and  loads the files into the
            machine.

            The Tymfile  is the network  configuration file  that describes
            the external network and network interfaces.  The 3270 host and
            3270 terminal interfaces must each  have a Tymfile that defines
            their operating environments.

            The  Tymfile is  a series  of statements  (macros) that  define
            parameters  to determine  the  node's  configuration.  Most  of
            these macros are placed between the global device configuration
            (CONFIG) macro and the end of  the Tymfile (ENDTYM) macro.  All
            parameter changes other  than default values are  assigned fol-
            lowing the ENDTYM macro.  The hexadecimal values and the EBCDIC
            equivalents of ASCII alphabetic characters are interchangeable.

            The number  scheme for devices match  the order defined  in the
            Tymfile.  The device  numbers for terminals and  printers range
            from 0 to M-1, with M being  the total number of devices.  Ter-
            minal interface elements,  login strings, and menus  follow the
            same scheme.






















                                               SYSTEM GENERATION    Page 18









            3270 Interface Reference Manual                  March 30, 1984


            Host Interface            ______________

            The host  interface configuration must match  the configuration
            of the  host front-end processor.   When the host  interface is
            generated,  several  aspects  of   the  configuration  must  be
            defined.

              1. The identifying numbers for host BSC lines, control units,
                 devices, and network circuits must be specified.

              2. For each BSC line, all control units' addresses whose poll
                 messages  are  answered  by the  host  interface  must  be
                 defined.

              3. For each control unit, all  devices recognized by the host
                 must  be  defined.   This  requires  specifying  a  device
                 address, a device type (terminal or  printer), and a logi-
                 cal line  address.  The  logical line  address is  used in
                 assigning device addresses to network circuits.

            The detailed configuration  of the host interface  is specified
            in the Tymfile.


            Terminal Interface            __________________

            When  the terminal  interface is  generated, its  configuration
            must be specified.  This requires several kinds of information.

              1. The identifying numbers of BSC  lines, control units, ter-
                 minals and printers,  and network circuits must  be speci-
                 fied.

              2. For each BSC  line, the addresses of all  control units to
                 be recognized must be specified.

              3. For  each  control  unit,  all  devices  present  must  be
                 defined.  The  device address, type  (printer or  small or
                 regular screen terminal), and login menu must be given.

            Control unit and device  addresses are in the  EBCDIC poll for-
            mat.  If the  configuration is changed, the  terminal interface
            must  be regenerated  with  revised configuration  information.
            The detailed configuration of the  terminal interface is speci-
            fied in the Tymfile.





                                               SYSTEM GENERATION    Page 19









            3270 Interface Reference Manual                  March 30, 1984


            Syntax            ______

            Three types  of statements  specify parameters  for the  system
            generation  (sysgen)  of  the TYMNET  3270  Interface  Tymfile.
            These  are  macro  statements, ranging  macro  statements,  and
            equate statements.  Some macro statements specify message text.


            Macro Statement Syntax            ______________________

            Macro parameters are specified in the form:

                 SSSSSS(p1,p2, . . . ,pn)

            where the  SSSSSS is the  macro name  and the "p1"  through the
            "pn" are the parameter values.

            The name of the macro may begin in the first column, but inden-
            tation is recommended for clarity.   The open parenthesis, "(",
            must immediately follow the name.  Values "p1" through "pn" may
            not contain spaces except where spaces are actually part of the
            value (as  in the message  text).  The close  parenthesis, ")",
            must follow the last value with no spaces.  A macro body cannot
            exceed  7665  characters.   All parameters  must  be  specified
            unless a  default is  acceptable.  The  colon, ":",  on a  line
            indicates the  rest of the  line is  a comment.  These  are not
            read by the assembler and are optional.

            Example:

                 DEFDEV(0C1,C1920,2)


            Ranging Macro Syntax            ____________________

            Ranging macro  parameters have the  same format as  the macros,
            but allow the user to specify a range or several ranges of val-
            ues for a  specific statement.  The syntax for  a ranging macro
            parameter is:

                 RRRRRR(n, . . . ,range)

            where RRRRRR  is the  macro name,  "n" is  a single  value, the
            ellipses, ". . .", are another single value  or a range of val-
            ues, and "range" is a range of values.





                                               SYSTEM GENERATION    Page 20









            3270 Interface Reference Manual                  March 30, 1984


            A range must begin with the lowest value and end with the high-
            est value.  Ranges or single values are separated by commas.  A
            hyphen separates each  range of values.  The  open parenthesis,
            "(", and the  close parenthesis, ")", are used as  in the macro
            format.  Spaces within  the parenthesis are not  allowed unless
            actually a part of the value.

            Example:

                 DEVOK(1,2,6-12)


            Equate Statement Syntax            _______________________

            The syntax for equate statements is:

                 EEEEEE EQ [$n]vvvv

            where EEEEEE  is the name of  the macro, "[$n]" is  an optional
            radix definition, and the "vvvv" is the value of the parameter.

            Equate statements must  begin in column one of  the Tymfile.  A
            comment may be specified anywhere  after the statement value by
            preceding the comment with a colon.

            The radix  values may be  specified as  $A for decimal,  $0 for
            hexadecimal, or $8 for octal.

            Example:

                 NBBFLT EQ $A600


            Message Text Syntax            ___________________

            Some macro  statements specify message  text that  requires the
            use  of hexadecimal  numbers  representing special  characters.
            All characters  for the message  text must be  specified.  This
            includes any carriage returns and  line feeds.  All displayable
            characters may be specified as they would normally appear.

            Characters having  a seven-bit  ASCII value  between 00  and 1F
            must be specified by  their hexadecimal equivalent, immediately
            preceded by a quotation mark.  Two  of the most common of these
            characters and their hexadecimal values are:

                 "8D  Carriage return
                 "8A  Linefeed


                                               SYSTEM GENERATION    Page 21









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 DEFELE(C"8D)
                 DEFELE(N231060900"8AF AY)














































                                               SYSTEM GENERATION    Page 22









            3270 Interface Reference Manual                  March 30, 1984


                                     CHAPTER FOUR


            HOST INTERFACE TYMFILE DEFINITIONS            __________________________________

            This chapter  describes the macros  and parameters  required to
            generate a 3270 host interface.


            General Macros            ______________

            This section describes general macros that  are called in addi-
            tion to the configuration macros.


            Host Numbers Associated with Host Interface            ___________________________________________

            Syntax:  HSTPRT(h0,p0,...,h7,p7)

            This macro specifies  the host numbers (in  decimal) associated
            with  the host  interface and  must  precede the  configuration
            macro.

                 h0 = Host number of host 0
                 p0 = Number of ports assigned to host 0

                 h7 = Host number of host 7
                 p7 = Number of ports assigned to host 7

            This macro assigns dispatcher ports to a specified host number.
            The number (in decimal) of  ports determines the maximum number
            of simultaneous  users.  This number is  less than or  equal to
            the total number of interface devices.

            The interface supports more than one host number.  Each pair of
            parameters represents  one host  specification.  The  number of
            hosts may  not be greater than  the number of  interface lines.
            There  must  be  at  least one  host  number.   This  macro  is
            required.

            Example:

                 HSTPRT(900,3,901,6)

            Host 900 has  three ports associated with it; host  901 has six
            ports associated with it.




                              HOST INTERFACE TYMFILE DEFINITIONS    Page 23









            3270 Interface Reference Manual                  March 30, 1984


            End of Tymfile            ______________

            Syntax:  ENDTYM

            This macro  specifies the  end of  the Tymfile  macros and  the
            beginning of certain symbols  that are dependent on  other Tym-
            file  parameters.   If  the  values  of  those  parameters  are
            changed, the new values are assigned following this macro.

            This  macro is  situated after  the  CONFIG macro.   It has  no
            parameters.  It is required.

            Example:

                 ENDTYM

            ENDTYM specifies the end  of the Tymfile macros  and the begin-
            ning of Tymfile parameters that can be changed.


            Setup Macros            ____________

            This section describes setup macros that  must be called by the
            configuration macros.


            Start of Configuration            ______________________

            Syntax:  SCONF

            This macro  indicates the start  of the  Tymfile configuration.
            It has no  parameters and must be  the first macro call  in the
            configuration macro.  It is required.

            Example:

                 SCONF

            SCONF specifies the start of the Tymfile configuration.











                              HOST INTERFACE TYMFILE DEFINITIONS    Page 24









            3270 Interface Reference Manual                  March 30, 1984


            End of Configuration            ____________________

            Syntax:  ECONF

            This macro indicates the end  of the Tymfile configuration.  It
            has  no parameters  and  must be  the last  macro  call in  the
            configuration macro.  It is required.

            Example:

                 ECONF

            ECONF specifies the end of the Tymfile configuration.


            Configuration Macros            ____________________

            The configuration macros describe the device configuration of a
            host interface.   The configuration  macros are  called between
            the SCONF and ECONF macros, usually immediately after the SCONF
            macro.

            Some of the macro calls require  an address as a parameter.  If
            addresses are required, they may be  specified as the hexadeci-
            mal representation of an EBCDIC  character.  This is equivalent
            to  the EBCDIC  character followed  by a  decimal point  (i.e.,
            hexadecimal 40 and  SP. are equivalent, as  are hexadecimal 0C1
            and A.).

            Many  of the  following macros  have a  relative device  number
            parameter.  This number is determined  by assigning zero to the
            first define  device (DEFDEV) macro.  Subsequent  DEFDEV macros
            are  assigned  successive  numbers.   Only  DEFDEV  macros  are
            counted in this sequence.
















                              HOST INTERFACE TYMFILE DEFINITIONS    Page 25









            3270 Interface Reference Manual                  March 30, 1984


            Define Line            ___________

            Syntax:  DEFLN(ln,,rts)

            This macro indicates the start of  the configuration of a line.
            Items between  it and  the next  DEFLN or  ECONF refer  to this
            line.  The parameters for this macro are:

                  ln  The one-character EBCDIC line  address is arbitrarily
                      assigned, but is unique.  It is required.

                 rts  Specifies  whether  request-to-send  (RTS)  handshake
                      signals are required.  It is optional.

                      1 = Requires RTS (default)

                      0 = Does not require RTS

            Example:

                 DEFLN(40,,0)

            The EBCDIC line address is 40  (in hexadecimal).  The line does
            not require RTS.


            Line Associated with Host            _________________________

            Syntax:  LNHOST(n)

            This macro indicates  the relative host number  associated with
            this line.  It  is required and must be present  for each line.
            It follows the  DEFLN with which the host is  to be associated.
            Several lines  may be  associated with one  host, but  only one
            host may be associated with each line.

                 n  The number  in hexadecimal corresponding to  HOSTn with
                    which this line  is associated.  If it  is not defined,
                    then it defaults to 0.

            Example:

                 LNHOST(0)

            This line is associated with HOST0.





                              HOST INTERFACE TYMFILE DEFINITIONS    Page 26









            3270 Interface Reference Manual                  March 30, 1984


            Define Control Unit            ___________________

            Syntax:  DEFCU(cuadr)

            This macro  specifies the address  of a preceding  control unit
            that attaches to the line specified  in the define line (DEFLN)
            macro.  Define  device (DEFDEV)  references follow  to indicate
            the address of devices that attach to this control unit.

                 cuadr  The one-character EBCDIC control unit address.
                        It is required.

            Example:

                 DEFCU(SP.)

            The control unit address is 40 (in hexadecimal) for the current
            line.  (SP. is equivalent to 40 in hexadecimal.)


            Define Device            _____________

            Syntax:  DEFDEV(dev,type,asso)

            This macro defines  the characteristics of each  device associ-
            ated with  the current control unit  and line.  As many  as 255
            devices can be assigned for assembly  purposes, but not all may
            operate at the same time  because of insufficient buffer space.
            The parameters are:

                  dev  The  one-character  EBCDIC device  address.   It  is
                       required.

                 type  The device  type and screen  size.  It  is required.
                       The device type is specified by:

                            C = Terminal (CRT)        P = Printer

                       where screen sizes in characters per screen are:

                            480    960    1920    2560    3440    3564

                       For the virtual  host mode, devices must  be defined
                       with screen size 1920.

                       Examples:  C1920       P1920       C960




                              HOST INTERFACE TYMFILE DEFINITIONS    Page 27









            3270 Interface Reference Manual                  March 30, 1984


                 asso  The device number of the printer associated with the
                       terminal at login (if  requested).  If an associated
                       printer is  specified, the printer  is automatically
                       logged in as  a separate device.  This  parameter is
                       optional  and if  absent  no  device is  associated.
                       This feature is used only in the virtual host mode.

            Example:

                 DEFDEV(40,C1920,9)

            The device address is 40 (in  hexadecimal) for the current con-
            trol unit.  The  device is a terminal with  1920 characters per
            screen.  The associated printer is  device number 9, which must
            be for the same control unit as this device.


            Define Color Terminals            ______________________

            Syntax:  DEFCOL(device-list)

            This macro indicates that the  specified terminal(s) is a color
            device.   From one  to ten  color  devices or  ranges of  color
            devices (in decimal)  may be specified in a  single macro call.
            If insufficient, multiple macros may be invoked.

            Example:

                 DEFCOL(1,2,7-11)

            Relative devices 1, 2, and 7 through 11 are color devices.


            Define Special Device            _____________________

            Syntax:  DEFXPR(device-list)

            This  macro indicates  that  the  specified device(s)  requires
            extended highlighting,  extended color, or  programmed symbols.
            Certain models of  the 3278 and 3279 display  terminals and the
            IBM color printers must be defined in this macro if one or more
            of their special capabilities are to be used.  No more than ten
            device numbers or ranges of device  numbers (in decimal) may be
            specified in  a single macro  call.  If  insufficient, multiple
            macros may be invoked.





                              HOST INTERFACE TYMFILE DEFINITIONS    Page 28









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 DEFXPR(0-21,30,40-50)

            Devices 0 through 21, 30, and 40  through 50 can operate in the
            transparency mode.


            Macros Defining LUD Entries            ___________________________

            The following macros define Local  User Directory (LUD) entries
            to be stored  in the host interface to allow  or disallow login
            by specific usernames.  These macros follow the device configu-
            ration macros.

            The LUD  defines the device  access rights that  are associated
            with a particular  username or group of usernames.   If the LUD
            is not defined,  any username may access  any interface device.
            When specified,  each LUD  entry describes  a list  of relative
            device numbers  that a given  username may access.   Each entry
            consists of two  parts.  A name definition  specifies the first
            two characters of the username.   A device definition specifies
            which devices a username with the required first two characters
            may access.

            The login process rejects any name not in the LUD unless a list
            of devices accessible by unlisted names is provided.  The first
            LUD entry determines this option when 0 is the LUD value of the
            entry.  If devices  are assigned to this first  LUD entry, then
            names not appearing  in the remaining entries  may be assigned.
            If devices are  not assigned, then only names  appearing in the
            list may access an interface device.


            Define LUD Entry            ________________

            Syntax:  DEFLUD(LUD value)

            This macro  defines a  name entry  in the  LUD which  allows or
            restricts access  to a device  by usernames.  The  parameter is
            the first two characters of an  allowable username.  This hexa-
            decimal value is obtained by placing side by side the hexadeci-
            mal ASCII representation  of the two characters  (parity is not
            important).   If  DEFLUD  is not  defined,  all  usernames  are
            allowed.  In  the case  of the first  DEFLUD, if  the parameter
            value is zero, then it matches  all usernames that do not match
            subsequent LUD entries.



                              HOST INTERFACE TYMFILE DEFINITIONS    Page 29









            3270 Interface Reference Manual                  March 30, 1984


            Examples:

                 DEFLUD(0)              :ALL USERNAMES EXCEPT AB AND BA
                    DEVOK(0-3)          :ACCESS DEVICES 0-3
                 DEFLUD(0C1C2)          :NAMES BEGINNING WITH AB
                    DEVOK(0-3,10,12-14) :ACCESS DEVICES 0-3, 10, 12-14
                 DEFLUD (0C2C1)         :NAMES BEGINNING WITH BA
                    DEVOK(2-3,13)       :ACCESS DEVICES 2, 3, 13


            Device Username May Access            __________________________

            Syntax:  DEVOK(device-list)

            This macro specifies the devices  that the username, as defined
            by the last  DEFLUD macro, may access.  As many  as ten devices
            or ranges of  devices may be specified in a  single macro call.
            If  more are  needed, a  second DEVOK  call may  be used.   All
            devices are the relative device numbers represented in decimal.
            If a  DEFLUD macro does  not have  a DEVOK macro  following it,
            then usernames  beginning with the  two characters of  this LUD
            are restricted from accessing any device.

            Example:

                 DEVOK(4-20)

            The username  defined in the  previous DEFLUD macro  may access
            devices 4 through 20.


            Macros Defining Host Messages            _____________________________

            These macros  define messages sent  to the host  computer under
            conditions established  by macro  parameters.  There  are three
            macros to  define a text  and one to  declare the usage  of the
            previously defined message text.

            The start  of the  message string  (STMSG) macro  indicates the
            start of a  message text definition.  One or  more message text
            (MSGTEX) references follow this macro.  An end message (ENDMSG)
            macro terminates the sequence.

            After the message text definition, there are one or more refer-
            ences to the message usage  (MSGUSE) macro.  This macro defines
            the functions and devices to which the messages are assigned.




                              HOST INTERFACE TYMFILE DEFINITIONS    Page 30









            3270 Interface Reference Manual                  March 30, 1984


            Start of Message String            _______________________

            Syntax:  STMSG

            This macro  indicates the beginning  of a message  text string.
            It must be  followed by one or more MSGTEX  macros that specify
            the message text  and the ENDMSG macro  to mark the end  of the
            message.

            Example:

                 STMSG

            STMSG indicates the beginning of a message text string.


            Message Text            ____________

            Syntax:  MSGTEX(c0,c1,c2,...,c15)

            This macro  specifies message  text.  Examples  are a  greeting
            message sent to the host when a user logs in, a disconnect mes-
            sage sent to the host when  the user's circuit is disconnected,
            or a ZAP message received from the  host when the user is to be
            disconnected (see MSGUSE).

            The parameters "c0", "c1", "c2", through "c15" are the hexadec-
            imal values of the EBCDIC  characters constituting the message.
            Instead of  the hexadecimal values,  equivalent symbols  may be
            used (such as A. for EBCDIC 0C1).

            As many as 16 characters may  be specified in one MSGTEX macro.
            The macro may be repeated if more characters are required.

            Example:

                 MSGTEX(N.,E.,T.,W.,O.,R.,K.,SP.,L.,O.,G.,O.,N.)

            The message text is NETWORK LOGON.











                              HOST INTERFACE TYMFILE DEFINITIONS    Page 31









            3270 Interface Reference Manual                  March 30, 1984


            Message Usage            _____________

            Syntax:  MSGUSE(fcn,device-list)

            This macro defines the usage  of the previously defined message
            text macro.  A message may be  used for more than one function.
            If so, there must be one or more MSGUSE calls for each function
            required.

            The usage parameter  "fcn" must be set to one  of the following
            values:

                 GRT  The text  defined by  calls to  MSGTEX is  a greeting
                      message.  It is  sent to the host whenever  a user is
                      connected.

                 DSC  The text  defined by calls to  MSGTEX is sent  to the
                      host whenever a user is disconnected.

                 ZAP  The text sent by  the host is detected  by the inter-
                      face, causing the user to  be disconnected.  The text
                      of this message must be exactly four bytes long.

            No more than ten devices or  ranges of devices may be specified
            in a single macro call.  The macro may be repeated if more than
            ten  devices  or ranges  of  devices  must be  specified.   All
            devices are the relative device numbers represented in decimal.

            Example:

                 MSGUSE(GRT,0-6)

            The message text will be used as a greeting message for devices
            0 through 6.
















                              HOST INTERFACE TYMFILE DEFINITIONS    Page 32









            3270 Interface Reference Manual                  March 30, 1984


            Send Needle Data to Host            ________________________

            Syntax:  NDLUSE(fcn,device-list)

            This macro causes the contents of the ISIS needle to be sent to
            the host.  Each numeric  field of the needle is  a decimal num-
            ber, delimited by semicolons.  The username field is translated
            to EBCDIC, separated by semicolons.  Following the needle data,
            any text by  a virtual login is sent.  This  data translates to
            EBCDIC and is forwarded.  A semicolon or a carriage return ends
            terminal input.

            The NDLUSE  macro indicates that needle  data is to be  sent to
            the host.

            The values for "fcn" are:

                 NDL  Send needle data to the host.

            A greeting message and a needle  message may be defined for the
            same device.  The needle text  follows the message text.  There
            are no  MSGTEX messages associated  with NDLUSE.  No  more than
            ten devices or  ranges of devices may be specified  in a single
            macro call.

            Example:

                 NDLUSE(NDL,2,5,15)

            Needle information is defined for printer logins.


            End of Message            ______________

            Syntax:  ENDMSG

            This macro  indicates the end  of a  message defined by  one or
            more calls  to MSGTEX; it must  immediately follow the  call to
            MSGTEX.

            Example:

                 ENDMSG

            End of message defined by the last MSGTEX macro.





                              HOST INTERFACE TYMFILE DEFINITIONS    Page 33









            3270 Interface Reference Manual                  March 30, 1984


            Parameters That Can Be Modified (Host Interface)            ________________________________________________

            This section describes  defaulted parameters that can  be modi-
            fied for the host interface.  These parameters must follow END-
            TYM in the host interface Tymfile.


            Define Associated Device            ________________________

            Syntax:  DFLASS EQ #

            Default: 0

            By default, a  CRT logging into the virtual host  mode does not
            request an associated device  (printer), unless an S  is speci-
            fied in the project code field.  Setting DFLASS to 1 means that
            all virtual host logins request  an associated device automati-
            cally.

                 1 = The virtual host device will have an associated device
                     assigned to it.

                 0 = The virtual  host device will  not have  an associated
                     device assigned to it, unless explicitly requested.

            Example:

                 DFLASS EQ 1

            The virtual host device will have an associated device assigned
            to it.


            Define Type of Virtual Host Device            __________________________________

            Syntax:  DFLTYP EQ #

            Default: 2

            This parameter  specifies the default  for the type  of virtual
            host device.   Users logging  in with the  default type  do not
            have to  specify device  type.  If  logging in  with any  other
            type, the user must specify the device type in the project code
            field during login.  Device types are:

                 1  Perkin-Elmer 1200, 1250, or 1251 terminal
                 2  TYMSHARE 470 terminal
                 3  IBM 3101 terminal


                              HOST INTERFACE TYMFILE DEFINITIONS    Page 34









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 DFLTYP EQ 3

            The default  device type for  the virtual  host mode is  an IBM
            3101.


            Echo Project Code            _________________

            Syntax:  ECHOPJ EQ #

            Default: 1

            This parameter  causes the host  interface to echo  the project
            code in the virtual host mode only.

                 1 = The host interface will echo the project code.

                 0 = The host interface will not echo the project code.

            Example:

                 ECHOPJ EQ 0

            The host interface will not echo the project code.


            Inactivity Timer            ________________

            Syntax:  IACTIM EQ #

            Default: $A60*60 (60 minutes)

            This parameter  specifies the inactivity interval  (no transfer
            of data) permitted before the user is disconnected.  The inter-
            val is specified in seconds.

            Example:

                 IACTIM EQ $A30*60

            The user is disconnected after 30 minutes of inactivity.







                              HOST INTERFACE TYMFILE DEFINITIONS    Page 35









            3270 Interface Reference Manual                  March 30, 1984


            IBM ENTER Key            _____________

            Syntax:  IBMENT EQ #

            Default: 07D (IBM 3270 ENTER key)

            This parameter specifies the Attention ID (AID) that is sent to
            the host  whenever the SEND  key of the  3101 is struck  in the
            virtual host mode.

            Example:

                 IBMENT EQ 0F8

            The IBM 3101 ENTER key functions as the 3270 PF-8 key.


            IBM 3101 PF Keys            ________________

            This parameter defines  the defaults for the IBM  3101 PF keys.
            It applies only to the host interface.


                                                           IBM 3270 Key
               IBM 3101 Key      Symbol        Default      Equivalent               ____________      ______        _______      __________

                   PF-1          IBMPF1          0F1           PF-1
                   PF-2          IBMPF2          0F2           PF-2
                   PF-3          IBMPF3          0F3           PF-3
                   PF-4          IBMPF4          0F4           PF-4
                   PF-5          IBMPF5          000            *
                   PF-6          IBMPF6          06C           PA-1
                   PF-7          IBMPF7          06E           PA-2
                   PF-8          IBMPF8          06D           CLEAR


               *The IBM 3101 is disconnected from the network when the PF-5
                key is pressed.


            Example:

                 IBMPF8 EQ 0F1

            The IBM 3101 PF-8 key functions as the IBM 3270 PF-1 key.





                              HOST INTERFACE TYMFILE DEFINITIONS    Page 36









            3270 Interface Reference Manual                  March 30, 1984


            Number of Mapped Ports            ______________________

            Syntax:  NMPORT EQ #

            Default: 1

            This parameter defines the maximum number of simultaneous users
            of any combination of the  following devices:  Perkin-Elmer 125
            or 1200, IBM 3101, ASCII-type printer, or compatible printer.

            Example:

                 NMPORT EQ 5

            Terminals requiring a map may log in to no more than five ports
            simultaneously.


            Number of Screen Buffers            ________________________

            Syntax:  NSCNBF EQ #

            Default: 0

            This  parameter defines  the  maximum  number of  devices  that
            require screen  buffers that may  be logged  in simultaneously.
            Screen buffers  are required  for all  ASCII printers,  whether
            they are  associated printers or  not.  This  parameter applies
            only to the host interface.

            Example:

                 NSCNBF EQ 2

            No more than two devices requiring screen buffers may be logged
            in simultaneously.














                              HOST INTERFACE TYMFILE DEFINITIONS    Page 37









            3270 Interface Reference Manual                  March 30, 1984


            OWL and TYMSHARE 470 PF Keys            ____________________________

            This parameter defines the defaults  for the Perkin-Elmer (OWL)
            1250 and the TYMSHARE 470 PF keys.  It applies only to the host
            interface.


                 OWL 1250 or                                 IBM 3270 Key
              TYMSHARE 470 Key     Symbol        Default      Equivalent              ________________     ______        _______      __________

                   PF-1            OWLPF1          0F1           PF-1
                   PF-2            OWLPF2          0F2           PF-2
                   PF-3            OWLPF3          0F3           PF-3
                   PF-4            OWLPF4          0F4           PF-4
                   PF-5            OWLPF5          0F5           PF-5
                   PF-6            OWLPF6          0F6           PF-6
                   PF-7            OWLPF7          0F7           PF-7
                   PF-8            OWLPF8          0F8           PF-8
                   PF-9            OWLPF9          06C           PA-1
                   PF-10           OWLP10          06E           PA-2
                   PF-11           OWLP11          06B           PA-3
                   PF-12           OWLP12          06D           CLEAR
                   PF-13           OWLP13          0C5           PF-17
                   PF-14           OWLP14          0C6           PF-18
                   PF-15           OWLP15          0C7           PF-19
                   PF-16           OWLP16          0C8           PF-20
                   PF-17           OWLP17          0F9           PF-9
                   PF-18           OWLP18          07A           PF-10
                   PF-19           OWLP19          07B           PF-11
                   PF-20           OWLP20          07C           PF-12
                   PF-21           OWLP21          0C1           PF-13
                   PF-22           OWLP22          0C2           PF-14
                   PF-23           OWLP23          0C3           PF-15
                   PF-24           OWLP24          0C4           PF-16
                   PF-25           OWLP25          07D           ENTER
                   PF-26           OWLP26          07D           ENTER
                   PF-27           OWLP27          07D           ENTER
                   PF-28           OWLP28          000             *
                   PF-29           OWLP29          0C9           PF-21
                   PF-30           OWLP30          04A           PF-22
                   PF-31           OWLP31          04B           PF-23
                   PF-32           OWLP32          04C           PF-24


               *The OWL 1250 or TYMSHARE  470 terminal is disconnected from
                the network when the PF-28 key is pressed.




                              HOST INTERFACE TYMFILE DEFINITIONS    Page 38









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 OWLP32 EQ 07D

            The OWL PF-32 key functions as the ENTER key.


            Poll Timeout            ____________

            Syntax:  POLT3 EQ #

            Default: $A90 (90 seconds)

            If no  polls are  detected in  the interval  specified by  this
            parameter, then the host interface  disconnects all circuits to
            the host.  This host is considered "down."

            Example:

                 POLT3 EQ $A60

            The timeout for polls is 60 seconds  before the host is consid-
            ered "down."


            Save Queue            __________

            Syntax:  SAVEQ EQ #

            Default: 1

            Save queue (SAVEQ) is an option that shortens response time for
            selected host  systems.  Some systems using  VM/CMS acknowledge
            terminal-initiated data  with an RVI.   The host issues  a Read
            Modified command  to collect  the terminal  data.  This  causes
            considerable delay  if it involves  the network.   The original
            data is saved  in the host interface when it  receives the RVI.
            Data may be supplied to the host when it issues a Read Modified
            command.  This function is enabled when SAVEQ is set to 1.

                 1 = Enables the save queue

                 0 = Disables the save queue







                              HOST INTERFACE TYMFILE DEFINITIONS    Page 39









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 SAVEQ EQ 0

            Save queue is not needed to shorten response time.













































                              HOST INTERFACE TYMFILE DEFINITIONS    Page 40









            3270 Interface Reference Manual                  March 30, 1984


                                     CHAPTER FIVE


            TERMINAL INTERFACE TYMFILE DEFINITIONS            ______________________________________

            This chapter  describes the macros  and parameters used  in the
            generation of the terminal interface Tymfile.


            General Macros            ______________

            This section  describes the general  macros that are  called in
            addition to the configuration macros.


            Host Numbers Associated with Terminal Interface            _______________________________________________

            Syntax:  HSTPRT(h0,0)

            This macro specifies the originating host  number of the termi-
            nal interface for accounting purposes.   The first parameter is
            the originating host number (in  decimal), which previously was
            defined by the  ORGHST parameter.  The second  parameter should
            always be  zero.  This macro is  required and must  precede the
            CONFIG macro.

            Example:

                 HSTPRT(48,0)

            The originating host number for this terminal interface is 48.


            End of Tymfile            ______________

            Syntax:  ENDTYM

            This macro  specifies the  end of  the Tymfile  macros and  the
            beginning of certain symbols  that are dependent on  other Tym-
            file  parameters.   If  the  values  of  those  parameters  are
            changed, the new values are assigned following this macro.

            This  macro is  situated after  the  CONFIG macro.   It has  no
            parameters.  It is required.






                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 41









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 ENDTYM

            ENDTYM specifies the end  of the Tymfile macros  and the begin-
            ning of Tymfile parameters that can be changed.


            Setup Macros            ____________

            This section  describes macros that  must be called  within the
            configuration macros.


            Start of Configuration            ______________________

            Syntax:  SCONF

            This macro  indicates the start  of the  Tymfile configuration.
            It has no  parameters and must be  the first macro call  in the
            configuration macro.  It is required.

            Example:

                 SCONF

            SCONF specifies the start of the Tymfile configuration.


            End of Configuration            ____________________

            Syntax:  ECONF

            This macro indicates the end of the device descriptors.  It has
            no parameters and must be the last macro call in the configura-
            tion macro.  It is required.

            Example:

                 ECONF

            ECONF specifies the end of the device descriptors.








                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 42









            3270 Interface Reference Manual                  March 30, 1984


            Device Description Macros            _________________________

            The configuration macros are called between the SCONF and ECONF
            macros.  They  are usually called  immediately after  the SCONF
            macro.

            Some of the macro calls require  an address as a parameter.  If
            addresses are required, they may be  specified as the hexadeci-
            mal representation of an EBCDIC  character.  This is equivalent
            to  the EBCDIC  character followed  by a  decimal point  (i.e.,
            hexadecimal 40 and  SP. are equivalent, as  are hexadecimal 0C1
            and A.).


            Define Line            ___________

            Syntax:  DEFLN(ln,pf,rts)

            This macro indicates the start of  the configuration of a line.
            Items between  it and  the next  DEFLN or  ECONF refer  to this
            line.  The parameters for this macro are:

                  ln  The one-character EBCDIC line  address is arbitrarily
                      assigned, but is unique.  It is required.

                  pf  The hexadecimal  value of the  PF key used  to obtain
                      the network  services screen.  If not  specified, the
                      network services key defaults to  the PF-4 key, whose
                      hexadecimal value is 0F4.  It is optional.

                 rts  Specifies  whether  request-to-send  (RTS)  handshake
                      signals are required.  It is optional.

                      1 = Requires RTS (default)

                      0 = Does not require RTS

            Example:

                 DEFLN(40,0F5,0)

            The EBCDIC  line address is  40 (in hexadecimal).   The network
            services screen  will be accessed via  the PF-5 key.   The line
            does not require RTS.






                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 43









            3270 Interface Reference Manual                  March 30, 1984


            Define Control Unit            ___________________

            Syntax:  DEFCU(cuadr)

            This macro  specifies the address  of a preceding  control unit
            that attaches to the line specified  in the define line (DEFLN)
            macro.  Define  device (DEFDEV)  references follow  to indicate
            the address of devices that attach to this control unit.

                 cuadr  The one-character EBCDIC control unit address.
                        It is required.

            Example:

                 DEFCU(SP.)

            The control unit address is 40 (in hexadecimal) for the current
            line.  (SP. is equivalent to 40 in hexadecimal.)


            Define Device            _____________

            Syntax:  DEFDEV(dev,type)

            This macro defines  the characteristics of each  device associ-
            ated with  the current control unit  and line.  As many  as 255
            devices can be assigned for assembly  purposes, but not all may
            operate at the same time  because of insufficient buffer space.
            The parameters are:

                   dev  The  one-character EBCDIC  device  address.  It  is
                        required.

                  type  The device type  and screen size.  It  is required.
                        The device type is specified by:

                             C = Terminal (CRT)        P = Printer

                        where screen sizes in characters per screen are:

                             480    960    1920    2560    3440    3564


                        For the virtual host mode,  devices must be defined
                        with screen size 1920.

                        Examples:  C1920       P1920       C960



                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 44









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 DEFDEV(040,C1920)

            The control unit address is 40 (in hexadecimal) for the current
            line.   The  device is  a  terminal  with 1920  characters  per
            screen.


            Define Printer            ______________

            Syntax:  DEFPTR(dev,type,lab)

            This macro defines a  printer device with a label  for the net-
            work services screen.  The parameters are:

                  dev  The  one-character  EBCDIC device  address.   It  is
                       required.

                 type  The device  type and screen  size.  It  is required.
                       The device type is specified by:

                            P = Printer

                       where screen sizes in characters per screen are:

                            480    960    1920    2560    3440    3564

                       For the virtual  host mode, devices must  be defined
                       with screen size 1920.

                       Examples:  P1920       P960

                  lab  The label,  or description of  the printer,  for the
                       network services screen.  It is optional.

            DEFPTR is the same as DEFDEV (see page 44) except for the "lab"
            parameter.   If no  label is  needed, either  DEFPTR or  DEFDEV
            (third field empty) can be used.

            If the  device type for  DEFPTR is not  a printer, an  error is
            flagged and the device is undefined.

            DEFPTR macros can be intermixed with DEFDEV macros.

            In the host interface, DEFDEV is  used to define a printer.  In
            the terminal interface, either DEFDEV  or DEFPTR, but not both,
            can be used to define a particular printer.


                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 45









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 DEFPTR(0C7,P1920,BLUE PRINTER)

            The device address  is 0C7.  The device is a  printer with 1920
            characters per screen; it is called the BLUE PRINTER.


            Define Color Terminals            ______________________

            Syntax:  DEFCOL(device-list)

            This macro indicates that the  specified terminal(s) is a color
            device.   From one  to ten  color  devices or  ranges of  color
            devices (in decimal)  may be specified in a  single macro call.
            If insufficient, multiple macros may be invoked.

            Example:

                 DEFCOL(1,2,7-11)

            Relative devices 1, 2, and 7 through 11 are color devices.


            Define Special Device            _____________________

            Syntax:  DEFXPR(device-list)

            This  macro indicates  that  the  specified device(s)  requires
            extended highlighting,  extended color, or  programmed symbols.
            Certain models of  the 3278 and 3279 display  terminals and the
            IBM color printers must be defined in this macro if one or more
            of their special capabilities are to be used.  No more than ten
            device numbers or ranges of device  numbers (in decimal) may be
            specified in  a single macro  call.  If  insufficient, multiple
            macros may be invoked.

            Example:

                 DEFXPR(0-21,30,40-50)

            Devices 0 through 21, 30, and 40  through 50 can operate in the
            transparency mode.







                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 46









            3270 Interface Reference Manual                  March 30, 1984


            Define PVC            __________

            Syntax:  DEFPVC(device-list)

            This macro defines devices for what appears as a Permanent Vir-
            tual Circuit (PVC).  Mechanisms in  the software simulate a PVC
            by determining whether the device  is ready to communicate.  If
            the  device is  ready to  communicate,  the terminal  interface
            sends the  stored login to the  host and the circuit  is built.
            The connection appears  as a PVC to the user.   Each PVC device
            must have a stored login defined for  it.  No more than ten PVC
            devices or ranges of PVC devices  (in decimal) may be specified
            in a single macro call.

            Example:

                 DEFPVC(0,3,7-17)

            Devices 0, 3,  and 7 through 17 are automatically  logged in to
            appear as PVCs.


            Stored-Login Definitions            ________________________

            The user of a 3270 terminal may  log in manually or through the
            stored-login mode.  Manual login requires the user to enter the
            required data interactively  during the login process.   In the
            stored-login mode, the required login  information is stored in
            memory, and  once the  login is  initiated, the  user need  not
            enter the remaining login information.

            Various macros may  be used to create  the stored-login strings
            at assembly  time.  At the  beginning of  a session, a  menu of
            login strings is displayed.  The  user selects the login string
            that will  reach the needed host  by positioning the  cursor to
            the left of the appropriate login string and striking the ENTER
            key.













                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 47









            3270 Interface Reference Manual                  March 30, 1984


            An element is the basic part of  a login string; it consists of
            the characters required to answer one  screen of questions dur-
            ing the login process.  There are three types of elements.

              1. The username  is composed  of the  username, host  number,
                 password, and  project code.  The  project code is  a text
                 string that is sent to the host before the ASCII session.

              2. DSP(ASCII) consists of a Y, which  specifies an ASCII ses-
                 sion, and  the project  code.  DSP(ASCII)  can be  used to
                 define only the project code if needed.

              3. DSP(native) consists  of an N  followed by  the characters
                 answering  a DSP  screen   ("crm#", destination  interface
                 address,  application  identification, "cua",  and  "dva",
                 etc.).

            The login string  consists of one or more  elements that access
            the needed host.  There are two types of login strings, elemen-
            tal and manual.

              1. An elemental login string is  composed of either the login
                 elements in  proper sequence  and a  label describing  the
                 destination host or the login string.

              2. Manual indicates the  manual mode.  It is not  a string of
                 elements.

            The menu is a screen of  choices for the user's selection.  The
            menu consists  of an ordered  sequence of login  strings.  Each
            device can have different login strings.

            The stored-login macros follow the device configuration macros.


            Define Element            ______________

            Syntax:  DEFELE(element)

            This macro  defines an  element in  certain login  strings.  It
            follows the  macro definitions  of all  devices (terminals  and
            printers) and  precedes all  other  stored-login macro  defini-
            tions.







                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 48









            3270 Interface Reference Manual                  March 30, 1984


            The order  of this macro defines  the element number,  which is
            similar to the  definition of device numbers,  starting with 0.
            The definition of the different elements may be intermixed.  In
            practice,  the maximum  number  of  elements is  determined  by
            available space.  Each  element may not exceed  255 characters.
            Element numbers  are assumed to  be hexadecimal  numbers unless
            prefaced by $A (in decimal).

            Explanations and examples of the different elements follow:


              1. Username

                     DEFELE(username"3Ahost#"3Bpassword"3Bprojectcode"8D)

                        username  A valid username.  It is required.

                             "3A  Indicates a colon.   It is optional.

                           host#  A valid host number.  It is optional.

                             "3B  Indicates a semicolon and  ends the user-
                                  name field.  It is required if a password
                                  or project code follows.

                        password  A valid password for the username.  It is
                                  required if a password is to be used.  If
                                  a password is  not to be used,  the pass-
                                  word and "3B may be omitted.

                             "3B  Indicates a semicolon and  ends the pass-
                                  word field.  It is  required if the entry
                                  password is defined.

                     projectcode  The text required  by the host to  be put
                                  into a  special program  or project  when
                                  defined.  It  is sent to the  host before
                                  the  ASCII  session  is   begun.   It  is
                                  optional.

                             "8D  Indicates a  carriage return.   The  car-
                                  riage return is not sent with the project
                                  code.  (A  "0D entry  indicates the  car-
                                  riage  return is  sent  with the  project
                                  code.)  An entry is required.





                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 49









            3270 Interface Reference Manual                  March 30, 1984


              2. DSP(ASCII)

                     DEFELE(Yprojectcode"8D)

                               Y  Indicates a yes answer  to the DSP screen
                                  question   regarding   ASCII.     It   is
                                  required.

                     projectcode  The text required  by the host to  be put
                                  into a a special  program or project when
                                  defined.  It  is sent to the  host before
                                  the  ASCII  session  is   begun.   It  is
                                  optional.

                             "8D  Indicates a  carriage return.   The  car-
                                  riage return is not sent with the project
                                  code.  (A  "0D entry  indicates the  car-
                                  riage  return is  sent  with the  project
                                  code.)  An entry is required.

              3. DSP(Native)

                     DEFELE(Ncrm#destinationinterfaceadr"8dappcuadvaxprcol)

                               N  Indicates  a   no   answer  to  the   DSP
                                  screen question  regarding ASCII.   It is
                                  required.

                            crm#  The connection  request mode  number.  It
                                  is required  and must be  a digit  from 1
                                  through 4.

                                  1 = Fixed  class  "crm":    The  physical
                                      address must  match the  host address
                                      it logs in to.

                                  2 = Specific class "crm":   A value other
                                      than  "8D should  be  used in  fields
                                      "app", "cua", "dva", for the login to
                                      target to a specific device.

                                  3 = Nonspecific class "crm":   A value or
                                      "8D  can  be used  in  fields  "app",
                                      "cua", "dva", for the login to target
                                      to an  available device instead  of a
                                      specific one.




                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 50









            3270 Interface Reference Manual                  March 30, 1984


                                  4 = Associated device class  "crm":  This
                                      provides the same logical function as
                                      the virtual host  associated printers
                                      in the  native mode.  This is  not to
                                      be  used for  logging  into a  TYMNET
                                      host interface.

                     destinationinterfaceadr

                                  The destination  interface address.    It
                                  is optional and may contain digits from 0
                                  through 9.

                             "8D  A  delimiter  that ends  the  destination
                                  interface address field.  It is required.

                             app  The application identification indicating
                                  the needed line number.   It is a graphic
                                  character.  It is required.  Use  "8D  if
                                  none is specified.

                             cua  The  control  unit  address.    It  is  a
                                  graphic character.  It  is required.  Use
                                  "8D  if none is specified.

                             dva  The  device  address.  It  is  a  graphic
                                  character.  It is required.  Use  "8D  if
                                  none is specified.

                             xpr  Request  transparency.  The  Y  indicates
                                  the  user  is  requesting a  login  to  a
                                  device that can handle transparency.  The
                                  N means that  the user is logging  into a
                                  device that  cannot handle  transparency.
                                  The default is  Y for all devices  at the
                                  terminal interface that can handle trans-
                                  parency (defined by DEFXPR).  If the user
                                  does not request a login to a device that
                                  can handle  color, "col"  is not  defined
                                  following "xpr".

                             col  Request color.  The Y  indicates the user
                                  is requesting  a login  to a  device that
                                  can handle  color.  The N means  that the
                                  user is logging into a device that cannot
                                  handle color.   The default is Y  for all
                                  devices  at the  terminal interface  than



                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 51









            3270 Interface Reference Manual                  March 30, 1984


                                  can handle color (defined by DEFCOL).  If
                                  the user requests a login  device to han-
                                  dle color, "xpr" must be defined.  If the
                                  user does not request a  login to a color
                                  device, "col" is not defined.

            Examples:

                 DEFELE(JOHNDOE"3A700"3BPASSWORD"3BHELLO"0D)
                 DEFELE(YGOODBYE"8D)
                 DEFELE(Y"0D)
                 DEFELE(N101234567"8DA"8D"8D)
                 DEFELE(N29876543210"8D  "C2)
                 DEFELE(N331060900"8D"8D"8D"8DN)
                 DEFELE(N231060700"8D ABYN)


            Define Menu            ___________

            Syntax:  DEFMEN(s0,s1,...,s10,cont)

            This macro  defines the set of  login strings for  a particular
            menu.  The order  of the login string  numbers (in hexadecimal)
            in this  macro defines  the order  in which  the labels  of the
            login string appear on the menu  screen.  The maximum number of
            login string  numbers per macro is  11.  If more  are required,
            two  consecutive  DEFMEN  macros are  necessary  in  which  the
            twelfth field  of the second  macro contains a  character other
            than a null to indicate  the continuation.  Currently, only two
            DEFMEN macros are permitted, which can  specify no more than 22
            login strings.

                    s  Represents the  login string number.   At  least one
                       login string number is required.

                 cont  Represents any character other than  a null to indi-
                       cate continuation to the  previous DEFMEN macro.  It
                       is optional.

            Example:

                 DEFMEN(0,1,2,3,4,5,6,7,8,9)

            Login string numbers 0 through 9 are used for this menu.

                 DEFMEN(0,1,2,3,4,5,6,7,8,9,0A)
                 DEFMEN(0B,0C,0D,0E,0F,10,,,,,,1)



                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 52









            3270 Interface Reference Manual                  March 30, 1984


            Two DEFMEN  macros are  used to define  login string  numbers 0
            through 10 (in hexadecimal) for this menu.


            Define Login String            ___________________

            Syntax:  DEFSTR(label,ele0,ele1,ele2,ele3,ele4)

            This macro defines a login string.  It follows the LSTRST macro
            and  precedes  other stored-login  configuration  macros.   The
            order of these macros defines the login string number, starting
            with 0.  Element  numbers and string numbers are  assumed to be
            hexadecimal unless prefaced  by $A  (in decimal).   The defini-
            tions of  the different login  strings may be  intermixed.  The
            definitions are:

                 label  The desired  text describing  this login  string or
                        destination host or both.  It can be no longer than
                        70 characters.  It is required.

                   ele  The  relative element  number  (in hexadecimal)  as
                        defined by the order of DEFELE.   The order is sig-
                        nificant.   At least  one element  is required;  no
                        more than five elements are allowed.

            Example:

                 DEFSTR(DALLAS,2,0)

            DALLAS will be displayed on the  user's screen.  Elements 2 and
            0, as specified by the DEFELE macro, are required for login.

                 DEFSTR(FOR INVENTORY CONTROL,3,1,4)

            FOR INVENTORY CONTROL  will be displayed on  the user's screen.
            Elements 3,  1, and 4,  as specified  by the DEFELE  macro, are
            required for login.


            Login String Start            __________________

            Syntax:  LSTRST

            This macro indicates the beginning of  the login string defini-
            tions.  It is required  and may be invoked only  once.  It fol-
            lows the  element definitions  and precedes  other stored-login
            configuration macros.



                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 53









            3270 Interface Reference Manual                  March 30, 1984


            Example:

                 LSTRST

            LSTRST indicates the beginning of the login string definitions.


            Manual Login Menu            _________________

            Syntax:  MANUAL

            This macro defines an  item in the manual login menu.   It is a
            shorter version of DEFSTR(MANUAL LOGON)  and must be considered
            as such in determining the login string relative device number.
            The text MANUAL LOGON is displayed on the user's menu screen.

            Example:

                 MANUAL

            The user must manually enter the required login information.


            Menu Device            ___________

            Syntax:  MENDEV(device-list)

            This  macro  defines  the devices  associated  with  the  menus
            defined in the  DEFMEN macro.   This macro  follows the  corre-
            sponding DEFMEN macro  or a group of  corresponding consecutive
            DEFMEN macros.   These DEFMEN/MENDEV  sets comprising  the menu
            definition section must follow the login string definition sec-
            tion.  There may be no more than 256 sets.

            No more than ten devices or  ranges of devices (in decimal) may
            be  specified  in one  macro  call.   At  least one  device  is
            required.

            Examples:

                 DEFMEN($A40,$A10,0,1)
                 MENDEV(0,9-15)
                 DEFMEN($A20)
                 MENDEV(1)

                 DEFMEN(1,2,3,4,5,6,7,8,9,0A,0B)
                 DEFMEN(0C,0D,,,,,,,,,,1)
                 MENDEV(0-23)


                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 54









            3270 Interface Reference Manual                  March 30, 1984


            The first MENDEV  macro assigns device 0 and  devices 9 through
            15 to the menus defined in the previous DEFMEN macro.

            The second MENDEV macro assigns device 1 to the menu defined in
            the previous DEFMEN macro.

            The third MENDEV macro assigns devices 0 through 23 to the menu
            defined in the two previous DEFMEN macros.

            If a device is  not defined with a menu, the  device is given a
            default menu specified by the parameter DFLMEN.  DFLMEN is ini-
            tialized to 0, which indicates  the first menu defined.  DFLMEN
            may be changed in  the Tymfile as long as the  value is a valid
            menu number.


            Miscellaneous Macro            ___________________

            This section describes the miscellaneous  macro.  The miscella-
            neous macro  follows the SCONF  macro and  immediately precedes
            the ECONF macro.


            Define Calling Address            ______________________

            Syntax:  DEFCAL(adr)

            This macro provides  a method for defining  the calling address
            as specified by  standard definitions of the  X.25 call request
            packet.

            Example:

                 DEFCAL("0E"12"34"56"78"90"09"87)

            The  14-digit calling  address for  the  terminal interface  is
            12345678900987.  The "0E" specifies the number of digits in the
            calling address.












                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 55









            3270 Interface Reference Manual                  March 30, 1984


            Parameters That Can Be Modified (Terminal Interface)            ____________________________________________________

            This section describes defaulted  terminal interface parameters
            that can be modified.  These parameters follow the ENDTYM macro
            in the terminal interface Tymfile.


            Default Menu            ____________

            Syntax:  DFLMEN EQ #

            Default: 0

            This parameter specifies  the default  menu number  that deter-
            mines the menu screen for a device when none is specified.  The
            first defined menu screen is 0,  the second defined menu screen
            is 1, the third defined menu  screen is 2, etc.  This parameter
            applies only to the terminal interface.

            Example:

                 DFLMEN EQ 1

            The second defined menu screen is  used when none is specified.
            Every menu must have at least two choices in the menu.


            Hold Hang Time            ______________

            Syntax:  HHNGTM EQ #

            Default: $A2 (2 seconds)

            This parameter specifies the interval  (in seconds) to hold DTR
            down when there  has been no activity on the  line.  It applies
            only to the terminal interface.

            Example:

                 HHNGTM EQ $A4

            The hold hang time is 4 seconds.








                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 56









            3270 Interface Reference Manual                  March 30, 1984


            Inactivity Hang Time            ____________________

            Syntax:  IHNGTM EQ #

            Default: $A60 (60 seconds)

            This  parameter specifies  the  interval  (in seconds)  between
            checks for  line inactivity.  It  applies only to  the terminal
            interface.

            Example:

                 IHNGTM EQ $A120

            Checks for inactivity occur every 120 seconds.


            Poll Time Inactivity            ____________________

            Syntax:  POLT1 EQ #

            Default: $A45*600 (45 seconds)

            This  parameter specifies  the  interval  (in seconds)  without
            response before  the slow poll  mode is activated.   It applies
            only to the terminal interface.

            Example:

                 POLT1 EQ $A60*600

            After 60 seconds without a response, the slow poll mode begins.


            Poll Time Interval            __________________

            Syntax:  POLT2 EQ #

            Default: $A20*600 (20 seconds)

            This parameter specifies the interval (in seconds) between slow
            polls.  It applies only to the terminal interface.

            Example:

                 POLT2 EQ $A30*600

            Slow polls occur every 30 seconds.


                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 57









            3270 Interface Reference Manual                  March 30, 1984


            Poll Timeout            ____________

            Syntax:  POLT3 EQ #

            Default: $A60*600 (60 seconds)

            This  parameter specifies  the  interval  (in seconds)  between
            inappropriate responses to  polling before the  terminal inter-
            face declares the control unit  as inactive and disconnects all
            circuits with devices on this control unit.

            Example:

                 POLT3 EQ $A90*600

            The timeout for polls is 90  seconds before the control unit is
            declared inactive.


            PVC Timer            _________

            Syntax:  PVCTIM EQ #

            Default: $A5*60 (activates the PVC timer every 5 minutes)

            This parameter specifies the interval  (in seconds) for the PVC
            timer.  For devices with automatic login (PVCs), a timer checks
            the device status.   If the device is not logged  in, the timer
            automatically initiates a login procedure for the device.  This
            parameter applies only to the terminal interface.

            Example:

                 PVCTIM EQ $A30

            The PVC timer is activated every 30 seconds.














                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 58









            3270 Interface Reference Manual                  March 30, 1984


            Two PF Key Option            _________________

            Syntax:  TWOPF EQ #

            Default: 1

            This parameter enables normal use  of the network services key.
            It applies only to the terminal interface.

                 1 = If the network  services key is struck  twice, the AID
                     associated with the key  is sent to the  host applica-
                     tion.   Network services  is entered  by striking  the
                     network services key once, followed by any other key.

                 0 = If the network  services key is struck  once, the user
                     is automatically put in network  services.  The key is
                     not sent to the host or to the network.

            Example:

                 TWOPF EQ 0

            The host  application does not use  the PF key assigned  as the
            network services key.  Striking the key  once will put the user
            in network services.


            Lines Requiring Hang Logic            __________________________

            Syntax:  UHNGBT EQ #

            Default: 0000

            This parameter specifies the lines  requiring hang logic.  Hang
            logic is a  feature for half-duplex lines  connected via modems
            to terminals requiring RTS/CTS signaling.   Normally, if a user
            hangs up the telephone,  the Engine is not aware of  it and the
            line appears  busy to  other users  dialing in.   A timer,  the
            parameter IHNGTM, checks for this  condition, and the parameter
            HHNGTM clears the line by lowering the DTR signal.  This param-
            eter applies only to the terminal interface.

            Example:

                 UHNGBT EQ 8000

            Line 0 has hang logic enabled.



                          TERMINAL INTERFACE TYMFILE DEFINITIONS    Page 59









            3270 Interface Reference Manual                  March 30, 1984


                       Appendix A, SAMPLE HOST INTERFACE TYMFILE


                                         NOTE                                         ____

                 This  Tymfile demonstrates  how to  configure a  3270
                 host  interface.  The  excessive  amount of  comments
                 within the  CONFIG MACRO is  for explanation  of this
                 example.   In practice,  a macro  body cannot  exceed
                 7665 characters.  If the macro is too large, the user
                 must either  delete some  of the  comments or  define
                 submacros.


            :SAMPLE TYMFILE FOR THE 3270 HOST INTERFACE VERSION 7.02
            :
            :There are two host numbers in this sample host interface.
            :Host number 900 has two BSC lines and a total of ten login
            :devices.  Host 900 requires ten ISIS ports.
            :
            :Host number 901 has one BSC line and six login devices.
            :Host 901 requires six ISIS ports.
            :Define host and port numbers by using HSTPRT.

            HSTPRT(900,10,901,6)         :HOST0=900,HPRT0=10
                                         :HOST1=901,HPRT1=6


            :The CONFIG MACRO contains various macros that describe the
            :configuration of this interface.

            CONFIG   MACRO   [           :This begins the CONFIG macro.


            :SCONF must be the first macro inside CONFIG.  It marks the
            :beginning of the body of  macros that describes the config-
            :uration of the host interface.

            SCONF                        :First macro that begins the
                                         :configuration.


            :At this point, all the lines, control units, and devices
            :must be defined.






                       Appendix A, SAMPLE HOST INTERFACE TYMFILE    Page 60









            3270 Interface Reference Manual                  March 30, 1984


            :In this example, the first line, Line 0, has two control
            :units, each with three devices (two CRTs and one printer).
            :Line 0 associates with host 900 and has an arbitrarily
            :(but uniquely) assigned "address" of 40.  It does not require
            :the RTS/CTS handshake.
            :
            :The first control unit, CU 0, has an associated printer.
            :The second control unit, CU 1, does not.
            :If the CRT is logged into the second device of CU 0 with
            :the optional associated printer specified, the associated
            :printer with a relative device number 2 is also
            :logged into automatically.
            :
            :In this example, devices of CU 0 are used for virtual host
            :mode.  The character screen sizes are all 1920.
            :Note that all lines, control units, and devices are
            :designated by relative numbers, starting at zero.
            :Indentation of the macros is recommended for clarity.

            DEFLN(40,,0)                 :Line 0 is assigned address 40,
                                         :does not include a second
                                         :parameter, and does not require
                                         :RTS/CTS handshake.
               LNHOST(0)                 :This line is associated with
                                         :HOST0 (900).
               DEFCU(40)                 :CU 0 has an address of 40.
                  DEFDEV(40,C1920)       :Device 0 is the first device, has
                                         :an address of 40, is a CRT with
                                         :a 1920-character screen size, and
                                         :does not have an associated device.
                  DEFDEV(0C1,C1920,2)    :Device 1 is the second device,
                                         :has an address of C1 (note 0 must
                                         :precede the C), is a 1920-
                                         :character CRT, and has device 2
                                         :as the associated printer.
                  DEFDEV(0C2,P1920)      :Device 2 is the third device,
                                         :has an address of C2, and is a
                                         :1920-character printer.
               DEFCU(0C1)                :CU 1 has an address of C1.
                  DEFDEV(40,C2560)       :Device 3 has an address of 40,
                                         :is a 2560-character screen CRT,
                                         :and has an associated printer.
                  DEFDEV(0C1,C3440)      :Device 4 . . . 3440-character
                                         :screen CRT with an address of C1
                                         :and without an associated printer.
                  DEFDEV(0C2,P2560)      :Device 5 . . . printer with an
                                         :address of C2 and with a 2560-
                                         :character storage buffer.


                       Appendix A, SAMPLE HOST INTERFACE TYMFILE    Page 61









            3270 Interface Reference Manual                  March 30, 1984


            :The second line, Line 1, is associated with host 901.  It is
            :assigned address C2 (may be specified as 0C2 or B.) and
            :requires the RTS/CTS handshake.  It has only one control unit,
            :numbered 2 since the previous line ended with CU 1, and
            :six devices.
            :Note that some addresses are specified by symbols for illustration
            :only, instead of the actual EBCDIC values.

            DEFLN(B.,,1)                 :Line 1 is assigned address C2
                                         :and requires RTS/CTS handshake.
               LNHOST(1)                 :This line is associated with
                                         :HOST1 (901).
               DEFCU(D.)                 :CU 2 . . . address C4 (D. = 0C4).
                  DEFDEV(SP.,C1920)      :Device 6 . . . address 40
                                         :(SP. = 40), 1920-character screen
                                         :CRT without associated printer.
                  DEFDEV(H.,C1920)       :Device 7 . . . address C8, 1920-
                                         :character screen CRT, and without
                                         :printer.
                  DEFDEV(I.,C2560)       :Device 8 . . . address C9, 2560-
                                         :character screen CRT, and without
                                         :printer.
                  DEFDEV(4A,C1920)       :Device 9 . . . address 4A, 1920-
                                         :character screen CRT, and without
                                         :printer.
                  DEFDEV(50,C3564)       :Device 10 . . . address 50, 3564-
                                         :character screen CRT, and without
                                         :printer.
                  DEFDEV(J.,P1920)       :Device 11 . . . address D1, 1920-
                                         :character printer.


            :The third line, Line 2, is associated with host 900 (as is
            :Line 0), is assigned address C6, and requires the RTS/CTS
            :handshake.  It has only one control unit which has the
            :remaining four devices for HOST0 (remember HPRT0 = 10.
            :6 from Line 0 and 4 from Line 2).

            DEFLN(0C6)                   :Line 2 . . . address C6 and
                                         :RTS/CTS handshake is on by
                                         :default.
               LNHOST(0)                 :This line is associated with
                                         :HOST0 (900).
               DEFCU(SP.)                :CU 3 . . . address 40.
                  DEFDEV(A.,C1920)       :Device 12 . . . address C1,
                                         :1920-character screen CRT.
                  DEFDEV(B.,C3440)       :Device 13 . . . address C2,
                                         :3440-character screen CRT.


                       Appendix A, SAMPLE HOST INTERFACE TYMFILE    Page 62









            3270 Interface Reference Manual                  March 30, 1984


                  DEFDEV(C.,C480)        :Device 14 . . . address C3,
                                         :480-character screen CRT.
                  DEFDEV(4A,P1920)       :Device 15 . . . address 4A,
                                         :1920-character printer.

            :Host 901 uses the transparency mode of operation for some
            :applications.  This host has sysgened one device (address
            :40) as a 3278 display station (extended features, but without
            :color), and two devices (address C8 and C9) as the 3279
            :display station (extended features and extended color).
            :The device 4A is sysgened as a 3270 Model 2A display
            :station (basic color but without extended features).

            DEFCOL(7-9)                  :Color . . . devices 7, 8, and 9.
            DEFXPR(6,7,8)                :Extended features . . . devices
                                         :6, 7 and 8.


            :After the lines, control units and devices are defined,
            :then the LUD entries must be defined.
            :Usernames beginning with MN, CI, AND IS may access
            :only specific devices.  Those beginning with AA may
            :not access a device and the others may access any
            :available device.
            :Note that the hexadecimal representation in the DEFLUD
            :is in ASCII.

            DEFLUD(0)                    :First LUD with value 0 means
                                         :all usernames not matching other
                                         :LUD entries.
               DEVOK(12-15)              :Can access devices 12, 13, 14,
                                         :and 15.
                                         :If this DEVOK is absent, then
                                         :these usernames are locked from
                                         :logging in.
            DEFLUD(4141)                 :LUD for usernames starting with
                                         :AA.
                                         :No DEVOK so all are prohibited
                                         :access.
            DEFLUD(4D4E)                 :LUD for usernames starting with
                                         :MN.
               DEVOK(0,3-5,12-15)        :Can access devices 0, 3, 4, 5,
                                         :12, 13, 14, and 15.
            DEFLUD(4349)                 :LUD for usernames starting with
                                         :CI.
               DEVOK(1,2,6-12)           :Can access devices 1, 2, 6, 7,
                                         :8, 9, 10, 11, and 12.



                       Appendix A, SAMPLE HOST INTERFACE TYMFILE    Page 63









            3270 Interface Reference Manual                  March 30, 1984


            DEFLUD(4953)                 :LUD for usernames starting with
                                         :IS.
               DEVOK(0-15)               :Can access any available device.


            :Host 900 requires a greeting message whenever a new device is
            :being logged in.  The message is user-defined, and is
            :HELLO 123 NETWORK LOGON in this example.

            STMSG                        :Starts the message text.
               MSGTEX(H.,E.,L.,L.,O.,SP.,N1.,N2.,N3.,SP.)
               MSGTEX(N.,E.,T.,W.,O.,R.,K.,SP.,L.,O.,G.,O.,N.)
            ENDMSG                       :Ends the text.
            MSGUSE(GRT,0-5,12-15)        :Previous text is a greet message
                                         :to host when devices 0-5 and
                                         :12-15 are logged in (note these
                                         :devices access host 900).


            :Host 901 requires a disconnect message whenever a circuit is
            :disconnected.  This message is user-defined, and is
            :NETWORK LOGOFF in this example.

            STMSG                        :Starts the message text.
               MSGTEX(N.,E.,T.,W.,O.,R.,K.,SP.,L.,O.,G.,O.,F.,F.)
            ENDMSG                       :Ends the text.
            MSGUSE(DSC,6-11)             :Previous text is the disconnect
                                         :message to the host when host 901s
                                         :circuits are broken.


            :Both hosts 900 and 901 require a ZAP message so that the
            :hosts can initiate a circuit disconnect.  The text of the
            :ZAP message is the same for both hosts.  However, host 900
            :requires the same text as the disconnect message to confirm
            :that the circuit is disconnected.

            STMSG                        :Starts the message text.
               MSGTEX(Z.,A.,P.,SP.)      :Text must be 4 bytes for ZAPs.
            ENDMSG                       :Ends the text.
            MSGUSE(ZAP,0-15)             :ZAP message for devices of hosts
                                         :900 and 901.
            MSGUSE(DSC,0-5,12-15)        :Disconnect message for devices
                                         :of host 900.






                       Appendix A, SAMPLE HOST INTERFACE TYMFILE    Page 64









            3270 Interface Reference Manual                  March 30, 1984


            :In this example, both hosts require a dynamic greeting message
            :which contains needle information for all printer logins.
            :Note that the greeting message is sent before the dynamic
            :greeting message.

            NDLUSE(NDL,2,5,15)           :Needle information for printer
                                         :logins.


            :ECONF must be the last macro inside CONFIG.  It marks the end
            :of the body of macros that describe the configuration of this
            :interface.

            ECONF                        :Last macro in CONFIG.
            ]                            :Ends CONFIG.


            :The ENDTYM macro must be called after the end of the CONFIG
            :definition.

            ENDTYM                       :Must be after CONFIG MACRO.


            :Parameters have been defaulted to values appropriate for
            :common usage.  If there are special circumstances requiring
            :parameter changes, including enabling trace options, then
            :they should be made here.
            :Note that these changes affect the entire host interface,
            :and cannot be host, line, or device specific.  For example,
            :the following is required:

            :  1. Do not automatically disconnect user because of
            :     inactivity.  Set inactivity time to 12 hours,
            :     which should be sufficient.

            :  2. Only devices on control unit 0 (two CRTs plus one
            :     printer) will be operating in the virtual host mode.
            :     There are at most three simultaneous users and
            :     at most one ASCII printer logged in.

            :  3. User's down time should be minimized.  Do not halt
            :     when the interface crashes.








                       Appendix A, SAMPLE HOST INTERFACE TYMFILE    Page 65









            3270 Interface Reference Manual                  March 30, 1984


            IACTIM   EQ   $A60*60*12     :12 hours of inactivity before
                                         :automatic logout.
            NSCNBF   EQ    1             :At most one simultaneous ASCII
                                         :printer logged in.
            NMPORT   EQ    3             :At most three simultaneous
                                         :virtual mode users.
            CRSTOP   EQ    0             :Auto restart after crash . . . do
                                         :not halt.










































                       Appendix A, SAMPLE HOST INTERFACE TYMFILE    Page 66









            3270 Interface Reference Manual                  March 30, 1984


                     Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE


                                         NOTE                                         ____

                 This  Tymfile demonstrates  how to  configure a  3270
                 terminal interface.  The excessive amount of comments
                 within the  CONFIG MACRO is  for explanation  of this
                 example.   In practice,  a macro  body cannot  exceed
                 7665 characters.  If the macro is too large, the user
                 must either  delete some  of the  comments or  define
                 submacros.


            :SAMPLE TYMFILE FOR THE 3270 TERMINAL INTERFACE VERSION 5.02
            :
            :There are four BSC lines attached to this sample terminal
            :interface.
            :See the Sample Host Interface Tymfile for reference.
            :The devices on the first line target to host 900 and on the
            :second line to host 901.  The devices on the third line
            :target to both 900 and 901 hosts, and on the fourth line
            :to a host other than 900 and 901.

            :The first macro in the terminal interface Tymfile is HSTPRT,
            :which defines the originating host number.  In this example,
            :the originating host number is 48.

            HSTPRT(48,0)                 :Originating host number 48.


            :The CONFIG macro contains various macros that describe the
            :configuration of the interface.

            CONFIG   MACRO   [           :This begins the CONFIG macro.


            :SCONF must be the first macro inside CONFIG.  It marks the
            :beginning of the body of macros that describe the configur-
            :ation of the terminal interface.

            SCONF                        :First macro that begins the
                                         :configuration.


            :At this point, all lines, control units, and devices must be
            :defined.



                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 67









            3270 Interface Reference Manual                  March 30, 1984


            :In this example, the first line, Line 0, has one control unit
            :with seven devices that target to host 900.  Line 0 is
            :arbitrarily (but uniquely) assigned the "address" of 40.  It
            :uses the default network services key and connects via a
            :modem with the RTS/CTS handshake required.
            :Line 0 has one control unit with an address of 40, six CRTs,
            :and one printer.  The printer is described as PRINTER IN MAIN
            :OFFICE for the Network Services Screen (NSS).

            DEFLN(40,,1)                 :Line 0 is assigned address 40,
                                         :uses the default PF-4 key for
                                         :NSS, and requires the RTS/CTS
                                         :handshake.
               DEFCU(40)                 :CU 0 has address 40.
                  DEFDEV(40,C1920)       :Device 0 is the first device,
                                         :has an address of 40, is a CRT
                                         :with a 1920-character screen, and
                                         :does not have a third parameter
                                         :for the terminal interface.
                  DEFDEV(0C1,C1920)      :Device 1 is the second device,
                                         :has address C1 (note 0 must
                                         :precede the C), and is a CRT
                                         :with a 1920-character screen.
                  DEFDEV(0C2,C1920)      :Device 2 is the third device,
                                         :has address C2, and is a CRT with
                                         :a 1920-character screen.
                  DEFDEV(0C3,C2560)      :Device 3 . . . address C3,
                                         :2560-character screen CRT.
                  DEFDEV(0C4,C3440)      :Device 4 . . . address C4,
                                         :3440-character screen CRT.
                  DEFDEV(0C5,C480)       :Device 5 . . . address C5,
                                         :480-character screen CRT.
                  DEFPTR(0C7,P1920,PRINTER IN MAIN OFFICE)
                                         :Device 6 . . . address C7,
                                         :1920-character buffer printer,
                                         :has description for NSS.


            :The second line, Line 1, targets to host 901, and arbitrarily
            :(but uniquely) assigned address C1 (which may be specified
            :0C1 or A.).  It uses the PF-6 key to enter network services
            :and does not require the RTS/CTS handshake.  Line 1 has two
            :control units, each with two CRTs.
            :Note that some addresses are specified by symbols for illus-
            :tration only, instead of the actual EBCDIC values.





                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 68









            3270 Interface Reference Manual                  March 30, 1984


            DEFLN(A.,0F6,0)              :Line 1 . . . assigned address C1,
                                         :uses PF-6 key to enter NSS, does
                                         :not require RTS/CTS handshake.
               DEFCU(SP.)                :CU 1 . . . address 40.
                  DEFDEV(SP.,C1920)      :Device 7 . . . address 40,
                                         :1920-character screen CRT.
                  DEFDEV(A.,C1920)       :Device 8 . . . address C1,
                                         :1920-character screen CRT.
               DEFCU(B.)                 :CU 2 . . . address C2.
                  DEFDEV(C.,C2560)       :Device 9 . . . address C3,
                                         :2560-character screen CRT.
                  DEFDEV(50,C2560)       :Device 10 . . . address 50,
                                         :2560-character screen CRT.


            :The third line, Line 2, has one control unit and one device
            :that can target to either host 900 or host 901.  One of
            :these devices is used by a manager and it has the flexibility
            :of manual login to various hosts (see MENU definition).
            :This line is assigned address C5 and uses the default network
            :services key of PF-4.  Line 2 requires the RTS/CTS handshake.

            DEFLN(0C5)                   :Line 2 . . . address C5, uses
                                         :PF-4 for NSS by default,
                                         :requires RTS/CTS by default.
               DEFCU(40)                 :CU 3 . . . address 40.
                  DEFDEV(40,C1920)       :Device 11 . . . address 40,
                                         :1920-character screen CRT,
                                         :this is the manager's CRT,
                                         :see MENU section.
                  DEFDEV(0C1,C2560)      :Device 12 . . . address C1,
                                         :1920-character screen CRT.
                  DEFPTR(0C2,P1920,BLUE PRINTER)
                                         :Device 13 . . . address C2,
                                         :1920-character buffer printer,
                                         :named BLUE PRINTER for NSS.


            :The fourth line, Line 3, has one control unit with devices
            :that target to either host 900 or host 901.  This line is
            :assigned address 50 and uses the default network services
            :key.  Line 3 requires the RTS/CTS handshake.

            DEFLN(50)                    :Line 3 . . . address 50,
                                         :uses PF-4 for NSS,
                                         :requires RTS/CTS by default.
               DEFCU(40)                 :CU 4 . . . address 40.



                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 69









            3270 Interface Reference Manual                  March 30, 1984


                  DEFDEV(40,C1920)       :Device 14 . . . address 40,
                                         :1920-character screen CRT.
                  DEFDEV(0C1,C1920)      :Device 15 . . . address C1,
                                         :1920-character screen CRT.
                  DEFDEV(0C2,C1920)      :Device 16 . . . address C2,
                                         :1920-character screen CRT.
                  DEFDEV(0C7,P1920)      :Device 17 . . . address C7,
                                         :1920-character buffer printer,
                                         :no description for NSS.


            :For this example, devices 0, 7, 9, and 12 are 3279 display
            :stations that have extended features and extended color.
            :Devices 1 and 8 are display stations that have extended
            :features, but do not have color.
            :Devices 2 and 11 are 3279 Model 2A display stations without
            :extended features, but with color.
            :One CRT, device 2, and one printer, device 6, have a
            :Permanent Virtual Circuit (PVC) built automatically to
            :host 900.

            DEFCOL(0,2,7,9,11-12)        :Color . . . devices 0, 2,
                                         :7, 9, 11, and 12.
            DEFXPR(0,1,7-9,12)           :Extended features,
                                         :devices 0, 1, 7, 8, 9, and 12.
            DEFPVC(2,6)                  :PVC . . . devices 2 and 6.


            :MENU section
            :Targeting of devices is accomplished via a menu which
            :specifies the destinations allowed for the device.
            :In this example, a gateway login is necessary before
            :reaching hosts 900 and 901.  The gateway username is
            :C and a password is not required.
            :The username to host 900 is MNHELLO and the password
            :is SECRET-MN.
            :The username to host 901 is CIUSER1 and CIUSER2, both
            :with passwords CI123.
            :The different usernames may be used for accounting
            :purposes to identify different groups of users.
            :The username AAUSER is used to access host 400,
            :with a password of NEWAA, and a gateway is not
            :required.
            :Device 11 is allowed the option to login manually
            :to other hosts, to either host 900 or 901, and to
            :OnTyme.




                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 70









            3270 Interface Reference Manual                  March 30, 1984


            :The elements that define the destinations are numbered
            :from 0.

            :Element 0 . . . gateway login . . . username C
            :without password.

            DEFELE(C"8D)

            :Element 1 . . . login to host 900, no project code.

            DEFELE(MNHELLO"3A900"3BSECRET"2DMN"3B"0D)

            :Element 2 . . . login to host 901 via one username.

            DEFELE(CIUSER1"3A901"3BCI123"3B"0D)

            :Element 3 . . . login to host 901 via another username.

            DEFELE(CIUSER2"3A901"3BCI123"3B"0D)

            :Element 4 . . . login to host 400.

            DEFELE(AAUSER"3A400"3BNEWAA3B"0D)

            :Element 5 . . . login to OnTyme.

            DEFELE(EMSAA"3B"0D)


            :Once the usernames have been specified, the information for
            :the DSP screen must be provided.  In this example, all
            :devices are in the native mode operation and request
            :login to any available device in the host interface.
            :The destination interface addresses are 31060900 and
            :31060901, where the 3106 is the DNIC of the called
            :address and the 0900 and 0901 are assigned to represent
            :the respective hosts.  The exception is that the PVC devices
            :target to specific devices on the host interface.

            :Element 6 . . . devices going to host 900 may use the
            :information of this element for the DSP screen.  The N
            :means all devices request the native mode of operation
            :instead of the ASCII mode.
            :The 3 means "crm #3" (nonspecific, any available device
            :is satisfactory).
            :The 31060900 is the destination interface address.
            :The "8D ends the destination interface address field.
            :The next three "8D mean nothing is specified for the


                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 71









            3270 Interface Reference Manual                  March 30, 1984


            :application ID, control unit address, and the device
            :address (since this is a "crm #3" login).
            :The YY requests transparency and color if the
            :requesting device is defined for it (instead of YY,
            :"8D"8D would have done the same since Y is the default).

            DEFELE(N331060900"8D"8D"8D"8DYY)


            :Element 7 . . . devices accessing host 901 may use the
            :information of this element for the DSP screen.  The
            :description is the same as for element 6.  Note that
            :if the destination interface address is the same for
            :both or is nonexistent, then element 7 is redundant.

            DEFELE(N331060901"8D"8D"8D"8DYY)


            :Element 8 . . . if device 2 targets to a specific
            :device on the host interface, it uses this element for
            :the DSP screen.
            :The N means the device is in the native mode.
            :The 2 stands for "crm #2" (specific).
            :The 31060900 is the destination interface address.
            :The "8D ends the destination interface address field.
            :The F is the application ID, which is the line
            :address C6 in the host interface.
            :The space (which translates to 40 in EBCDIC) is the
            :control unit address.
            :The A (translates to C1 in EBCDIC) is the device
            :address.
            :The Y means yes to color.
            :Device 2 is not a transparency-defined device.  The
            :"xpr" parameter is not specified.  Device 2 from this
            :interface targets to device 12 of the host interface.

            DEFELE(N231060900"8DF AY)


            :Element 9 . . . if device 6 targets to a specific device
            :or the host interface, it uses element 9 for the DSP
            :screen.  The explanation is the same as for element 8,
            :except the "5B (ASCII which translates to EBCDIC 4A) is
            :the printer address 4A.  Thus, device 6 targets to
            :device 15 of the host interface.

            DEFELE(N131060900"8DF "5B)



                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 72









            3270 Interface Reference Manual                  March 30, 1984


            :Element 10 . . . devices that target to host 400 use this
            :element for the DSP screen.
            :The N means no ASCII operation.
            :The 1 is for "crm #1" (host 400 requires devices to be logged
            :in with a 1-1 correspondence of control unit and device
            :addresses between the physical address at the terminal
            :interface and the logical address at the host interface).
            :The "8D ends the destination interface address which is not
            :necessary for host 400.
            :The space indicates a particular application defined at the
            :host interface (e.g., space translates to EBCDIC 40) targets
            :to Line 0 of the host interface which has address 40.
            :An "8D is for both "cua" and "dva" because "crm #1" is speci-
            :fied.  Nothing is specified for "col" and "xpr" since the
            :devices arere not 3278, 3279, nor printers with extended
            :features.

            DEFELE(N1"8D "8D"8D)


            :LSTRST is a macro that is required between the macros
            :defining the elements and the macros defining the strings.

            LSTRST                     :Indicates start of string macros.


            :The macros defining strings specifies the order of elements
            :to be used in a login.  If the manual login is allowed for
            :any device in the interface, then the MANUAL macro should
            :be listed.

            :String 0 . . . manual login for manager.

            MANUAL

            :String 1 . . . gateway, username, DSP logins to host 900.

            DEFSTR(TO HOST 900,0,1,6)

            :String 2 . . . gateway, username, DSP logins to host 901.

            DEFSTR(PROJECT A AT HOST 901,0,2,7)

            :String 3 . . . gateway, another username, DSP logins to
            :host 901.

            DEFSTR(PROJECT B AT HOST 901,0,3,7)



                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 73









            3270 Interface Reference Manual                  March 30, 1984


            :String 4 . . . restricted login for device 2 to host 900.

            DEFSTR(INQUIRY APPLICATION,0,1,8)

            :String 5 . . . restricted login for device 6 to host 900.

            DEFSTR(SPECIAL TRANSACTIONS,0,1,9)

            :String 6 . . . username, DSP logins to host 400.

            DEFSTR(HOST 400,4,0A)

            :String 7 . . . getting to OnTyme.

            DEFSTR(ONTYME,5)


            :Once the strings are defined, the menu (or all the possible
            :logins allowed for the devices) must be defined.  For example,
            :the manager's terminal, device 11, is allowed access to host
            :900, host 901, and OnTyme, as well as a manual login.  On
            :the other hand, the restricted devices are allowed only one
            :destination.

            :Menu 0 . . . manager's terminal goes to host 900, 901, OnTyme,
            :or manual login.

            DEFMEN(0,1,2,3,5)            :Strings 0, 1, 2, 3, and 5.
            MENDEV(11)                   :Device 11.

            :Menu 1 . . . device 2 has specific destination at host 900.

            DEFMEN(4)                    :String 4.
            MENDEV(2)                    :Device 2.

            :Menu 2 . . . device 6 has specific destination at host 900.

            DEFMEN(5)                    :String 5.
            MENDEV(6)                    :Device 6.

            :Menu 3 . . . devices on Line 0 have unspecified destination.
            :to host 900

            DEFMEN(1)                    :String 1.
            MENDEV(0,1,3-5)              :Line 0 devices except 2 and 6.





                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 74









            3270 Interface Reference Manual                  March 30, 1984


            :Menu 4 . . . devices on Line 1 have unspecified destination
            :to host 901.

            DEFMEN(2)                    :Project A uses string 2.
            MENDEV(7,8)                  :Line 1, devices 7 and 8.

            :Menu 5 . . .devices on Line 1 have unspecified destination
            :to host 901.

            DEFMEN(3)                    :Project B uses string 3.
            MENDEV(9,10)                 :Line 1, devices 9 and 10.

            :Menu 6 . . . devices on Line 2 to either host 900 or 901.

            DEFMEN(1,2,3)                :Strings 1, 2, and 3.
            MENDEV(12,13)                :Devices 12 and 13.

            :Menu 7 . . . devices on Line 3 to host 400.

            DEFMEN(6)                    :String 6.
            MENDEV(14-17)                :Devices 14, 15, 16, and 17.


            :End of the MENU section . . . must define the calling address
            :using DEFCAL.  For example, the calling address has a DNIC
            :of 4542, and 2 follows the DNIC for identification.
            :By convention, the calling address must be 14 digits (or
            :seven bytes) and zero fill the calling address.

            DEFCAL("0E"45"42"02"00"00"00"00)


            :The last macro inside CONFIG must be ECONF.  It marks the
            :end of the body of macros that describe the configuration
            :of this interface.

            ECONF                        :Last macro in CONFIG.
            ]                            :Ends CONFIG.


            :The ENDTYM macro must be called after the end of the
            :configuration definitions.

            ENDTYM                       :Must follow CONFIG MACRO.






                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 75









            3270 Interface Reference Manual                  March 30, 1984


            :Parameters default to values appropriate for common usage.
            :If there are special circumstances that require parameter
            :changes, including enabling trace options, then they should
            :be made here.  Note that these changes affect the entire
            :terminal interface, and cannot be host, line, or device
            :specific.
            :
            :For example, the following are required:

            :  1. Leave the default menu number at 0, especially
            :     since there are some menus with only one string
            :     (already default).

            :  2. Require DTR to be held down four seconds to hang
            :     a terminal after 90 seconds of inactivity
            :     (Line 0 only).

            :  3. After 60 seconds of no response to a fast poll,
            :     enter slow polls of 40-second intervals.  After
            :     90 seconds of no response to a poll, declare the
            :     control unit inactive and disconnect all circuits
            :     in this control unit (default for POLT3).

            :  4. Require the network services key to be struck twice
            :     for normal use (default).

            :  5. There is an automatic restart after a crash to
            :     minimize down time.

            HHNGTM   EQ   $A4            :Four seconds of holding.
                                         :DTR for a hang.
            IHNGTM   EQ   $A90           :90 seconds of inactivity
                                         :to hang terminal.
            UHNGBT   EQ   8000           :Only Line 0 uses hang logic.
            POLT1    EQ   $A60*600       :60 seconds of no poll response
                                         :to enter slow poll.
            POLT2    EQ   $A40*600       :Slow poll interval is 40
                                         :seconds.
            CRSTOP   EQ   0              :Automatic restart after crash.











                   Appendix B, SAMPLE TERMINAL INTERFACE TYMFILE    Page 76









            3270 Interface Reference Manual                  March 30, 1984


                     Appendix C, POLLING ADDRESS CONVERSION TABLE


            Polling addresses for devices must  be specified by hexadecimal
            values for  EBCDIC characters in  the Tymfiles.   The following
            table specifies the values that may be used.


              EBCDIC  HEX     EBCDIC  HEX     EBCDIC  HEX     EBCDIC  HEX              ______  ___     ______  ___     ______  ___     ______  ___

                SP    40        &     50        -     60        0     F0
                A     C1        J     D1        /     61        1     F1
                B     C2        K     D2        S     E2        2     F2
                C     C3        L     D3        T     E3        3     F3
                D     C4        M     D4        U     E4        4     F4
                E     C5        N     D5        V     E5        5     F5
                F     C6        O     D6        W     E6        6     F6
                G     C7        P     D7        X     E7        7     F7
                H     C8        Q     D8        Y     E8        8     F8
                I     C9        R     D9        Z     E9        9     F9
                |     4A        !     5A        |     6A        :     7A                c
                .     4B        $     5B        ,     6B        #     7B
                <     4C        *     5C        %     6C        @     7C
                (     4D        )     5D        _     6D        '     7D
                +     4E        ;     5E        >     6E        =     7E
                |     4F        -     5F        ?     6F        "     7F


            The ASCII to EBCDIC translation tables use direct symbol trans-
            lation.  To specify  the needed order in certain  fields of the
            DSP screen  (inside the terminal  interface DEFELE  macro), use
            the following:


                           Desired      ASCII
                           EBCDIC       Symbol
                           Address    To Be Used                           _______    __________

                           4A (|)       [ (5B)                               c
                           4F (|)       | (7C)
                           5A (!)       ! (21)
                           5F (-)       ^ (5E)


            The graphic representation of certain  symbols may be different
            for ASCII terminals in virtual host  or CMT mode.  For example,
            the EBCDIC  cent sign (|) is  displayed as ([), the  EBCDIC not                                   c



                    Appendix C, POLLING ADDRESS CONVERSION TABLE    Page 77









            3270 Interface Reference Manual                  March 30, 1984


            sign (-) is  displayed as the caret (^), and  the EBCDIC broken
            vertical bar is displayed as the solid vertical bar (|).
















































                    Appendix C, POLLING ADDRESS CONVERSION TABLE    Page 78









            3270 Interface Reference Manual                  March 30, 1984


                      Appendix D, ATTENTION KEY CONVERSION TABLE


            The following  table specifies  the hexadecimal  values of  the
            EBCDIC characters represented by the attention keys.


                 Key       HEX          Key      HEX          Key      HEX                 ___       ___          ___      ___          ___      ___

                 PF-1      F1          PF-11     7B          PF-21     C9
                 PF-2      F2          PF-12     7C          PF-22     4A
                 PF-3      F3          PF-13     C1          PF-23     4B
                 PF-4      F4          PF-14     C2          PF-24     4C
                 PF-5      F5          PF-15     C3          PA-1      6C
                 PF-6      F6          PF-16     C4          PA-2      6E
                 PF-7      F7          PF-17     C5          PA-3      6B
                 PF-8      F8          PF-18     C6          CLEAR     6D
                 PF-9      F9          PF-19     C7          ENTER     7D
                 PF-10     7A          PF-20     C8


            A comparison  of the attention  keys on the  Perkin-Elmer (OWL)
            1200, 1250, and 1251, the TYMSHARE 470, and the IBM 3101 termi-
            nals to the IBM 3270 terminal is shown on pages 36 and 38.

            Any attention  key (PF or  PA) may  be a network  services key.
            The PF-4 key is the default if no  PF or PA key has been speci-
            fied as a network services key.






















                      Appendix D, ATTENTION KEY CONVERSION TABLE    Page 79









            3270 Interface Reference Manual                  March 30, 1984


                     Appendix E, HOST INTERFACE DEBUGGING OPTIONS


            Slot Will Halt After a Crash            ____________________________

            Syntax:  CRSTOP EQ #

            Default: 0

            This  parameter specifies  whether  a slot  will  halt after  a
            crash.  It  applies to the host  interface and to  the terminal
            interface.

                 1 = The slot will halt after a crash.

                 0 = The slot restarts after a crash.

            Example:

                 CRSTOP EQ 1

            The slot halts after a crash.


            Input Ring Size            _______________

            Syntax:  IRSIZE EQ #

            Default: 500 hexadecimal bytes

            This parameter specifies the size of the ISIS input ring (hexa-
            decimal bytes).   It applies to the  host interface and  to the
            terminal interface.

            Example:

                 IRSIZE EQ 1000

            The size of the ISIS input ring is 1000 hexadecimal bytes.











                    Appendix E, HOST INTERFACE DEBUGGING OPTIONS    Page 80









            3270 Interface Reference Manual                  March 30, 1984


            Number of Bufferlets            ____________________

            Syntax:  NBBFLT EQ #

            Default: The default is based on the number of lines and ports
                     assigned to the interface.

            This parameter specifies the number  (in decimal) of bufferlets
            allocated to a 3270 interface slot.  Each bufferlet can hold 60
            hexadecimal  characters of  user data.   The  number should  be
            based on the  number of terminals associated with  the slot and
            the nature of  the traffic on those  terminals.  This parameter
            applies to the host interface and to the terminal interface.

            There are four ways to define this parameter.

              1. Default value (calculated for optimal use of space)

              2. NBBFLT EQ NBBFLT+80 (need a little more)

              3. NBBFLT EQ $A600 (need a fixed number of bufferlets)

              4. NBBFLT EQ -1 (set to the maximum possible)

            Example:

                 NBBFLT EQ $A600

            This 3270 interface slot has 600  (in decimal) bufferlets allo-
            cated to it.




















                    Appendix E, HOST INTERFACE DEBUGGING OPTIONS    Page 81









            3270 Interface Reference Manual                  March 30, 1984


            Number of Command Links            _______________________

            Syntax:  NCMDLK EQ #

            Default: Number of bufferlets plus a minimum for the
                     number of devices

            This parameter  specifies the  number (in  decimal) of  command
            links for this interface.  It applies to the host interface and
            to the terminal interface.

            Example:

                 NCMDLK EQ NCMDLK+40

            The number of  command links is the default  value (above) plus
            40 more.


            Output Ring Size            ________________

            Syntax:  ORSIZE EQ #

            Default: 500 hexadecimal bytes

            This  parameter specifies  the  size of  the  ISIS output  ring
            (hexadecimal bytes).  It  applies to the host  interface and to
            the terminal interface.

            Example:

                 ORSIZE EQ 600

            The size of the ISIS output ring is 600 hexadecimal bytes.


            Tracing Aids            ____________

            The parameters PTPTSW,  RCVHRC, and RCVTSW are  internal debug-
            ging  options.  They  may  be used  effectively  only by  those
            familiar with the internal operation of the code.









                    Appendix E, HOST INTERFACE DEBUGGING OPTIONS    Page 82









            3270 Interface Reference Manual                  March 30, 1984


            Protocol Trace Table Switch            ___________________________

            Syntax:  PTPTSW EQ #

            Default: 1

            This parameter enables the protocol  trace table.  The protocol
            trace table monitors host and host interface interaction at the
            host  interface and  the terminal  interface  and control  unit
            interaction at the terminal interface.  The protocol trace is a
            series  of  codes  showing  the  interaction.   This  parameter
            applies to the host interface and to the terminal interface.

                 # = Enables the protocol trace and provides # times
                     400-byte blocks (in hexadecimal) for the protocol
                     trace table.  (# is not 0.)

                 0 = Disables the protocol trace.

            Example:

                 PTPTSW EQ 2

            The protocol trace is enabled, and the protocol trace table has
            800 hexadecimal bytes.


            Return Codes History Count            __________________________

            Syntax:  RCVHRC EQ #

            Default: 1

            This parameter specifies that a count  of return codes is to be
            kept.  It  applies to  the host interface  and to  the terminal
            interface.

                 1 = The interface keeps a count of return codes.

                 0 = The interface does not keep a count of return codes.

            Example:

                 RCVHRC EQ 0

            The interface does not keep a count of return codes.




                    Appendix E, HOST INTERFACE DEBUGGING OPTIONS    Page 83









            3270 Interface Reference Manual                  March 30, 1984


            Receive Trace Switch            ____________________

            Syntax:  RCVTSW EQ #

            Default: 1801

            This parameter enables  the receive trace options.   It applies
            to the host interface and to the terminal interface.

            The following  trace options should  be used only  by technical
            support  representatives; they  are meant  as debugging  tools.
            The left-most  nibble of this halfword  value is the  number of
            400-byte blocks (in hexadecimal) allocated for the trace table.


                 Receive Trace
                    Options                     Meaning                 _____________                  _______

                 RCVT01 EQ 1    Traces a received-data character

                 RCVT02 EQ 2    Traces a ring-empty index

                 RCVT03 EQ 4    Traces a process-handling byte

                 RCVT04 EQ 8    Traces the current received state

                 RCVT05 EQ 10   Traces the time required for data reception

                 RCVT12 EQ 800  Traces operation-complete return codes


            Example:

                 RCVTSW EQ 2803

            Bit position:

                 2000 = 800 hexadecimal  bytes are  allocated to  the trace
                        buffer.

                  800 = The   operation-complete  return   code  trace   is
                        enabled.

                    3 = Three equals  options one  and two,  which means  a
                        received-data character and a  ring-empty index are
                        traced.




                    Appendix E, HOST INTERFACE DEBUGGING OPTIONS    Page 84









            3270 Interface Reference Manual                  March 30, 1984


                   Appendix F, TERMINAL INTERFACE DEBUGGING OPTIONS


            Slot Will Halt After a Crash            ____________________________

            Syntax:  CRSTOP EQ #

            Default: 0

            This parameter  specifies whether a  slot halts after  a crash.
            It applies to the host interface and to the terminal interface.

                 1 = The slot halts after a crash.

                 0 = The slot restarts after a crash.

            Example:

                 CRSTOP EQ 1

            The slot halts after a crash.


            Input Ring Size            _______________

            Syntax:  IRSIZE EQ #

            Default: 500 hexadecimal bytes

            This parameter specifies the size of the ISIS input ring (hexa-
            decimal bytes).   It applies to the  host interface and  to the
            terminal interface.

            Example:

                 IRSIZE EQ 1000

            The size of the ISIS input ring is 1000 hexadecimal bytes.












                Appendix F, TERMINAL INTERFACE DEBUGGING OPTIONS    Page 85









            3270 Interface Reference Manual                  March 30, 1984


            Number of Bufferlets            ____________________

            Syntax:  NBBFLT EQ #

            Default: The default is based on the number of lines and ports
                     assigned to the interface.

            This parameter specifies the number  (in decimal) of bufferlets
            allocated to a 3270 interface slot.  Each bufferlet may hold 60
            hexadecimal  characters of  user data.   The  number should  be
            based on the  number of terminals associated with  the slot and
            the nature of  the traffic on those  terminals.  This parameter
            applies to the host interface and to the terminal interface.

            There are four ways to define this parameter.

              1. Default value (calculated for optimal use of space)

              2. NBBFLT EQ NBBFLT+80 (need a little more)

              3. NBBFLT EQ 600 (need a fixed number of bufferlets)

              4. NBBFLT EQ -1 (set to the maximum possible)

            Example:

                 NBBFLT EQ 600

            This 3270 interface slot has 600  (in decimal) bufferlets allo-
            cated to it.




















                Appendix F, TERMINAL INTERFACE DEBUGGING OPTIONS    Page 86









            3270 Interface Reference Manual                  March 30, 1984


            Number of Command Links            _______________________

            Syntax:  NCMDLK EQ #

            Default: Number of bufferlets plus a minimum for the number of
                     devices.

            This parameter defines the number (in decimal) of command links
            for this  interface.  It applies to  the host interface  and to
            the terminal interface.

            Example:

                 NCMDLK EQ NCMDLK+40

            The number of  command links is the default  value (above) plus
            40 more.


            Output Ring Size            ________________

            Syntax:  ORSIZE EQ #

            Default: 500 hexadecimal bytes

            This  parameter specifies  the  size of  the  ISIS output  ring
            (hexadecimal bytes).  It  applies to the host  interface and to
            the terminal interface.

            Example:

                 ORSIZE EQ 400

            The size of the ISIS output ring is 400 hexadecimal bytes.


            Tracing Aids            ____________

            The parameters PTPTSW,  RCVHRC, and RCVTSW are  internal debug-
            ging  options.  They  may  be used  effectively  only by  those
            familiar with the internal operation of the code.









                Appendix F, TERMINAL INTERFACE DEBUGGING OPTIONS    Page 87









            3270 Interface Reference Manual                  March 30, 1984


            Protocol Trace Table Switch            ___________________________

            Syntax:  PTPTSW EQ #

            Default: 1

            This parameter enables the protocol  trace table.  The protocol
            trace table monitors host and host interface interaction at the
            host  interface and  the terminal  interface  and control  unit
            interaction at the terminal interface.  The protocol trace is a
            series  of  codes  showing  the  interaction.   This  parameter
            applies to the host interface and to the terminal interface.

                 # = Enables the protocol trace and provides # times
                     400-byte blocks (in hexadecimal) for the protocol
                     trace table.  (# is not 0.)

                 0 = Disables the protocol trace.

            Example:

                 PTPTSW EQ 2

            The  protocol trace  table is  enabled and  the protocol  trace
            table has 800 hexadecimal bytes.


            Return Codes History Count            __________________________

            Syntax:  RCVHRC EQ #

            Default: 1

            This parameter specifies that a count  of return codes is to be
            kept.  It  applies to  the host interface  and to  the terminal
            interface.

                 1 = The interface keeps a count of return codes.

                 0 = The interface does not keep a count of return codes.

            Example:

                 RCVHRC EQ 0

            The interface does not keep a count of return codes.




                Appendix F, TERMINAL INTERFACE DEBUGGING OPTIONS    Page 88









            3270 Interface Reference Manual                  March 30, 1984


            Receive Trace Switch            ____________________

            Syntax:  RCVTSW EQ #

            Default: 1801

            This parameter enables  the receive trace options.   It applies
            to the host interface and to the terminal interface.

            The following  trace options should  be used only  by technical
            support  representatives; they  are meant  as debugging  tools.
            The left-most  nibble of this halfword  value is the  number of
            400-byte blocks (in hexadecimal) allocated for the trace table.


                 Receive Trace
                    Options                     Meaning                 _____________                  _______

                 RCVT01 EQ 1    Traces a received-data character

                 RCVT02 EQ 2    Traces a ring-empty index

                 RCVT03 EQ 4    Traces a process-handling byte

                 RCVT04 EQ 8    Traces the current received state

                 RCVT05 EQ 10   Traces the time required for data reception

                 RCVT12 EQ 800  Traces operation-complete return codes


            Example:

                 RCVTSW EQ 2803

            Bit position:

                 2000 = 800 hexadecimal  bytes are  allocated to  the trace
                        buffer.

                  800 = The   operation-complete  return   code  trace   is
                        enabled.

                    3 = Three equals  options one  and two,  which means  a
                        received-data character and a  ring-empty index are
                        traced.




                Appendix F, TERMINAL INTERFACE DEBUGGING OPTIONS    Page 89









            3270 Interface Reference Manual                  March 30, 1984


                                         INDEX



            Attention key conversion table .................... 79
            Attention keys .................................... 79

            Block mode terminals .............................. 5
            BSC protocol ...................................... 15

            Character mode .................................... 6
            Character mode terminal support ................... 6
            Circuit login processing .......................... 12
            CMT emulator ...................................... 6
            Compatible IBM devices ............................ 10
            Configuration ..................................... 10
            Configuration macros .............................. 25
            CRSTOP parameter .................................. 80, 85

            Default menu macro ................................ 56
            DEFCAL macro ...................................... 55
            DEFCOL macro ...................................... 28, 46
            DEFCU macro ....................................... 27, 44
            DEFDEV macro ...................................... 27, 44
            DEFELE macro ...................................... 48
            Define associated device macro .................... 34
            Define calling address macro ...................... 55
            Define color terminals macro ...................... 28, 46
            Define control unit macro ......................... 27, 44
            Define device macro ............................... 27, 44
            Define element macro .............................. 48
            Define line macro ................................. 26, 43
            Define login string macro ......................... 53
            Define LUD entry macro ............................ 29
            Define menu macro ................................. 52
            Define printer macro .............................. 45
            Define PVC macro .................................. 47
            Define special device macro ....................... 28, 46
            Define type of virtual host device macro .......... 34
            DEFLN macro ....................................... 26, 43
            DEFLUD macro ...................................... 29
            DEFMEN macro ...................................... 52
            DEFPTR macro ...................................... 45
            DEFPVC macro ...................................... 47
            DEFSTR macro ...................................... 53
            DEFXPR macro ...................................... 28, 46




                                                           INDEX    Page 90









            3270 Interface Reference Manual                  March 30, 1984


            Device address .................................... 12
            Device description macros ......................... 43
            Device username may access macro .................. 30
            DEVOK macro ....................................... 30
            DFLASS macro ...................................... 34
            DFLMEN macro ...................................... 56
            DFLTYP macro ...................................... 34
            Disconnecting the terminal ........................ 17
            Display Systems Protocol .......................... 1

            EBCDIC characters ................................. 77
            Echo project code macro ........................... 35
            ECHOPJ macro ...................................... 35
            ECONF macro ....................................... 25, 42
            End of configuration macro ........................ 25, 42
            End of message macro .............................. 33
            End of Tymfile macro .............................. 24
            ENDMSG macro ...................................... 33
            ENDTYM macro ...................................... 24, 41
            Equate statement syntax ........................... 21

            General macros .................................... 23, 41

            Hang logic ........................................ 59
            Hexadecimal values ................................ 77
            Hexadecimal values represented by attention keys .. 79
            HHNGTM macro ...................................... 56
            Hold hang time macro .............................. 56
            Host interface .................................... 19
            Host interface debugging options .................. 80
            Host interface Tymfile definitions ................ 23
            Host interface Tymfile sample ..................... 60
            Host numbers associated with host interface macro . 23
            Host numbers associated with terminal interface macro
             41
            HSTPRT macro ...................................... 23, 41

            IACTIM macro ...................................... 35
            IBM BSC protocol .................................. 15
            IBM ENTER key macro ............................... 36
            IBM 3101 keys ..................................... 36
            IBM 3101 PF keys macro ............................ 36
            IBM 3101 terminals ................................ 1, 5, 13,
             16
            IBMENT macro ...................................... 36
            IBMPF macro ....................................... 36




                                                           INDEX    Page 91









            3270 Interface Reference Manual                  March 30, 1984


            IHNGTM macro ...................................... 57
            Inactivity hang time macro ........................ 57
            Inactivity timer macro ............................ 35
            Input ring size parameter ......................... 80, 85
            IRSIZE parameter .................................. 80, 85

            Line associated with host macro ................... 26
            Line identifier ................................... 12
            Lines requiring hang logic macro .................. 59
            LNHOST macro ...................................... 26
            Local user directory .............................. 13, 29
            Logical address ................................... 12
            Login string ...................................... 48
            Login string start macro .......................... 53
            LSTRST macro ...................................... 53
            LUD ............................................... 13

            Macro statement syntax ............................ 20
            Macros defining host messages ..................... 30
            Macros defining LUD entries ....................... 29
            Manual login menu macro ........................... 54
            MANUAL macro ...................................... 54
            MENDEV macro ...................................... 54
            Menu device macro ................................. 54
            Menus ............................................. 48
            Message text macro ................................ 31
            Message text syntax ............................... 21
            Message usage macro ............................... 32
            Miscellaneous macro ............................... 55
            MSGTEX macro ...................................... 31
            MSGUSE macro ...................................... 32
            MSGUSE option ..................................... 17

            Native mode ....................................... 2, 16
            Native mode protocol .............................. 2
            NBBFLT parameter .................................. 81, 86
            NCMDLK parameter .................................. 82, 87
            NDLUSE macro ...................................... 33
            Network login procedures .......................... 11
            Network services key .............................. 79
            Network services screen ........................... 11
            NMPORT macro ...................................... 37
            NSCNBF macro ...................................... 37
            Number of bufferlets parameter .................... 81, 86
            Number of cmmandd links parameter ................. 82
            Number of command links parameter ................. 87




                                                           INDEX    Page 92









            3270 Interface Reference Manual                  March 30, 1984


            Number of mapped ports macro ...................... 37
            Number of screen buffers macro .................... 37

            ORSIZE parameter .................................. 82, 87
            Output ring size parameter ........................ 82, 87
            OWL and TYMSHARE 470 PF keys macro ................ 38
            OWL PF keys ....................................... 38
            OWLPF macro ....................................... 38

            Perkin-Elmer 1200 series terminals ................ 1, 5, 13,
             16
            Poll time inactivity macro ........................ 57
            Poll time interval macro .......................... 57
            Poll timeout macro ................................ 39, 58
            Polling ........................................... 13, 15, 77
            Polling address ................................... 13, 77
            Polling address assignment ........................ 13
            Polling address conversion table .................. 77
            POLT1 macro ....................................... 57
            POLT2 macro ....................................... 57
            POLT3 macro ....................................... 39, 58
            Program attention key ............................. 11
            Program function key .............................. 11
            Project code defaults ............................. 13
            Project code interpretation ....................... 12
            Project code structure ............................ 13
            Protocol .......................................... 2
            Protocol trace table .............................. 83, 88
            Protocol trace table switch parameter ............. 83, 88
            PTPTSW parameter .................................. 83, 88
            PVC timer macro ................................... 58
            PVCTIM macro ...................................... 58

            Ranging macro syntax .............................. 20
            RCVHRC parameter .................................. 83, 88
            RCVTSW parameter .................................. 84, 89
            Read Buffer command ............................... 10
            Read Modified command ............................. 10
            Receive trace switch parameter .................... 84, 89
            Return codes history count parameter .............. 83, 88

            Save queue macro .................................. 39
            SAVEQ macro ....................................... 39
            SCONF macro ....................................... 24, 42
            Send needle data to host macro .................... 33
            Setup macros ...................................... 24, 42




                                                           INDEX    Page 93









            3270 Interface Reference Manual                  March 30, 1984


            Slot will halt after a crash parameter ............ 80, 85
            Start of configuration macro ...................... 24, 42
            Start of message string macro ..................... 31
            STMSG macro ....................................... 31
            Stored login definitions .......................... 47
            Support capabilities .............................. 10
            Support constraints ............................... 11
            Syntax ............................................ 20
            System generation ................................. 18

            Terminal interface ................................ 19
            Terminal interface debugging options .............. 85
            Terminal interface Tymfile definitions ............ 41
            Terminal interface Tymfile sample ................. 67
            Tracing aids ...................................... 82, 87
            Two PF key option ................................. 59
            Two PF key option macro ........................... 59
            TWOPF macro ....................................... 59
            TYMSHARE 470 terminals ............................ 1, 5, 13,
             16

            UHNGBT macro ...................................... 59

            Virtual host mode ................................. 5, 6, 16
            Virtual terminal mode ............................. 4, 16

            X.25 Interface .................................... 8























                                                           INDEX    Page 94












                                  READER COMMENT FORM

                             Document Name: 3270 Interface Reference Manual
                                                    Publication Number: 531
                                                       Date: March 30, 1984

            Please use this form to tell us your opinions of this document.
            We are presently redesigning our documentation  to make it eas-
            ier to use and to tailor manuals to specific users.

                                                             Yes    No
                                                              _      _
            1.  Does this publication meet your needs?       /_/    /_/

            2.  Did you find the information:
                                                              _      _
                Accurate?                                    /_/    /_/
                                                              _      _
                Easy to read and understand?                 /_/    /_/
                                                              _      _
                Organized for convenient use?                /_/    /_/
                                                              _      _
                Complete?                                    /_/    /_/
                                                              _      _
                Written for your technical level?            /_/    /_/

            3.  Specific criticisms (please explain on the reverse)

                Clarifications on pages _______________________________

                Additions on pages ____________________________________

                Deletions on pages ____________________________________

                Errors on pages _______________________________________

            4.  What is your occupation? ______________________________


            Please include other comments on the reverse of this page.  All
            comments are  valuable to us; we  appreciate the time  you have
            taken to complete this form.  Thank you.

            Please return this form to: Manager, Documentation
                                        Network Technology Division
                                        Tymshare, Inc
                                        10300 Bubb Road, Building H
                                        Cupertino, CA 95014








  +XQ7