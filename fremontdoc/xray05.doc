


















    XXXXXX         XXXXXX
    XXXXXXX       XXXXXXX
    XXXXXXXX     XXXXXXXX
        XXXXX   XXXXX    
         XXXXX XXXXX       XXXXXXX           XXXX      XXX       XXX
          XXXXXXXXX        XXXXXXXXX         XXXX       XXX     XXX
           XXXXXXX         XXX   XXXX       XXXXXX       XXX   XXX
            XXXXX          XXXXXXXXX       XXX  XXX        XXXXX
           XXXXXXX         XXXXXXX        XXX    XXX        XXX
          XXXXXXXXX        XXX  XXX      XXXXXXXXXXXX       XXX
         XXXXX XXXXX       XXX   XXX    XXX        XXX      XXX
        XXXXX   XXXXX      XXX    XXX  XXX          XXX     XXX
    XXXXXXXX     XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
    XXXXXXX       XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
    XXXXXX         XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX







                            XRAY USER'S GUIDE

This document is available as (TIIDEV:39) XRAY05.DOC.


                       Table of Contents




INTRODUCTION .....................................................   1

XRAY FEATURES ....................................................   2

ACCESSING XRAY ...................................................   4
    Getting Into and Out of Remote XRAY
    Accessing Local (TTY) XRAY

USING XRAY .......................................................   6
    Command Syntax and Usage
    Command Errors
    Privileged Commands

XRAY COMMANDS ....................................................   7

    Node Status Commands .........................................   7
        ND - Display Node Descriptor
        NS - Display Node Statistics
        HT - Halt Node Code (SOLO Only) (super-privileged)
        SN - Start Node Code (SOLO Only) (super-privileged)
        BT - Go to Boot (SOLO Only) (privileged)

    Link and Line Status Commands ................................  16
        KD - Display Link Descriptor
        KS - Display Link Statistics
        BG - Display (unprivileged) or 
             Modify Bad Guy List (privileged)
        BZ - Bori Zap a Link (privileged)
        TL - Set/Reset Trace on Link
        TN - Set/Reset Trace on Line
        TM - Display Link/Line Trace Events

    Async Port Status Commands (Solo CONSAT Only) ................  33
        AS - Display Async Port Status
        AZ - Initialize Async Port Statistics
        PV - Display PVC Port Configuration
        HP - Hang Async Port (privileged)
        IZ - Initialize Async Ring (privileged)

    Channel Status Commands ......................................  38



        AC - Display Active Channels
        QC - Query Channel Status
        TC - Enable/Disable Data Trace on Channel (privileged)
        TD - Display Channel Trace Data 
        TE - Display Channel Trace Data with Escapes 
        TA - Display Channel Trace Data as ASCII Characters 

    Buffer and Bufferlet Commands ................................  43
        BS - Display Bufferlet Use Statistics
        RB - Read Buffer (privileged)
        WB - Write Buffer (super-privileged)

    Crash Option and History Commands ............................  46
        RR - Read Crash Registers
        DC - Display Crash Tables
        CO - Display/Set Crash Handling Options (privileged)

    CRYPTO Message Commands.......................................  51
        CD - Set/Reset CRYPTO Auto Display Mode
        CL - Display CRYPTO Log
        CM - Display CRYPTO Messages by Type
        SM - Enable/Disable CRYPTO Messages by Type (privileged)

    Delay Measurement Commands....................................  54
        DB - Begin Delay Measurement
        DD - Display Delay Measurement Statistics
        DE - Terminate Delay Measurement
        DL - Begin Data Loopback Circuit (super-privileged)
        PM - Measure Delay on Channel (privileged)

    Utility Commands..............................................  63
        GP - Get Power
        XG - Display or Modify XRAY Goodguy List 
             (modify is super-privileged)
        HE - Help
        DH - Convert Decimal to Hex
        OH - Convert Octal to Hex
        HO - Convert Hex to Octal
        HD - Convert Hex to Decimal
        DO - Convert Decimal to Octal
        OD - Convert Octal to Decimal
        LE - Set Local Echo
        RE - Set Remote Echo
        WM - Display or Create XRAY Warning Message

    Memory, Register and Symbol Table Commands ...................  67
        R  - Read Memory
        MA - Scan Memory (privileged)
        RS - Read Memory at Symbol
        RA - Read Absolute Memory
        W  - Write Halfword Memory (super-privileged)
        WF - Write Fullword Memory (super-privileged)
        WA - Write to Memory at Absolute Address, SOLO only,
             (super-privileged)



        WS - Write Memory at Symbol
        SA - Display Address of Symbol
        SY - Display Symbol Table
        PS - Display PSW/PC (SOLO Only)
        RG - Read Register Set (SOLO Only)

    Interface Status Commands ....................................  71
        SR - SIO Ring Status Display/Initialization (Split 
             Supervisor Base Only) (Init is privileged)

        IS - Display ISIS Interface Statistics (ISIS Only)
        IR - Display Dispatcher Ring Pointers (ISIS Only)
        HS - Display Host Information


    Debugging Aids ...............................................  75
        SC - Set Crash (super-privileged)
        SB - Set Breakpoint (super-privileged)
        RC - Remove Previous Crash or Breakpoint (super-privileged)
        GB - Execute from Breakpoint (SOLO Only) (super-privileged)
        ST - Set Trap (super-privileged)
        DT - Display Trap
        RT - Remove Trap (super-privileged)
        TS - Set MAC trace/stop function (Zitel only) (super-privileged)
        TR - Set UPSW Trace in Address Range (super-privileged)
        TT - Display UPSW Trace Table
        G  - Execute from Address or Illegal Instruction 
             (SOLO Only, super-privileged)

APPENDICES .......................................................  82
    A. CRYPTO Messages ...........................................  82
    B. XRAY Command Summary ...................................... 105
    C. Terminal Types (Solo CONSAT) .............................. 110
    D. Crash Codes ............................................... 111
    E. Glossary .................................................. 124
                                  INTRODUCTION                 December 20, 1983













    INTRODUCTION

    XRAY  is  an  interactive  monitoring  and  debugging  system that
         resides in TYMNET-II node code versions 3.07 and later.  This
         document reflects corrections  and enhancements made  to XRAY
         in version 5 of the node code.  (Version 4 XRAY is documented
         in (TIIDEV:57)XRAY04.DOC).

    XRAY has evolved in response to the need for easily accessible and
         usable tools for monitoring  the status of nodes in  a TYMNET
         network.  Its features are designed to give access to as much
         useful information  as possible,  displayed in  a convenient,
         understandable form.

    XRAY provides a real-time  window into a TYMNET-II  node.  Through
         it,  the user  can conveniently  display information  about a
         node's   configuration,  performance,   and   history.   XRAY
         supplements  rather than  supplants  other network-monitoring
         systems such  as PROBE  and TMCS.   Used in  conjunction with
         them,  it can  be a  powerful tool  for  monitoring activity,
         measuring performance,  and diagnosing  problems at  both the
         node and network levels.























                                       1
                                  INTRODUCTION                 December 20, 1983


    XRAY FEATURES.

    LOCAL AND  REMOTE XRAY.   XRAY runs  both as  a node  code process
         which can be  accessed remotely on any  node which is  up and
         running in  the network, and  as an independent  system which
         can  be  accessed  through   the  TTY  port  of   the  Engine
         Multifunction  Card even  if the  node code  is  not running.
         Several users may be logged into remote XRAY on a node at the
         same time; the maximum  number of simultaneous logins  may be
         set via the Tymfile  parameter NXUBLK (default is  3; maximum
         is 15d).   Local (TTY) XRAY  can support only  one user  at a
         time.  On an ISIS node, local XRAY is the slot 0 DDT job, and
         is accessed via the DDT '?STAT' command.

    SOLO AND ISIS  XRAY.  There are  important differences in  the way
         the  node   code  functions   under  ISIS   and  in   a  SOLO
         configuration, and these differences affect  XRAY indirectly.
         In  general,  XRAY   commands  and  features   which  involve
         accessing un-MAC'd  memory in  a node  are available  only in
         SOLO  configurations.  There  are a  few XRAY  commands which
         apply  only  to ISIS  nodes.   However, the  most  useful and
         commonly used XRAY commands are identical in the two types of
         configurations.   (Exceptions   are  noted  in   the  command
         descriptions below.)

    NODE TIME  AND CLOCKS.   Time and timing  values are  expressed in
         several different ways in XRAY.

    FASTC is the highest-resolution clock maintained by the  node code
         (or, in an  ISIS node, by the  ISIS Kernel).  It  "ticks" 600
         times  a  second,   so  1  tick   of  FASTC  is   about  1.67
         milliseconds.  FASTC is  a fullword and is  usually displayed
         in  hex.  Elapsed  times are  sometimes displayed  in decimal
         milliseconds, based on FASTC.

    SLOWC is the  node code's 1-second clock.   It also is  a fullword
         cell and is usually displayed in hex.

    Node time is Greenwich Mean Time in the format  ddd:hh:mm:ss (like
         PROBE) and is synchronized  to the network Supervisor  when a
         node is taken over after a load or crash.  There is  a period
         of time between startup  (or restart) and takeover  when node
         time is the elapsed time since the code last  started running
         -- typically 'ddd' is '000'.

    RADIX CONVENTIONS.  Numeric values displayed by XRAY follow TYMNET
         radix  conventions for  such things  as node  and  async port
         numbers  (octal)  and host  numbers  (decimal).   Some values
         (e.g., channel numbers, FASTC ticks) are given in  hex.  Most
         other   values  (e.g.,   milliseconds)  are   decimal  unless
         otherwise noted in the command descriptions below.





                                       2
                                  INTRODUCTION                 December 20, 1983


    XRAY SECURITY

    Access to remote XRAY  is controlled through an XRAY  goodguy list
         in each  node.  The goodguy  list is defined  by a  series of
         calls to the GG macro, as follows:

            GG(<privilege status>,0,<username>,<override status>)

    where   <privilege status> may be 0, 1 or 2 and determines whether
         the user  is able to execute certain classes of XRAY commands
         (see  PRIVILEGED COMMANDS below);

     <username>  must be  a  valid network  username of  12d  or fewer
         characters;

     <override status> is 0-FFx  and determines the user's  ability to
         log in to XRAY on a node when all XRAY slots are in  use (see
         ACCESSING XRAY below).

    For a  SOLO configuration, the  GG macro calls  may appear  in the
         Tymfile or in a goodguy parameter file or both.  For  an ISIS
         configuration,  the  GG  macro  calls  must  be  part  of the
         standard ISIS XGG macro definition.

    There are no security restrictions on access to local XRAY.































                                       3
                                  INTRODUCTION                 December 20, 1983







    ACCESSING XRAY

    XRAY can be accessed both remotely through the network and locally
         through  the  TTY  port on  the  Engine  multi-function card.
         Local XRAY actually runs as a separate process from  the node
         code  and  can be  accessed  even  if the  node  code  is not
         running.  Thus it can  be used to trouble-shoot a  node which
         is not up in the network.

    GETTING  INTO  AND  OUT  OF REMOTE  XRAY.   XRAY  can  be accessed
         remotely on any node that  is up in the network.   Local XRAY
         can be  accessed remotely by  logging into DDT  slot 0  on an
         ISIS node (see blow).  The logon string for remote XRAY is;

        GOODGUY:<kernel host number>;<password>

        (where GOODGUY is a username on the goodguy list for this node).


    If logon is successful, XRAY responds with:

        **X-RAY** NODE: <node #>  HOST: <host #>  TIME: ddd:hh:mm:ss 


    If all XRAY ports are already  in use on the node, the  login will
         succeed only  if the  new user's  override status  is greater
         than that of  at least one of  the user's already  logged in.
         In that case, the existing XRAY user's circuit will be zapped
         with the message "xray slot overriden".

    If no  XRAY ports  are available  and none  can be  preempted, the
         login fails with the message "out of xray slots".

    Control-C is the  <escape> sequence in  remote XRAY --  it cancels
         input and interrupts output.

    To log off from remote XRAY, type control-Z.  No logoff message is
         issued.





    ACCESSING LOCAL (TTY) XRAY.  XRAY can be accessed through  the TTY
         port on the Engine multi-function card.  It is  not necessary
         that the node be up  in the network, but the machine  must be
         running  code--i.e.,  it cannot  be  halted or  in  its boot.
         Simply plug a  terminal into the  TTY port, making  sure that



                                       4
                                  INTRODUCTION                 December 20, 1983


         baud-rate selector on the multi-function card is set to match
         the terminal speed.

    On  a SOLO  machine, pressing  <BREAK> elicits  the NODE/HOST/TIME
         message as  above.  There  is no  way to  log off  from local
         XRAY.  Control-C cancels  input but may not  interrupt output
         (the TTY port is  a half-duplex device, so when  it's talking
         it isn't listening); use <BREAK> instead.

    On an ISIS node, local (TTY) XRAY is a DDT job; it can be accessed
         by logging into slot 0 DDT either remotely or through the TTY
         port.  Once you have logged into DDT (Slot 0), typing '?STAT'
         elicits the XRAY NODE/HOST/TIME message as  above.  Control-C
         cancels input and  <BREAK> interrupts output; in  both cases,
         control is returned to DDT so you have to type  '?STAT' again
         to get back into XRAY.

    There are  a few noticeable  differences between remote  and local
         XRAY.  Only  one user can  access local XRAY  at a  time, but
         local XRAY does not take up any remote XRAY user  slots.  You
         can't type  ahead in local  XRAY; you have  to wait  for each
         character to  be echoed before  typing the next.   (This does
         not apply to a remote login through DDT.)  Echoing  cannot be
         supressed in local XRAY nor in local or remote  XRAY accessed
         via DDT.

    If a  SOLO node is  halted (wait-bar  on) or in  its boot,  it may
         still be possible to  get into local XRAY  without restarting
         the node code.  Starting the code via the console  at address
         74x will restart local  XRAY without starting the  node code.
         (Running at address 70x starts both the node code and XRAY.)

























                                       5
                                  INTRODUCTION                 December 20, 1983







    USING XRAY

    COMMAND SYNTAX AND USAGE.  All XRAY commands have the same syntax:

            <command> [<arg1> ... <argn>] <terminator>

    where <command> is a 1- or 2-letter mnemonic and the arguments (up
         to 8 for  some commands) are  separated by commas  or spaces.
         Some commands do not  require any arguments, others  will not
         accept  any,  and  still others  will  prompt  for additional
         arguments in their own way. Most commands are terminated by a
         carriage return or  any non-numeric character  (numeric being
         0-F hex);  a few accept  or expect  specific single-character
         terminators (see command descriptions).

    COMMAND  ERRORS.  XRAY  responds to  most input  errors  with '??'
         followed by the prompt '>'.  Some commands output  their own,
         less  cryptic,  error  messages which  are  explained  in the
         command descriptions.   A special case  of the latter  is the
         'COMMAND IN USE' message issued when more than one user tries
         to execute a command which can be used by only one user  at a
         time.

    Any  command may  be aborted  before input  is complete  by typing
         control-C.  There is no way to backspace/erase input.

    PRIVILEGED COMMANDS.   Most XRAY  commands are  non-privileged and
         can be executed by  any XRAY user.  Privileged  commands fall
         into two classes:  regular privileged commands  are available
         to  users with  a  privilege status  of  1 or  2;  and super-
         privileged  commands  are  available  only  to  users  with a
         privilege  status  of  2.   Access  to   privileged  commands
         requires entry  of a special  command aecurity sequence.
         An  attempt  to  execute a  privileged  command  when  not in
         privileged  mode   elicits  the  message   'NOT  AUTHORIZED'.
         Commands  which  are  privileged  are  noted  in  the command
         descriptions below.














                                       6
                                 XRAY COMMANDS                 December 20, 1983





Node Status Commands
==== ====== ========


    ND - Display Node Descriptor

    The  'ND'  command  displays basic  information  about  the node's
         configuration and network  links.  Values are  decimal except
         as noted.

>ND

NODE  KHOST  VERSION   H-WARE   S-WARE  SUPR   MEMORY
2161  0633  00010502   RESTART  RESTART  01    0512KB

PORTS  PASSTHRUS  ALNK  TLNK  XLNK   LINES  SYNC  SIO  ASYNC
0012    0011      0004  0014  0008    0012  0010  0002  0128

NODE FIRST CAME UP AT 056:04:50:52    NODE LAST CAME UP AT 056:04:50:52

LAST CRASH:     TIME       CC   TYPE  PSW   ADDRESS
            000:00:00:00  0000  0000  0000  00000000

**LINE**  ***--LINK--***    LINE    LINK  LINE   LINK  LINE          LINE
NO. TYPE  NEIG  NO. TYPE    STATUS  WSIZ  SPEED  CRQS  TIME ATT/DET  ERRATE
00  SYNC  0140  0D  XLNK    UP      0008   9.6   0001  056:08:38:47  *
01  SYNC  2003  0B  XLNK    UP      0008   9.6   0003  056:08:39:14
02  SYNC                    UNUSED
03  SYNC  2121  FF  XLNK    *DOWN*
04  SYNC  2160  00  TII -M  UP      0020 @ 9.6   0003  056:17:26:44
05  SYNC  2160  00  TII -M  UP      0020 @ 9.6   0003  056:17:29:23  **
06  SYNC  2006  0C  XLNK    UP      0008   9.6   0004  056:08:38:44
07  SYNC                    UNUSED
08  SYNC                    UNUSED
09  SIO   2162  01  TII     UP      0020    MS   0003  056:17:26:49
10  SIO                     UNUSED

TIILNK NEIGHBORS DOWN - 2164  0775  1101  0764  2163


    NODE:   Neighbor node number (octal).

    KHOST:  Kernel host number.

    VERSION: Node code version number and configuration type (octal)
         0000vvrr = SOLO switcher
         0001vvrr = ISIS
         0002vvrr = SOLO TYMSAT if Version 4
                    SOLO CONSAT if Version 5+




                                       7
                                 XRAY COMMANDS                 December 20, 1983


    H-WARE/S-WARE: These fields display the currently  selected crash-
         handling   options   for  hardware   and   software  crashes,
         respectively. See the 'CO' command for an explanation  of the
         options.

    SUPR: Current Supervisor number.  If 00, the node is not under the
         control of a supervisor (i.e., it is out of the network).

    MEMORY: Available memory.  In an ISIS node, this is the  amount of
         memory allocated  to slot  0 in the  Tymfile (S0CORE).   In a
         SOLO node, it is the amount of physical memory in the machine
         as calculated  during initialization.  The  node code  may or
         may  not use  all the  available memory.   Current  node code
         cannot recognize memory in excess of 1 meg, so 1024KB  is the
         maximum possible value for this field.

    PORTS: Total number of circuits terminating on the node.  Includes
         Kernal, Dispatcher, and Async ports.

    PASSTHRUS: Number  of passthrough circuits  on the node.   PORTS +
         PASSTHRUS  +  INTERNAL  HOST  CIRCUITS  +   SUPERVISOR  PORTS
         = total number of circuits on the node.

    ALNK: Number of active (up) links.

    TLNK:  Total  number  of  links (TII-  and  X-)  specified  in the
         Tymfile.

    XLNK:  Number of  unassigned  (wild-card)  links specified  in the
         Tymfile.

    LINES, SYNC,  SIO, ASYNC:  Total number of  lines, number  of SYNC
         lines,  number  of  SIO lines,  and  number  of  async ports,
         respectively,  specified in  the Tymfile.   (ASYNC  field not
         present unless Tymsat or Consat).

    NODE FIRST TIME UP: The  time the node was first taken  over after
         the last load.

    NODE LAST TIME  UP: The time the  node was first taken  over after
         the last startup.

    LAST CRASH: Crash summary information for the most recent crash.
        TIME:    Time of last crash.  (May be incorrect if the
                 node had not yet been taken over when it crashed.)
        CC:      Crash count at time of crash.
        TYPE:    Crash type (refer to Appendix D for explanation).
        PSW:     Crash PSW.
        ADDRESS: Crash address (refer to PSW to determine
                 whether mac'd or not).

    LINE NO./TYPE:  Line number  and type  (SYNC or  SIO).  On  a SOLO
         node, sync line numbers correspond directly to  physical sync



                                       8
                                 XRAY COMMANDS                 December 20, 1983


         ports, and  SIO lines  are numbered  beginning with  the last
         sync line number plus 1.   On an ISIS node, line  numbers are
         arbitrarily   assigned to  physical ports with the  S.REF and
         M.REF  macros.   Note  that  neither  line  nor  link numbers
         correspond in any way to  the numbers that appear in  a PROBE
         snap of the  node.  PROBE numbers the  links in the  order in
         which they are reported up.

    NEIG: Neighbor  node number on  the line.  Occasionally,  you will
         see utter garbage in this field (an impossible  node number).
         This will happen if garbage was received on the line  when it
         was in reset state; needless to say, the line will not be up.

    LINK  NO./TYPE:  Link number  (hex)  and type  (TIILNK  or XLINK).
         Suffix  '-M'  means  multiple-line  link.   Link  numbers are
         assigned to defined (TIILNK) neighbors in the order  in which
         they are  defined in  the Tymfile,  starting with  0.  X-link
         neighbors are assigned the high range of link numbers  in the
         order in which the links came up.  An X-link which is  not up
         will not have a link number (displayed as 'FF').

    LINE STATUS: Status of the line (not the link).  Status may be:
        UP      - Attached to a link.
        *DOWN*  - Not attached to a link.  NEIG field may show the last 
                  neighbor node that was up on the line.
        UNUSED  - Never up since last start-up.
        DWLOAD  - Downline load in progress.  NEIG field may show last
                  neighbor node that was up on the line.
        *SUSP*  - Suspended.  A line may be suspended for one of two 
                  reasons: 1) If multiple lines start to come up 
                  at the same time on a link, all but one of them will 
                  be suspended (for two minutes).  2) If, during reset,
                  there is no permuter table or link descriptor space,
                  or if there is a reset security key violation during
                  the last step of reset.


    LINK WSIZ: Window size (applies to link, not line), a  multiple of
         4  in the  range  4-128.  Default  is 8  (e.g.,  X-links).  A
         window-size mismatch will not prevent a link from  coming up,
         but link performance will be sluggish.  This problem tends to
         occur especially on X-links  when the neighbor node  has been
         configured with a window-size  other than 8.  T-I  links will
         always have a window-size of 4 or 8.

    @:  In Version  5,  lines which  are attached  to  T-II configured
         satellite links (as  opposed to T-I "satellite"  links, where
         window-size = 127 is used as the indicator) are  flagged with
         '@' before the  speed field.  Currently,  this is based  on a
         Tymfile parameter,  and applies  to the  link, not  the line.
         None, some,  or all  of the  lines attached  to the  link may
         actually be using satellite facilities.

    LINE SPEED: Line speed in KBPS.


                                       9
                                 XRAY COMMANDS                 December 20, 1983


    LINK  CRQS:  Number  of  circuits  on  the  link  (not  the line).
         Channels  0  and 1  are  always  in use  on  an  active link.
         Channel 0 is used on  T-I links to pass along  T-I supervisor
         messages;  channel 1  is used  for ILC  (inter  link control)
         records  which  regulate  the  flow  of  data   between  T-II
         neighbors.  Therefore, this field  will always be at  least 2
         for a link that is up.

    LINE TIME ATT/DET: The time the line achieved its  current STATUS.
         Every time a  line changes from  one status to  another, this
         value is updated.

    LINE ERRATE:  Error rate.   A very  approximate indication  of the
         incidence of errors on the line during the previous hour.  If
         the field is blank, the line has been essentially error-free.
         Otherwise, the field will contain from 1 (low error  rate) to
         4 (high error rate) asterisks.  The "errors" covered  by this
         indicator  are  those  reported  to  the  PROBE  log  as line
         diagnostic  error  reports,  types  81-8B,  corresponding  to
         CRYPTO messages 41-4B.  They include retransmissions sent and
         received (which may or may not be due to actual  line errors)
         as well as "real" line errors such as checksum errors and bad
         BORI's.

    TIILNK NEIGHBORS DOWN:  List of defined (TIILNK) neighbors not up;
         if none, displays 'ZIP'.






























                                       10
                                 XRAY COMMANDS                 December 20, 1983






    NS - Display Node Statistics

    NSZ - Reset Node Statistics Peak Fields

    NS displays 1-second averages and peak values of certain operating
         parameters which are useful in estimating node load.

    NSZ is a variation on NS that clears the high-  and low-water-mark
         fields before displaying.   Fields which are cleared  by this
         command are indicated in the field descriptions below.

    All values are decimal; time values are in milliseconds.  Averages
         are per second during the last complete  1-minute measurement
         interval.   High-  and  low-water-marks  are  initialized  at
         startup and by the NSZ command.

>NS

EXCT  EXLW  EXHW  EDHW  EEHW  SYHW  NEHW  NECT  MPRT  MPAS  MLNK
0231  0229  0552  0000  0018  0015  0005  0007  0000  0002  0004

 RMK XCT  RMK NMK  PACKETS
00056033 00055584 00000449

NODE LINKS' TOTAL CPS RATES
  CPSO     CPSI     HWMO     HWMI
00000030 00000032 00000073 00000035

ASYNC CPS RATES
  CPSO     CPSI     HWMO     HWMI
00000000 00000000 00000000 00000000

CODE DELAY    H-WARE DELAY     TOTAL       EFFICIENCY
    0003          0020          0024          0000

PROCESS: ASYNC SYLVR Q-SEC H-SEC SPIDR SWICH LINKR DWLIN SOURC X-RAY 1SEC
PERCENT:   00    26    00    01    39    06    00    00    00    00    00
MAX(MS): 0006  0008  0009  0004  0006  0006  0006  0000  0000  0016  0006

AVERAGE ASYNC TIME (MS) : 0008      MAX : 0023      WRAP : 0266

>

    EXCT:  Average number  of EXEC  loop iterations  per  second.  The
         higher this  is, the less  work the node  code is  doing.  If
         this is consistently less than 60 in a SOLO switcher, or less
         than  120  in a  TYMSAT/CONSAT,  the node  may  be considered
         overloaded  in  the  sense  that  certain  critical functions
         (sync, SIO and async  processing) are not being  performed as
         often as they ideally should.


                                       11
                                 XRAY COMMANDS                 December 20, 1983


    EXLW:  The  lowest  EXCT  value  computed  since  startup  or NSZ.
         Immediately  after  an  'NSZ'  command  this  field  displays
         '9999'.  Indicates the most heavily loaded  1-minute interval
         for the node.

    EXHW: The highest EXCT value computed since startup or NSZ.

    EDHW: The longest time the node code was dismissed to the  ISIS or
         SOLO kernel since startup or the last NSZ command.   Always 0
         if there  is no ISIS  or SOLO kernel.   Note:  a  SOLO kernel
         exists only in a standalone supervisor configuration.

    EEHW:  The longest  time for  a single  EXEC loop  iteration since
         startup or the last NSZ command.

    SYHW: The longest time between SYLVER executions since  startup or
         NSZ.  SYLVER is the node process which moves input  data from
         sync and SIO lines into  the input sectors.  In an  ISIS node
         it runs in  foreground.  In a SOLO  node, it is  scheduled to
         run every 16 ms (about 60 times a minute).

    NEHW: The longest time it  took the node code to process  a needle
         since  startup or  NSZ.   Indicates the  worst  case circuit-
         building delay in the node.

    NECT: Number of valid needles processed since startup or NSZ.

    MPRT:   Maximum number  of active ports (terminating  circuits) on
         the node  since startup  or NSZ.   For a  SOLO TYMSAT/CONSAT,
         this is the maximum number  of async ports active at  any one
         time.  For  an  ISIS  node,  it  is  the  maximum  number  of
         DISPATCHER and KERNEL ports in use.  On a supervisor base, it
         includes supervisor ports.

    MPAS:   Maximum  number of passthrough  circuits since  startup or
         NSZ.

    MLNK:   Maximum number of active links since startup or NSZ.

    RMK XCT: Total number of  calls to RMAKE in the last  complete one
         minute reporting interval.

    RMK NMK:  Number of  RMAKE calls  in which  no records  were made.
         (See the 'KS' description for an explanation of this field.)

    PACKETS: Number of packets made during the last minute.

    NODE'S TOTAL CPS RATES: Average (CPSO, CPSI) and peak (HWMO, HWMI)
         logical character data rates for the node, out and in.

    ASYNC CPS RATES:   Average and peak data  rates to (out)  and from
         (in) async ports. (SOLO TYMSAT/CONSAT only)




                                       12
                                 XRAY COMMANDS                 December 20, 1983


    CODE  DELAY:   The  combined   traffic-weighed  delay   values  in
         milliseconds  from  all  the  node  links.   See  KS  for  an
         explanation of the specific link delays used.  The CODE DELAY
         reflects delays in  the software; it is  the sum over  all of
         the links of the IN QUEUE, RTEAR, and BUFFER delays  for each
         link  multiplied by  the percentage  of node  traffic passing
         over that link.  The H-WARE delay is the sum over all  of the
         links  of  the  OUT  QUEUE  and  XMIT  delays  for  each link
         multiplied  by the  percentage of  node traffic  passing over
         that  link.  It  reflects delays  caused by  window  size and
         bandwidth limitations and retransmissions.

    EFFICIENCY is the ratio  of the total node's  character throughput
         to the average  per character link  delays in FASTC  ticks in
         the  node  weighted by  the  traffic on  each  node, assuming
         maximum-size  packets,  and  scaled  to  achieve  some  finer
         resolution.  It is not a percentage.  Clearly, the higher the
         better.

    PROCESS:  The  node code consists  of a collection  of independent
         processes, each  performing a part  of the  node's functions.
         These  fields  identify  the  eleven  most   frequently  used
         processes, the  percentage of time  spent in them  during the
         previous minute, and the maximum amount of time spent in them
         since startup or the last 'NSZ' command.

        ASYNC:  Processes data to and from async ports. Scheduled to run
                every 8 ms.  (SOLO TYMSAT/CONSAT only)
        SYLVER: Processes input data from sync and SIO lines.  Runs in
                foreground under ISIS; scheduled to run every 16 ms in
                SOLO node.
        QUARTER-SECOND LOGIC: Performs ball processing for async ports.
                (SOLO TYMSAT/CONSAT only)
        HALF-SECOND LOGIC: Handles link overloads, scheduling of backpressure
                relief, transmission of dummy records, and scheduling of 
                remote XRAY output.  Also runs async hang-and-answer (SOLO
                TYMSAT/CONSAT only).
        SPIDER: Handles interface I/O (dispatcher, kernel, supervisor) and
                packet-making and teardown (RMAKE/RTEAR).  Schedules SWITCH.
        SWITCH: Processes supervisor data, login data, internal host data
                (XRAY, down-line load).  Completes circuit-building.
        LINKER: Performs various link-level functions -- attaching and
                detaching lines, bringing up and tearing down links,
                and generating  diagnostic reports to the PROBE log.
        DOWN-LINE LOAD: Handles I/O of down-line load records for neighbor
                being loaded or dumped.
        SOURCE: Handles generation of delay-measurement data (see 'DB', 'DL'
                commands).
        X-RAY:  Performs remote XRAY processing.
        ONE-SECOND LOGIC: Performs various miscellaneous functions, primarily
                of a house-keeping nature.





                                       13
                                 XRAY COMMANDS                 December 20, 1983


    AVERAGE ASYNC  TIME, MAX,  WRAP:  The  average time  between ASYNC
         executions,  the  peak time  since  startup or  NSZ,  and the
         amount of time it takes the async ring to wrap.  WRAP time is
         a  constant which  depends  on ring-size  and  terminal speed
         supported  (BAUDR).  If  async PEAK  time exceeds  WRAP time,
         async input data may be  lost or, even worse, the  async ring
         may be thrown out of sync completely.  (The 'IZ'  command can
         be used to handle this contingency.)
















































                                       14
                                 XRAY COMMANDS                 December 20, 1983





    HT -  Halt Node Code,  SOLO only, Super-privileged,  Audited.  The
         'HT' command puts the Node Code into the STOP state

    SN - Restarts the node, SOLO only, Super-privileged, Audited.

    BT -  Causes the  SOLO machine  to go  into its  boot. Privileged,
         Audited.














































                                       15
                                 XRAY COMMANDS                 December 20, 1983


Link and Line Status Commands
==== === ==== ====== ========


    KD <neighbor node #> - Display Link Descriptor

    The  'KD'  command displays  the  link descriptor  values  for the
         specified neighbor.  The link descriptor  contains everything
         the node needs to know  in order to talk to a  neighbor node.
         Some of  its fields  are unvarying  link parameters,  such as
         window  size, neighbor  node number,  and link  type.  Others
         change from second to second, reflecting the passing  of data
         to and  from the  neighbor  e.g., the  record numbers  of the
         packets most recently made and torn.  All values are hex (see
         the 'HO' and 'HD' commands to convert).

    Doing 'KD' for a  non-existent neighbor (including an  X-link that
         is not up) will elicit the error message '??'.

>KD 2003

NODE  TPBO  NLWS  SPNM  NCHN  ISEC  NRTR  AMSK
0403  0810  0108  8408  0080  05E2  0612  00FF
OSEC  NRMK  NRXM  LRT   LAS   LRM   LAR   NAS
0642  064E  065A  507E  507E  211D  211C  5080
BNOD  CHN0  B.PT  E.PT  ACHN  VERS  LINES
0000  0640  0C00  0D00  0008  FFFF  02
CMD CKTS= 0001

>

NODE : Neighbor node number.
TPBO : TP = Link type (00 if T-I neighbor, 08 if T-II neighbor).
       BO = BORI.  The expected first byte of a packet.  For a T-II link,
            this will be 10 if the neighbor is the slave on the link (has
            the lower node number), 20 if it is the master (higher node
            number).  For a T-I link, it will be 50 for window-size 4,
            and 60 for window-size 8 links.
NLWS : NL = Number of lines attached.  If NL > 0, the link is up.  If 
            NL > 1, the link is multiple-line.
       WS = Window size.  (See 'ND' comments.)
SPNM : SP = 80 or A0 + link speed index.  For terrestrial links, the range
            is from 81 (2.4 KBPS) to 9F (MS); for satellite links, the
            range is from A1 (2.4 KBPS) to BF (MS).  Link speed is
            the sum of the speeds of all lines attached to the link (in
            multiples of 2.4 KBPS) up to a maximum of MS, and with the
            following exception.  Links which are defined in the
            Tymfile as high-speed (56KB and up) are assigned
            fixed rather than computed link speed indices if the
            computed value is greater than or equal to 48KB.
       NM = Link number.  (See 'ND' comments.)
NCHN : Number of channels currently allocated to the link.  Will be 0
       if the link is down; otherwise some multiple of 80 hex.  This value
       changes as the link bubbles and shrinks.


                                       16
                                 XRAY COMMANDS                 December 20, 1983


ISEC : Pointer to the initial input sector record descriptor -- i.e., points
       to the location where data about incoming packets is stored.  This is
       constant for the life of the link.
NRTR : Pointer to the record descriptor for the next packet to be torn.
AMSK : A mask used to separate the acknowledgment field from the rest
       of a packet header.  Value depends on link type (and, for T-I, on
       window size).  
OSEC : Same as ISEC, but for outbound records.
NRMK : Pointer to the record descriptor for the next record to make.
NRXM : Pointer to the record descriptor for the next record to transmit.
LRT  : Record number of the last record torn.
LAS  : Last acknowledgment sent -- i.e., record number of the last packet
       acknowledged.  Should always be less than (but very close to) LRT.
LRM  : Record number of the last record made.
LAR  : Last acknowledgment received -- i.e., record number of the last
       packet the node knows that the neighbor received.  The difference
       between LRM and LAR indicates how full the window is and should
       never be greater than window-size.
NAS  : Next acknowledgment to send.  May be the same as LAS; never
       more than LRT+2.  (If the node has received more than two 
       unacknowledged records, it will send a null record simply to
       update the acknowledgement.)
BNOD : Original neighbor number -- 0 for an X-link, same as NODE for a
       TIILNK.  Link descriptors are always there for defined neighbors;
       they exist for an X-link only while the link is active.
CHN0 : The absolute channel number of the link's relative channel 0.
       (See the 'QC' command description for the significance of this field.)
B.PT : Beginning of the link's permuter table area -- i.e., offset into 
       NIOTAB for the beginning of the link's permuter tables.
E.PT : End of the link's permuter table area -- i.e., offset into NIOTAB
       for the end of the link's permuter tables.
ACHN : Number of active channels on the link.  At least 2 if the link is up
       (see 'ND' comments).
VERS : Octal version number of neighbor; FFFF if neighbor doesn't send version
       number in reset pattern (versions prior to 5.00).
LINES: Numbers of all lines attached to the link.  'ZIP' if no lines
       are attached.
CMD CKTS: Number of command circuits on the link (included in ACHN).


















                                       17
                                 XRAY COMMANDS                 December 20, 1983







    KS <neighbor node #1...neighbor node #8> - Display Link Statistics

    KSS - Display Link Statistics for First Eight Links

    KS <neighbor node #1...neighbor node #7> Z - Clear Link Statistics

    The 'KS' command displays various performance  indicators relating
         to   throughput,   delays,   packet-making,   and   bandwidth
         utilization on a link.  Link performance statistics are based
         on 1-minute measurement intervals, and most of the  fields on
         the 'KS' screen reflect activity on the link during  the last
         completed  interval.  In  addition, there  are  several high-
         water  mark fields  which  display the  peak  values achieved
         since the last startup or last initialization.

    Up to 8 arguments (neighbor node numbers) may be entered at a time
         or the first eight links are displayed with the KSS command.

    Only one XRAY user may  execute the 'KS' command at a  time.  XRAY
         responds to  the 'KS'  command with a  'BUSY' message  if the
         command is already in use.   If this happens, try again  in a
         few seconds.

    The KS command with a neighbor number argument list followed  by Z
         clears the high water marks for the indicated links.

    All values are decimal; all time values are in milliseconds.
























                                       19
                                 XRAY COMMANDS                 December 20, 1983



>KS 2031

LOGICAL LINK CHARACTERS
    CPS IN : 00000001  HWM : 00000788
    CPS OUT: 00000018  HWM : 00000102
PHYSICAL LINK CHARACTERS
    CPS IN : 00000038  HWM : 00000946
    CPS OUT: 00000045  HWM : 00000144
PACKET OVERHEAD
    IN : 95  %     OUT : 58  %
BANDWIDTH UTILIZATION
    IN : 03  %     OUT : 03  %
CHAR/SEC PER CIRCUIT
    IN : 0000    OUT : 0000    CIRCUITS : 0002
PACKET STATISTICS
    PACKETS/SEC : 0003     AVERAGE SIZE : 00033  BYTES   
    RECORDS/PACKET: 0002
LINK DELAY (MS)
    IN QUEUE    RTEAR    BUFFER   OUT QUEUE   XMIT     TOTAL
      0003      0002      0005      0002      0007      0019
OVERLOAD COUNT   SATURATED COUNT   BACKLOG COUNT   PACKETS MADE   IDLE CALLS
      0000            0000            0000            0112          00004516
                    MARKING          REXMISSIONS    XMISSIONS
LINE 0003  :        0002              0001          0111 
LINE 0017  :        N/A               0002          0004

>

    LOGICAL LINK CHARACTERS: Data characters only.

    PHYSICAL LINK CHARACTERS:  All characters, including  data, packet
         headers,  logical record  headers, checksums,  and inter-link
         control records.

    CPS IN/CPS OUT: Average data rates in characters per  second, into
         and out of the node on the link.

    HWM: High-water-mark value attained by data rate values  since the
         node last came up.

    PACKET OVERHEAD  IN/OUT: The percentage  of total traffic,  in and
         out, which is not user data -- i.e., the percentage  of total
         packet data  dedicated to control  functions.  Range  is from
         07%  to 100%  (00% means  100%).  This  is a  measure  of how
         efficiently we are using the link's "logical" bandwidth.

    BANDWIDTH  UTILIZATION:  The  physical character  data  rate  as a
         percentage of the  link's maximum data rate  capacity.  Since
         our  calculation  of the  actual  bandwidth of  a  high speed
         and/or a multiple-line link is not guaranteed to  be accurate
         (see KD--SPNM), this statistic  may not be accurate  in those
         cases.



                                       20
                                 XRAY COMMANDS                 December 20, 1983


    CHAR/SEC PER  CIRCUIT IN/OUT: The  average logical  character rate
         per circuit, in and out.

    CIRCUITS: The number  of circuits currently  on the link  (same as
         ACHN field in 'KD' display).

    PACKET  STATISTICS:  Average  number of  packets  made  per second
         (PACKETS/SEC),  the AVERAGE  SIZE in  physical  characters of
         those packets, and the average number of logical  records per
         packet (RECORDS/PACKET).

    LINK DELAY (MS): The  average time in milliseconds that  a typical
         data  (logical)  character  spent in  each  of  the following
         stages of its passage  through the node.  The  times recorded
         are actually  for packets, but  recall that if  twenty people
         take a one hour bus ride together, their average trip time is
         not meaningfully three minutes each.


       IN QUEUE: Time spent, after coming in on a line, waiting to be
                 checksummed and moved to the input sector.
                 The number reported is actually the average time
                 between SYLVER executions.

          RTEAR: Time spent waiting for packet to be torn down.
                 The number reported is the average time from when
                 SYLVER has moved a complete packet into the input
                 sector until RTEAR begins to tear down the packet.

         BUFFER: Time spent in output buffer waiting to be made into
                 a packet.  Reflects delay caused by window-size
                 limitations and backpressure constraints. 
                 The number reported is the the time expressed in
                 milliseconds since this packet count was last
                 zeroed out divided by number of times we've completed
                 servicing all channels on the link.  In other words,
                 it is the average time between RMK packet makes,
                 which is the average time that any character spent in
                 the buffers.

      OUT QUEUE: Time spent in output sector waiting to be transmitted.
                 This number is the average time for the interval
                 between RMK's completing a packet and SYLVEX's
                 transmitting the packet.  Delays are added into a
                 cumulative counter, and then divided by the number of
                 packets made.  The counter keeps track of additional
                 delay caused by retransmitted packets.  The statistic
                 is not kept for SIO lines.

           XMIT: The average transmission time of a packet.
                 The number reported is the average packet size per
                 link multiplied by the number of lines on the link
                 and divided by the link's character per second rate.
                 This number reflects the average delay from when a


                                       21
                                 XRAY COMMANDS                 December 20, 1983


                 character is taken from the output sector until it
                 can be acted upon by the node at the other end of 
                 the link.

          TOTAL: The sum of all the above figures.


    OVERLOAD  COUNT:  The number  of  times during  the  last 1-minute
         interval that all channels on the link with output data could
         not be serviced by RMAKE at least once every 1/2  second.  If
         this  happens  more  than  10  times  in  a  minute,  a "link
         overloaded" report is sent to the supervisor  (CRYPTO message
         36).   This condition  affects the  cost of  the link  in the
         supervisor's routing algorithm.  The link remains in overload
         state for five minutes  at which time the  supervisor assumes
         that it went un-overloaded.  The default threshold of  10 can
         be  changed in  the TYMFILE  (LKOVTH) or  can be  patched (at
         symbol LKOVCT).

    SATURATED COUNT:  A link is considered saturated during  any half-
         second interval if none of  its lines were ever idle  (had no
         packets  to transmit)  during that  interval.   If saturation
         occurs  during more  than 30  half- second  intervals  in one
         minute,  a "link  out  of bandwidth"  report is  sent  to the
         supervisor, message  number 14  subtype 94,  corresponding to
         CRYPTO message  37.  This condition  affects the cost  of the
         link in the supervisor's circuit-routing algorithm.  The link
         remains  in the  out-of-bandwidth state  for five  minutes at
         which  time  the   supervisor  assumes  that   the  condition
         terminates.  The default threshold  of 30d can be  changed in
         the TYMFILE (LKSTTH) or can be patched (at symbol LKSATC).

    BACKLOG COUNT:  The number of times in the last minute  that RMAKE
         was prevented from looking  for data to be made  into packets
         because  the output  sector was  full  (contained window-size
         packets).  This  can happen for  several reasons.   The worst
         case  is  that  communication  with  the  neighbor  is  being
         hampered in some way and packets are being retransmitted at a
         high rate.  The least worst case is that RMAKE is  running so
         often that the packet-transmitter (typically on a lower-speed
         link) is causing the bottle-neck simply because it can't send
         the  packets  out  fast enough.   A  high  backlog  count, by
         itself, is  not necessarily  indicative of  a problem  on the
         link.   The  backlog   condition  is  not  reported   to  the
         supervisor.

    PACKETS MADE: The number of packets made during the  last 1-minute
         interval.   This number  is used  in the  calculation  of the
         PACKETS/SEC statistic.

    IDLE CALLS: The number of times during the last  1-minute interval
         that RMAKE was  called and found no  work to do.   This value
         plus the BACKLOG COUNT is the total number of times RMAKE was



                                       22
                                 XRAY COMMANDS                 December 20, 1983


         called and did not make a frame.          MARKING: The number
         of  times  during  the  last  one  minute  interval  that the
         interrupt transmitter for the given line entered the state of
         outputting marks in  preparation for the retransmission  of a
         frame.  This is the  technique used on a synchronous  line to
         prevent the start of a frame following a clobbered frame from
         entering  the  time  window  during  which  the  neighbor  is
         expecting the  rest of the  clobbered frame.  On  a multiple-
         line  link  not  every  retransmission  need  be  preceded by
         marking.    Not  every   marking  need   be  followed   by  a
         retransmission.  This technique is not necessary in  the HDLC
         protocol, so an SIO line will display N/A in this field.

    MARKING: The number of times that a synch line began to transmit a
         frame's  worth of  marking  state to  prevent  transmitting a
         packet in the length of time in which the end of  a clobbered
         packet is expected.  HDLC protocol makes this unnecessary for
         SIO lines.

    REXMISSIONS: The  number of frames  transmitted on the  given line
         which  had previously  been  transmitted on  the  link.  Each
         retransmission is also logged as transmission.

    XMISSIONS: The  number of  frames transmitted  on the  given line,
         including retransmissions.

    This  statistic will  not be  supported in  ISIS nodes  until ISIS
         version 6.




























                                       23
                                 XRAY COMMANDS                 December 20, 1983






    BG - Display Bad-Guy List (unprivileged), Audited.

    BG  <node  #>  I  -  Include  Specified  Node  in   Bad-Guy  List,
         Privileged, Audited.

    BG  <node  #>  R  -  Remove  specified  Node  from  Bad-Guy  List,
         Privileged, Audited.

    'BG' without arguments displays  the contents of the  bad-guy list
         (as do the 'I' and 'R' variants).

    The 'I'  (include) variant  will cause the  node to  ignore resets
         from  the node  which  is included.   That is  the  effect of
         placing a node  on the bad-guy list.   Thus it won't  allow a
         link to that node to  come up, although the command  does not
         affect the status of a link that is already up.

    The 'R' variant removes the specified node from the bad-guy list.

    The privileged variants of the 'BG' command accept any valid octal
         node number and have room for 16 entries. Duplicates  are not
         entered into  the list and  if the list  fills up  a previous
         entry must be removed before entering any new node numbers.

    A sample of the command usage is:

    >BG 2012 I

    2012  2042  704

    >





















                                       24
                                 XRAY COMMANDS                 December 20, 1983


    BZ <neighbor node #> - BORI Zap a Link, Privileged, Audited.

    'BZ' causes the link to the specified neighbor to be  zapped (torn
         down)  by  sending   the  neighbor  a  reset   pattern.   All
         conditions  being  amenable,  the link  should  come  back up
         shortly  thereafter.   This  is  a  drastic  measure  that is
         occasionally necessary in order to clear up certain anomalies
         (e.g., dead-end circuits).  A link which is to be BZ'd should
         first be shut and allowed to drain as much as possible.

    If the neighbor  number specified is not  on an active  link, XRAY
         responds with '??'.

    >BZ 2012

    >








































                                       25
                                 XRAY COMMANDS                 December 20, 1983


    TL - Display Current Link Trace Parameter

    TL 0 - Turn Off Link Trace

    TL <neighbor node #> - Turn On Link Trace

    TN <FFFF> - Turn Off Line Trace

    TN <line #> - Turn On Line Trace



    TM  F  -  Display Trace  Line/Link  Foreground  Table  (Line Input
         Events)

    TM B - Display Trace Link Background Table (Packets Made and Torn)



    The  Trace-Line/Link-Event commands  are enabled  by  allowing the
         TLEV option in  the TYMFILE to  default to true.  Option NTLV
         allows disabling of TLEV tracing but should not  be specified
         unless memory constraints are severe (TLEV adds about  7KB of
         memory  overhead).   Except  when  tracing  is   actually  in
         progress, the execution overhead for TLEV is almost nil.

    The TLEV commands allow tracing of line input events on  both sync
         and SIO lines (foreground) and, at the link-level, tracing of
         record-making  and  tear-down  activity  (background).   This
         capability is often useful in isolating reasons for poor link
         performance, failure of  lines to attach properly,  and other
         anomalies.

    'TL  <neighbor  node  #>'  activates  link-level  tracing  for the
         specified neighbor.  (If the neighbor is not up on  an active
         link, XRAY responds with '??'.)  When tracing is enabled, two
         tables are used to maintain a history of events on  the link.
         The foreground table (see 'TM B' below) is updated  by SYLVER
         as packets are received on the line(s) attached to  the link.
         The background table (see 'TM B' below) is used by  RMAKE and
         RTEAR to keep a history of packet-making and  -teardown.  All
         table  entries  are  time-stamped  with  FASTC,   so  precise
         synchronization of events is possible.

    Tracing  will  continue on  a  link  until any  line  on  the link
         detaches or until a 'TL  0' command is issued, at  which time
         the trace  tables are  frozen.  Tracing  will not  be resumed
         until another 'TL <node #>' command is issued. This  makes it
         possible to  enable trace in  anticipation of an  event which
         will cause a link outage,  wait for the event to  occur, then
         use  the  'TM  F'  and  'TM  B'  commands  to  review  events
         immediately prior to the outage.




                                       26
                                 XRAY COMMANDS                 December 20, 1983


    'TN  <line  #>'  activates tracing  for  headers  received  on the
         specified unattached line# (decimal). Once the line  comes up
         and is  attached, line-level tracing  has no effect  for that
         line until it becomes unattached again.  Only  the foreground
         table is maintained (see 'TM F' below); the  background table
         has  no significance.  Line-level tracing  can be  turned off
         only by command ('TN FFFF') and can be used at the  same time
         as link-level tracing.

    Only one line  or link may  be traced at a  time.  If the  'TL' or
         'TN' command is issued to turn tracing on when it  is already
         active,  XRAY responds  by displaying  the line  or  link for
         which tracing is active and disregards the  command.  Tracing
         must  first  be  turned  off ('TL  0'  or  'TN  FFFF') before
         proceeding.

    Note:   Both   line-  and  link-level   tracing  are   turned  off
         temporarily  when the  'TM F'  or 'TM  B' command  is issued.
         This prevents  the table data  from being updated  while they
         are being  displayed.  Tracing resumes,  however, as  soon as
         output of the display is complete.

    Here is a sample session using the trace link/line commands:

>TL 2160                This command initiates TLEV tracing on the
                        link to neighbor 2160.  
TRACE LINK:  2160

>TL 2164                If tracing has been enabled for a link, it 
                        cannot be turned on for another link unless 
TRACE LINK:  2160       it is first turned off (TL 0).

>TL                     'TL' without an argument displays the link 
                        neighbor currently being traced (0 if none).
TRACE LINK:  2160

>TL 0                   'TL 0' turns off tracing.

TRACE LINK:  0000

>TN 14                  This command initiates tracing for valid 
                        headers on line fourteen (decimal) while 
TRACE LINE: 0014        the line is in an unattached state. Line level
                        tracing can occur simultaneously with link
                        level tracing. 
>TN 4                   If tracing has been enabled for a line, it 
                        cannot be turned on for another line until it
TRACE LINE: 0014        has been turned off using the 'TN FFFF' command. 

>TN                     The 'TN' without arguments displays the line 
                        currently being traced.
TRACE LINE: 0014

>TN FFFF                'TN FFFF' turns off line-level tracing.


                                       27
                                 XRAY COMMANDS                 December 20, 1983



TRACE LINE: FFFF






    The 'TM F'  and 'TM B' commands  display the trace  foreground and
         background tables, respectively.  The line-level trace ('TN')
         affects only the   foreground table; link-level  trace ('TL')
         updates both tables.  If trace is  active, 'TM F' and  'TM B'
         turn  it  off  while table  data  are  being  output; tracing
         resumes as soon as output is complete.  If link-level tracing
         is active, output of foreground and background tables may not
         be   synchronized.   Trace must  be  turned off  ('TL  0') to
         assure synchronized output of table data.  The foreground and
         background tables each have room for 64 entries.   The tables
         are circular buffers which wrap continuously until tracing is
         halted.
>TM F

 EVENT     LINE  HEAD  ACK   RECN     FASTC
GOOD REC    0A    10    1E    1E   0B     722B
ZERO BIT    0A    10    1E    0A   0B     722B
<... et cetera ...>


    'TM F' displays the trace foreground event table.  Entries are for
         events detected  by SYLVER  as data  are received  on network
         lines.

    EVENT:  Since this is such a long entry, it is  detailed following
         the rest of the arguments.

    LINE:   Line number (hex) on which the event occurred.

    HEAD:   First  byte of the  (potential) packet header  (aka BORI).
         This depends on the type of packet and neighbor (T-I or T-II)
         -- unless the received "data" was garbage, in which case HEAD
         could be anything.

          TYMNET II PACKET HEADER

          Data Packet Headers (each digit represents a nibble)
                1naa    received by master
                2naa    received by slave
          where n = packet length, and "aa" is number of frame which
          is ACK'ed.
          Packet length in bytes = 8*(n + 1).

          Non-Data Packet Headers (each digit represents a nibble)
                3059    Dummy packet header
                30An    Reset header for 1st line on link, n = ping pong count


                                       28
                                 XRAY COMMANDS                 December 20, 1983


                30Bn    Reset header for subsequent line on link, n = same
                3232    Downline load packet header

          TYMNET I PACKET HEADER

          Data packet Headers (each digit represents a bit)
                0d010nnnnnrrraaa for WS-4 link
                0d1nnnnnrrrraaaa for WS-8 link (T-I satellite link)
          
          where nnnnn = packet length in halfwords
                rrr = record number  field
                aaa = acknowledgement field 
    
          Non-Data Packet Headers (each digit represents a nibble)
                0AAB    Reset Header


          Please refer to the TYMNET-I document for further details.

    ACK:   Acknowledgement field  of T-II  data packet.   This  is the
         record  number  of the  last  good packet  we  know  has been
         received and processed by  the neighbor node.  (For  T-I data
         packets  and all  non-data packets,  see comments  on 'HEAD',
         above.).  For  line-level  tracing  this  field  contains the
         second byte of the received header.

    RECN:   Record  number  field  of  T-II  data  packet.  This field
         uniquely identifies the record for subsequent acknowledgement
         by the receiving node.  In  a T-I data packet, this  field is
         the first byte of the packet following the packet  header and
         can be  almost anything.  This  field is not  significant for
         non-data packets. For line-level tracing this  field contains
         zero.  For the  BAD ACK event,  this field contains  the last
         good acknowledgement number.

    FASTC:  Lower 3 bytes of FASTC at the time the event was recorded.
         This is  useful for determining  elapsed time  between events
         and for synchronizing  foreground and background  (see below)
         table events.

    EVENT details:

    Nine different  types of  events may be  logged in  the foreground
         table.  A single received record (packet) may cause more than
         one entry in the table.  Usually, the RECN field can  be used
         to identify multiple entries for the same packet.

    ZERO  BIT: A  change  from marking  or  idle state  (all  1's) was
         detected,  indicating  a  possible BORI.   The  HEAD  and ACK
         fields  contain the  first two  bytes of  a  potential record
         header.  (See  the 'BO'  field comments  in the  'KD' command
         description.)  The RECN field has no significance. This event
         will occur only on sync (never SIO) lines.  The  occurence of



                                       29
                                 XRAY COMMANDS                 December 20, 1983


         two  or  more consecutive  'ZERO  BIT' events  on  a  line is
         equivalent to a  "bad BORI" line error  for all but  the last
         such event (see CRYPTO message 41).

    RESET: A reset was received on an attached line. For a  reset from
         a T-II neighbor,  the HEAD, ACK  and RECN fields  contain the
         first three bytes of the reset header and the fourth  byte is
         in the high-order byte of FASTC field. For a reset from a T-I
         neighbor the  first two  bytes are the  reset header  and the
         second two bytes are the T-I neighbor number.

    GOOD REC: A packet was  received with a good checksum and  a valid
         record number.  The HEAD (header), ACK (acknowledgement), and
         RECN (record number) fields are all significant.

    BAD ACK:  A packet was received whose acknowledge field was out of
         sequence with (i.e., less than) the acknowledgement  field of
         a previously received good packet.  The packet may or may not
         have a  valid checksum.   Bad acks  are considered  normal on
         multiple-line  links   with  different  line   speeds.  Their
         occurence on single-line  links is evidence of  a potentially
         serious problem  and should  be brought  to the  attention of
         support  personnel.  The  data  in the  packet  is considered
         potentially  valid, depending  on the  checksum.   The record
         number field  (RECN) contains  the last  good acknowledgement
         number received (to be compared with the  bad acknowledgement
         number is the ACK field).

    BAD RECN: A packet was received whose record number field  was out
         of range (greater than  expected based on the  link's window-
         size).  The packet is  discarded.  The packet may or  may not
         have had a valid checksum.  One common cause of this event is
         a window-size mismatch.

    CKSM ERR: A  packet was received  which contained a  bad checksum.
         The packet is discarded.  Such a packet may also  be reported
         as a 'BAD ACK' or 'BAD RECN'.

    REXMISSN:  A  good  packet was  received  which  had  already been
         received.  The  packet  is  discarded.   A  node  will  start
         restransmitting only when it has filled its output  window --
         that  is,  when  it  has  transmitted  window-size  number of
         packets and has not received a packet whose ACK field matches
         the RECN  field of one  of the packets  in the  window.  When
         this happens, it will start retransmitting the  oldest packet
         in the window  and will continue to  do so until a  valid new
         ACK  is received  or  until the  link goes  down  (which will
         happen in about 16 seconds).  A high rate  of retransmissions
         is usually the result  of packets' getting clobbered  by line
         errors -- the transmitting node is simply not getting the ACK
         updates.   It can  also happen  when one  node  is processing
         packets very much more  slowly (or, in the extreme  case, not
         at  all  --  i.e.,  when  it  has  crashed)  than  the other.



                                       30
                                 XRAY COMMANDS                 December 20, 1983


         Retransmission rates  (sent and  received) above  a threshold
         are reported to the  supervisor  log and to  CRYPTO (messages
         45,46  ).  When  one  packet in  256  sent or  received  is a
         retransmission the reporting threshold is reached.

    DUMMYREC: Dummy record received.  A dummy record  is automatically
         transmitted on  a line  every 1/2 second  if no  data records
         have been  transmitted on  the line  in that  interval.  This
         will happen on  a multiple-line link  when all traffic  is on
         other lines of the link.

    RAW DATA: This event is used exclusively by the line-level tracing
         ('TN'  command) to  indicate data  received on  an unattached
         line.  The  HEAD and ACK  are simply the  first two  bytes of
         data (aligned on the first zero bit detected, usually a reset
         header) and the RECN contains zero.

>TM B

 EVENT     VA1   VA2   VA3   VA4      FASTC

PKT MADE    01    20    02    03    05    E056
PKT TORN    01    10    00    02    05    DFD8
PKT MADE    00    20    01    02    05    DF16
PKT TORN    00    10    00    01    05    DE8E
PKT MADE    FF    20    00    01    05    DDDC
PKT TORN    FF    10    00    00    05    DD62


    There are four possible BACKGROUND events.  FASTC is the low-order
         three bytes of the node fast clock at the time the  event was
         logged.  The meaning of the 'VAn' fields depends on  the type
         of event.  (Note: The  background table is updated  only when
         link-level tracing ('TL') is in effect.)

    PKT MADE: A packet was made in RMAKE and was queued for transmission
              on the link.
              VA1 = Most recent acknowledgement sent to the neighbor.
              VA2 = First byte in packet (BORI).
              VA3 = Record number of packet most recently torn.
              VA4 = Record number of packet just made.

    PKT TORN: A packet from the trace neighbor was torn down in RTEAR.
              VA1 = Most recent acknowledgement sent to the neighbor.
              VA2 = First byte in packet (BORI).
              VA3 = Acknowledgement field in packet.
              VA4 = Record number of packet just made.

    DETACH:   A line was detached from the link.
              VA1 = Line number.
              VA2 = High-order byte of LRT (last record torn on link).
              VA3 = Low-order byte of LRT.
              VA4 = Detach reason, as in CRYPTO message 04 (see Appendix A).



                                       31
                                 XRAY COMMANDS                 December 20, 1983


    ATTACH:   A line was attached to the link.
              VA1 = Line number.
              VA2 = Unused.
              VA3 = Number of lines now attached to the link.
              VA4 = Unused.



















































                                       32
                                 XRAY COMMANDS                 December 20, 1983





Async Port Status Commands (Solo CONSAT Only)
===== ==== ====== ========

    AS [U] - Display Status of All [Active] Async Ports

    AS  <port#>  [U] -  Display  Status of  Specified  Async  Port [if
         Active]

    AS <port#1> <port#2>  [U] - Display  Status of Specified  Range of
         [Active]    Async Ports

    ASZ - Initialize Async Port Statistics

    The 'AS'  commands display  the status  of async  ports on  a Solo
         CONSAT.  Port  numbers are octal.   'AS' displays  status for
         all  ports (no  argument), one  port (one  argument),  or all
         ports  in  a  specified  range  (two  arguments,  <port#1> <=
         <port#2>).   Terminating  the  command  string  with   a  'U'
         restricts  the  display  to active  ports  only  (no carriage
         return needed).

    The 'ASZ' command zeroes out certain fields in the  status display
         (indicated below).






























                                       33
                                 XRAY COMMANDS                 December 20, 1983



>AS 15

0051  PORTS IN USE OUT OF  0256      PEAK = 0058          1200  BPS MAX

PORT  RLA DTR DSR RTS CP DPLX BR  TY  SB  TM  NL  CHAN  LINK  TIME(SEC)  UP

  15P FF  FF  FF  00  FF  00  22  00  FF  FF  01  05CD  2064  00000002   96  

>

    PORTS IN USE OUT OF:  The number of currently active ports and the
         total  number of async ports specified in the Tymfile.

    PEAK:   The largest number of  ports that have been active  at one
         time  since startup or ASZ.

    BPS MAX:  The highest terminal  speed supported.  This  depends on
         the  value  of  the Tymfile  parameter BAUDR  which may  be 0
         (default, 1200  baud max) or 2 (4800 baud max).

    PORT:    Port  number (octal).   A 'P'  following the  port number
         designates  designates a PVC port.  An 'M' designates an MPVC
         port.

    RLA:    'Receiver Line  Active' means the  port is active  (FF) or
         not (00).

    DTR:    'Data Terminal Ready' signal from ENGINE is active (FF) or
         not (00).

    DSR:    'Data Set Ready' signal from modem (or terminal) is active
         (FF)  or not (00).

    RTS:    'Request to Send' signal from ENGINE is active (FF) or not
         (00).

    CP:      'Carrier  Present'  signal from  modem  (or  terminal) is
         active (FF)         or not (00).

    DPLX:   Port is full-duplex (00) or half-duplex (FF).          BR:
         'Baud  Rate' index  (left digit  is for  input, right  is for
         output).   See Appendix C for explanation.

    TY:     Terminal type code.  See Appendix C.

    SB:     Input ('Start  Baud') from the  port is enabled  ('FF') or
         disabled  ('00').

    TM:     Output  ('Transmit active  Mask') to  the port  is enabled
         ('FF') or  disabled ('00').

    NL:      Number  of T-II  links  in the  circuit  (or  TII circuit



                                       34
                                 XRAY COMMANDS                 December 20, 1983


         segment)  that most recently terminated on the port.   If the
         circuit  was  hybrid, this  count applies  only to  the first
         all-T-II  segment.

    CHAN:   Absolute channel  number of the  other end of  the circuit
         segment   within  the  node.  This  will  usually  be  a link
         channel unless the  port is currently connected to  the login
         process or to an internal  host (e.g., XRAY or an addressable
         port host on the same CONSAT).

    LINK:   Node to which the outgoing channel is  connected.  Usually
         a  neighbor node unless the circuit is not yet complete or is
         an internal circuit (e.g., to XRAY on the node).

    TIME:    The number  of seconds  the port  has been  active.  This
         value is  meaningful only if the port is active.

    UP:     The number of times  the port has been answered  since the
         last  startup or 'ASZ'.





































                                       35
                                 XRAY COMMANDS                 December 20, 1983


    PV - Display PVC Parameters for All PVC Ports

    PV <port#> - Display PVC Parameters for Specified Port

    The  'PV'  command  displays  the  PVC   configuration  parameters
         specified in the Tymfile.   If an argument is given,  it must
         be an  octal port number.   If the port  specified is  out of
         range or  is not  a PVC port,  the request  is rejected  as a
         command  error.  See  the  TYMSAT  reference  manual  for  an
         explanation of PVC parameters.

>PV 13

PORT 0011  (0013)    AID  TID10    ALO  PCO
    NPI  NOPAR    HNG  NOHDX    CRLF    LFCR  NOTRS  NORBP

HOST: <host#>  MPVC  ADRBL



    PORT: The port number in decimal and (octal).

    AID/NOAID: Automatic terminal identification enabled/disabled.

    TIDnn: Terminal ID for Automatic TID (AID) port.

    ALO/PCO/SLO:  Automatic  logon, permanent  circuit  and subsequent
         logon options present.

    NPI/NONPI: Output of node/port identifier enabled/disabled.

    PAR/NOPAR: Even parity/no parity.

    HNG/NOHNG: Hang/don't hang port  if TID is not received  within 30
         seconds after port is answered.  Applies only if NOAID.

    HDX/NOHDX: Half-duplex/full-duplex handling.

    CRLF/NOCRLF: Enable/disable echo-carriage-return-with-line-feed.

    LFCR/NOLFCR: Enable/disable echo-line-feed-with-carriage-return.

    TRS/NOTRS:  Enable/disable  reset  of  terminal  options  on  port
         disconnect.

    RBP/NORBP: Enable/disable reverse backpressure capability.

    HOST: Number of the CONSAT host which owns the port

    MPVC:  MPVC  candidate port  (the  port is  a  candidate  for MPVC
         service).

    ADRBL: Port is addressable (a circuit can be built to the port).



                                       36
                                 XRAY COMMANDS                 December 20, 1983


    HP <port#> - Hang Port, Privileged, Audited.

    'HP' causes the specified port (octal) to be hung.  This  will zap
         any  circuit to  the  port and  reinitialize  its parameters.
         Should be used only when the port cannot be hung by resetting
         the terminal or modem  connected to it.  This command  is for
         trouble-shooting purposes and is privileged.

    >HP 4

    >

    IZ - Initialize Async Ring, Privileged, Audited.

    This  command  has the  effect  of "crashing"  the  CONSAT without
         crashing  the  node  code.  All  async  ports  are  hung, all
         circuits  to them  are zapped,  and the  CONSAT  interface is
         reinitialized.   This  command  should be  used  only  if the
         condition that needs to be corrected is very widespread among
         async ports (use 'HP'  to deal with "terminal"  conditions on
         individual ports).

    >IZ

    >































                                       37
                                 XRAY COMMANDS                 December 20, 1983





Channel Status Commands
======= ====== ========


    AC  <start  channel#> <range  of  channels> -  Display  All Active
         Channel Numbers

    The  'AC'  command displays  the  channel numbers  for  all active
         channels starting at  the specified channel and  scanning for
         the specified range.  Starting channel number must be a valid
         channel  number and  scanning will  not proceed  beyond valid
         channel numbers even if range is specified to do this.


>AC 140 2A

ACTIVE CHANNELS

0140  0141  0150  0151  0152  0153  0154  0155  0156  0157  0160
0161  016A

>



    QC <channel#> - Display Status of Channel #

    QC <channel#1> <channel#2> [U] - Display Status of Specified Range
         of [Active] Channels

    The 'QC' command displays  information about a channel,  where the
         arguments  are the  absolute  channel numbers  in  hex.  This
         command can be used with a single argument to get  the status
         of a  single channel or  can be used  to query the  status of
         channels  within a  specified  range (start  channel#  to end
         channel#).  Use of  the terminating 'U' option  displays only
         the  active  channels  within  the  specified   range.   (All
         displayed values are hex.)

>QC A30

CHAN  LINK  SP  O-CHN  O-BUF   S-BUF     BB       BE     BF   COUNT SEC(HEX)
0A30  2163  00  004F    00D8    00DC  00000000 00000000 0A30  0000  00000020

H-BUF   HSEQN    XSEQN    VSEQN   REBUILD 
226C  00000000 000009F5 00000000   OFF

>





                                       38
                                 XRAY COMMANDS                 December 20, 1983


>QC A30 A90 U

CHAN  LINK  SP  O-CHN  O-BUF   S-BUF     BB       BE     BF   COUNT SEC(HEX)
0A30  2163  00  004F    00D8    00DC  00000000 00000000 0A30  0000  00000020

H-BUF   HSEQN    XSEQN    VSEQN   REBUILD 
226C  00000000 000009F5 00000000   OFF

CHAN  LINK  SP  O-CHN  O-BUF   S-BUF     BB       BE     BF   COUNT SEC(HEX)
0A31  2163  00  00F4    0088    00B8  00000000 00000000 0A31  0000  00000020

H-BUF   HSEQN    XSEQN    VSEQN   REBUILD 
22BA  00000000 000009FF 00000000   OFF

>

    CHAN:  Absolute channel number

    LINK:   The neighbor  node on  the link  to which  the  channel is
         assigned.   If the  channel  belongs to  an  internal process
         (such as an async or dispatcher port) this will be the node's
         own number.

    SP:  The  speed or throughput  class of the  circuit built  to the
         channel  (if any).   Range is  00-03 (control-A  to control-D
         gouging).    Async  port   channels  always  show   '00';  to
         determine the speed  of circuit to an  async port, do  a 'QC'
         for the opposite channel (O-CHN).

    O-CHN:  The "opposite" channel -- i.e., the channel number  of the
         other  end  of the  circuit  within the  node  ('0000'  if no
         circuit exists).  If the channel number is less than 20 it is
         an indication of the state (login or rebuild) the  circuit is
         in.

    O-BUF:  The output buffer associated with the circuit built to the
         channel -- i.e., the buffer which is filled by data  from the
         channel ('0000' if there is no circuit.)

    S-BUF:  Source buffer -- i.e., the buffer from which data  for the
         channel comes  ('0004' if there  is no circuit).   The source
         and output  buffers are always  assigned in pairs  whose last
         nibbles are 0 and 4 or 8 and 0C, respectively.

    BB:  Buffer begin  address -- the address  in memory of  the first
         byte of data in the source buffer (S-BUF) ('00000000'  if the
         buffer is empty or there is no circuit).

    BE:  Buffer end address -- the address in memory of the  last byte
         of  data  in the  source  buffer (S-BUF)  ('00000000'  if the
         buffer is empty or there is no circuit).

    Note:  If 'BB' is zero, 'BE' should be zero, and vice versa.



                                       39
                                 XRAY COMMANDS                 December 20, 1983


    BF:  Buffer  flag --  i.e., the absolute  channel number.   If the
         channel  is  active  this  will  be  the  same  as <channel#>
         argument.

    COUNT:  Approximate number of bytes in the source  buffer (S-BUF).
         The actual byte count is within 13d of this value.

    SEC(HEX): Circuit lifetime in seconds.

    The  following fields  appear only  if REBUILD  is enabled  in the
         node.

    H-BUF:  History buffer.  In a node with rebuild enabled, a history
         buffer  is assigned  to any  circuit that  terminates  in the
         node,  i.e. at  a Kernel,  Dispatcher, Supervisor,  Async, or
         internal  host port,  or on  a link  to a  T-I  neighbor. The
         history buffer is used to retain the data that is  taken from
         the channel's output buffer (O-BUF) and made into packets.

    HSEQN:  Current history buffer  data sequence number --  i.e., the
         transmitted  data  sequence  number  (XSEQN)  of  the  oldest
         (first)byte in the history buffer.

    XSEQN:   Current transmitted  data  sequence number  --  i.e., the
         sequence number of the last byte transmitted on  the channel.
         That byte is now the last byte in the history buffer.

    VSEQN:   Current  received  data  sequence  number  --  i.e.,  the
         sequence number of the last byte received on the channel.

    REBUILD: Rebuild is 'ON' or 'OFF' for the circuit to the channel.

























                                       40
                                 XRAY COMMANDS                 December 20, 1983





    TC - Display Channels Being Traced

    TC  <channel#>  1  -  Turn On  Data  Trace  for  Specified Channel
         (privileged)

    TC  <channel#>  0 -  Turn  Off Data  Trace  for  Specified Channel
         (privileged)

    The 'TC' command, without arguments, displays the  channel numbers
         for which data  trace is currently enabled.   With arguments,
         the command turns  data tracing on  or off for  the specified
         channel.  The  argument <channel#> must  be a  valid absolute
         channel number, in hex.  There  is no limit on the  number of
         channels which can be traced simultaneously, though each must
         be entered with a separate 'TC 1' command.

    Note:   Data trace  is always  active for  the  current supervisor
         command channel (20x or 21x) unless it has been disabled ('TC
         0').   Even  if it  has  been disabled,  it  is automatically
         enabled again whenever the node is taken over.

    The data  trace facility  should be used  sparingly since  it does
         impose a small amount of processing overhead.  The  amount of
         overhead  is almost  directly proportional  to the  amount of
         data flowing on the traced channels and is little affected by
         the number of channels being traced.





    TD [<count>] [I|O]  - Display Trace  Data Table in  Hex, Excluding
         Escapes

    TE [<count>] [I|O]  - Display Trace  Data Table in  Hex, Including
         Escapes

    TA [<count>] [I|O] - Display Trace Data Table in ASCII

    These commands display the trace data from all channels  for which
         tracing  has   been  enabled.    (Unless  tracing   has  been
         explicitly disabled for the current command  circuit channel,
         these commands  will always display  the most recent  data to
         and from the supervisor.)  Both arguments are  optional.  The
         <count> argument specifies the number of trace  table entries
         to be  displayed, up  to and including  the most  recent; the
         default is all entries.  'I' or 'O' specifies that only input
         or output data are to be displayed; the default is both.

    The  'TD' command  displays the  data as  hex bytes  and  does not



                                       41
                                 XRAY COMMANDS                 December 20, 1983


         display escapes ('00' bytes).  The 'TE' command also displays
         in  hex but  it  shows all  escape bytes.   The  'TA' command
         displays   the   data  as   ASCII   characters;  non-printing
         characters  are  not  editted and  as  a  result  may produce
         unexpected results on  terminals which interpret  certain bit
         sequences as control codes.

    Login data are edited by the processes that display the trace data
         table, and password data are never displayed by any  of these
         commands.   These  commands  can  be  especially   useful  in
         diagnosing problems which involve determining whether certain
         kinds of data are being properly passed along a circuit.

>TD

I/O  CHN    TIME

OUT 0020  00040938  84  69  14  89  70  60  E3  EF  84  69  14  89
                    E2  00  1C  A2  84  69  14  89  E1  00  1C  9D
                    84  69  14  89  E4  00  1C  A1  84  69  14  89
                    E3  00  1C  9C
OUT 0020  00042938  84  69  14  89  70  60  E3  EF  84  69  14  89
                    E2  00  1C  A2  84  69  14  89  E1  00  1C  9D
IN  0020  00043560  84  69  14  89  70  60  E3  F1  84  69  14  89
                    E2  00  1C  BF  84  69  14  89  E1  00  1C  BC
                    84  69  14  89  E4  00  1C  BE  84  69  14  89
                    E3  00  1C  BB
OUT 0020  00046695  84  69  0B  80 01 00


    I/O:  "IN"  means that the  entry was made  by RTEAR and  the data
         came  from a  packet which  was received  on a  network link.
         "OUT" means  that the entry  was made by  RMAKE and  the data
         came  from a  packet that  was sent  out on  a  network link.
         Channels  which  are connected  to  purely  internal circuits
         cannot be traced because the data on them do not pass through
         either RMAKE or RTEAR.

    CHN:  Channel number  to or from which  data passed, in  this case
         the current supervisor command channel.

    TIME: The time (low-order halfword of FASTC) that the  data record
         was made (OUT) or torn (IN).

    The record data follow.











                                       42
                                 XRAY COMMANDS                 December 20, 1983



Buffer and Bufferlet Commands
====== === ========= ========



    BS - Display Bufferlet Use Statistics.

    BSZ - Initialize Bufferlet Use Statistics.

    The 'BS' command displays current and historical information about
         the amount  of memory  used for buffering  data in  the node.
         This information can  be useful in estimating  optimum memory
         allocation for a node. In nodes which have the REBUILD option
         enabled,  bufferlet usage  for history  buffers will  also be
         displayed.

    The  'BSZ'  command  clears  the PEAK  USAGE  fields  in  the 'BS'
         display, as indicated below.

>BS


BUFFER STATUS (BYTES):
             TOTAL     TOTAL    HISTORY   HISTORY   CURRENTLY
   BUFFERS   IN USE    PEAK     IN USE     PEAK     AVAILABLE  ZAPS
  00005348  00001080  00003004  0000085A  00002AA0   00004268   0000

RANGE     COUNT(HEX) 
   NORMAL BUFFERS    
UNDER 1K   1D4EE082  
 1K -  2K  0055192C  
 2K -  3K  000CCF04  
 3K -  4K  00008E17  
 4K -  5K  00000000  
 5K -  6K  00000000  
 6K -  7K  00000000  
 7K -  8K  00000000

    BUFFERS:  Total  amount  of memory  allocated  for  buffer storage
         (bufferlets).  This  value  depends on  the  total  amount of
         memory  allocated to  the  node code  by the  NBRK  (SOLO) or
         S0CORE (ISIS) Tymfile parameters.  During assembly,  all code
         and  storage  area  (except  for  bufferlets)  are calculated
         first; whatever  is left  over up to  the limit  of allocated
         memory  is  then assigned  for  bufferlet  storage.  However,
         total  bufferlet  storage  cannot  exceed  4  segments' worth
         (256Kb decimal).

    TOTAL  IN  USE:  Amount  of memory  currently  in  use  for buffer
         storage.  Because of the way bufferlets are used,  this value
         is  always  greater  than  the  number  of  data  bytes being
         buffered.



                                       43
                                 XRAY COMMANDS                 December 20, 1983


    TOTAL  PEAK:  Maximum amount  of  memory ever  in  use  for buffer
         storage since last startup or BSZ.

    HISTORY  IN USE  : Amount of memory  currently in use  for history
         buffer storage.

    HISTORY  PEAK   : Maximum amount of memory ever in use for history
         buffer storage since last startup or BSZ.

    AVAILABLE :  Total amount of  buffer storage  currently available.
         AVAILABLE = TOTAL - IN USE.

    ZAPS    : Number of buffer zaps since last startup or BSZ.

    RANGE/COUNT :  Histogram of buffer  storage usage by  buffer size.
         The node  code periodically (every  2 seconds)     checks the
         amount  of  memory  being  used  for  bufferlet   storage and
         increments  the   appropriate  histogram   "bucket".    These
         figures are cleared by the 'BSZ' command.  There are  8 equal
         size "buckets"  in the histogram  and depending on  the TOTAL
         amount of memory  allocated, one of  the 5 different  sets of
         range values is used to display this histogram.


































                                       44
                                 XRAY COMMANDS                 December 20, 1983


    RB <buffer index> - Read Contents of Specified Buffer (privileged)

    The 'RB'  command displays  the entire  contents of  the specified
         buffer.  The argument <buffer#> must be a valid buffer index.
         If the buffer is empty or unused, no data is  displayed.  All
         displayed data are hex.

    This command  is intended  primarily for  reading the  contents of
         special  node code  buffers rather  than buffers  assigned to
         normal  user circuits.   The ability  to read  any  buffer is
         privileged.

>RB 98

45  43  4F  52  44  53  20  54  48  45  20  54  49  4D  45  20
28  49  4E  0D  0A  3A  20  54  49  4B  34  4D  4E  20  55  4E




    WB <buffer index> <data byte 1 ....data byte 7> (super-privileged)

    The 'WB' command writes up to seven data bytes into  the specified
         buffer. The argument <buffer #> must be a valid  buffer index
         and cannot be buffer 0  or buffer 4.  These are  special node
         code buffers and do not contain normal data.


>WB 2A 51 52 F9 A8 00 01 3C

>

























                                       45
                                 XRAY COMMANDS                 December 20, 1983




Crash Options and History Commands
===== ======= === ======= ========



    RR - Read Crash Registers

    The 'RR' command  displays the contents  of the user  register set
         (set F)  as preserved  at the  time of  the last  node crash.
         If the node has not crashed since its last load,  zeroes will
         be displayed.  (The 'DCD' command is probably more useful.)
>RR

0001038E 00000009 863E25EF 00000504 000042B0 00000001 00000000 00000020
000104CA 00010DA0 0001058C 00000007 000005E0 02139490 00000088 000003FF






    DC - Display Crash Tables (Summary and Detail)  (Version 5.00)

    DCS - Display Crash Summary Table

    DCD - Display Crash Detail Table

    The 'DC'  commands display all  or part of  the crash  table area.
         The Crash  Summary Table  contains entries  for the  last 16d
         node crashes of all  types.  The Crash Detail  Table contains
         expanded crash  information, but only  for crash  types other
         than power-fail and  manual-restart, and only for  the oldest
         and most  recent of  such crashes.   Certain portions  of the
         Crash  Detail Table  are displayed  only in  SOLO  nodes (see
         below).



















                                       46
                                 XRAY COMMANDS                 December 20, 1983



>DC     
CRASH SUMMARY TABLE
TIME           CC   TYPE  PSW   ADDRESS
001:01:18:05  0003  0051  6FF8  00010902
001:01:17:03  0002  6263  6FF8  00010834
097:18:27:20  0001  7663  67F8  00010906

CRASH DETAIL TABLE
TIME           CC   TYPE  PSW   ADDRESS
097:18:27:20  0001  7663  67F8  00010906

REGISTER SET 0:
00000000 000128BC 00000022 0000FFFF 00000000 00000000 00000000 0FF1EF90
0FF2EF90 0FF3EF90 0FF4EF90 00000000 01802690 00000B9A 000067F8 00010902

USER REGISTER SET:
000108D6 00000000 00000001 00001A44 00000003 00000001 00000000 00000000
00010444 00013D0E 00000079 00000000 00001403 00002A3A 00000030 00002524

MAC REGISTERS (300-35F):
08303F90 08F0C330 02215390 00000000 00000000 00000000 0FF1EF90 0FF2EF90
0FF3EF90 0FF4EF90 00000000 01802690 01E17690 05919530 00F00610 00000000
00000000 00000BC6 00003F22 00000BC6 00000000 00000000 00000000 00000000

TIME           CC   TYPE  PSW   ADDRESS
001:01:18:05  0003  0051  6FF8  00010902

REGISTER SET 0:
00000000 000128BC 00000022 0000FFFF 00000000 00000000 00000000 0FF1EF90
0FF2EF90 0FF3EF90 0FF4EF90 00000000 01802690 00000B9A 000067F8 00010902

USER REGISTER SET:
000108D6 00000000 00000001 00001A44 00000003 00000001 00000000 00000000
00010444 00013D0E 00000079 00000000 00001403 00002A3A 00000030 00002524

MAC REGISTERS (300-35F):
08303F90 08F0C330 02215390 00000000 00000000 00000000 0FF1EF90 0FF2EF90
0FF3EF90 0FF4EF90 00000000 01802690 01E17690 05919530 00F00610 00000000
00000000 00000BC6 00003F22 00000BC6 00000000 00000000 00000000 00000000
















                                       47
                                 XRAY COMMANDS                 December 20, 1983


    CRASH SUMMARY TABLE : The 'DCS' command displays only this portion
         of the  crash table area.  There will be an entry for each of
         the last  16d  node  crashes of  all types.    (Note: certain
         types of crashes --   e.g., power-fail and manual  restart --
         are not recorded for ISIS  node code.)

    TIME : GMT  time of crash.   If the node  had not been  taken over
         prior to the  crash, this field will be meaningless.

    CC : Crash count at the time of the crash.

    TYPE : Crash type (see Appendix D for explanation).

    PSW  :  PSW  at  time  of crash.    This  can  be  very  useful in
         determining  what was  going on at the  time of the  crash --
         e.g., was the  MAC on,  which  register set was  active, were
         interrupts enabled, etc.

    ADDRESS : Crash  location.  If the '400'  bit of the crash  PSW is
         set, this  address is subject to relocation by the MAC.





    CRASH DETAIL TABLE : The 'DCD' command displays only  this portion
         of  the crash table area.  There may be up to two  entries --
         one  for the  first crash and one  for the most  recent since
         the node was last loaded.  Crashes  caused by  power failures
         and  manual  restarts  are  not  logged in  the  Crash Detail
         Table.

    TIME, CC, TYPE, PSW, ADDRESS : Same as above.

    REGISTER SET 0 : Contents of register set 0 at time of crash (SOLO
         only).

    USER REGISTER  SET : Contents  of the register  set in use  at the
         time of the  crash.  This can be determined by  examining the
         register-set-select  field of the crash PSW (xxRx).

    MAC REGISTERS  (300-35F) :  Contents of the  MAC registers  at the
         time  of  the   crash.   The  first  16d  fullwords  are  the
         segmentation   registers   for    segments   0   through   F,
         respectively.  These  are followed  by the   interrupt status
         register,  the  last  legal  fetch  address  (absolute),  the
         address of the last  memory parity error, and the  last legal
         fetch  address (relocated).  (SOLO only).  (See Appendix  D ,
         Crash  code 005x for further details of MAC registers).







                                       48
                                 XRAY COMMANDS                 December 20, 1983


    CO <hhss> - Set Crash Options (privileged)

    'CO'  without  an  argument  displays  the  current crash-handling
         options for  "hardware" and "software"  crashes respectively.
         The four options are RESTART, STOP, BOOT and HALT.

    With a four-digit  argument, 'CO' sets the  crash-handling options
         for hardware  and software  crashes respectively.   The first
         two digits (<hh>) specify handling for hardware  crashes, the
         second two  (<ss>) for software  crashes (see  below).  (This
         command is privileged.)

    The distinction between  "hardware" and "software"  crashes refers
         to the way in which error conditions are detected; the actual
         cause  of a  crash  may or  may  not be  congruent  with this
         distinction.   "Hardware" crashes  include all  the following
         interrupts: power-fail  or power-up, manual  restart, illegal
         instruction,  MAC  violations,  parity  error,   and  illegal
         device.   Some types  of hardware  crashes may  be  caused by
         software   bugs.   Software   crashes  result   when  serious
         consistency errors  are detected  by the  node code  -- e.g.,
         when an  attempt is  made to  get a  character from  an empty
         buffer.  Some software crashes may be the result  of hardware
         failures.  See  Appendix D  for a  complete summary  of crash
         types.

    The initial crash-handling options for a node are set by  means of
         the Tymfile  OPTION macro (see  below).  The default,  if the
         OPTION macro  is not  used to  specify crash-handling,  is to
         RESTART after either kind of crash.

    The following table summarizes the four possible options:

                  'CO' Argument    OPTION
       Option     <hh> or <ss>    Parameter   Crash Action
       ------     -------------   ---------   ----------------------------------
       RESTART         00         NRSH/NRSS   Restart (default).
       STOP            01         NSTH/NSTS   Node code stops, local
                                              (TTY) XRAY continues to run.
       BOOT            02         NBTH/NBTS   Node goes to boot (if possible).
       HALT            03         NHTH/NHTS   Node halts (wait-bar on).

          where:
                NRSH    Node ReStart on Hardware
                NRSS    Node ReStart on Software
                NSTH    Node STop on Hardware
                NSTS    Node STop on Software
                NHTS    Node HalT on Software
                NHTH    Node HalT on Hardware
                NBTH    Node BooT on Hardware
                NBTS    Node BooT on Software

    For  example,  the  macro OPTION(NSTS,NBTH)  in  the  Tymfile will



                                       49
                                 XRAY COMMANDS                 December 20, 1983


         cause  the node  to  stop on  software crashes,  and  boot on
         hardware crashes.

    Crash option  BOOT (02)  has different  consequences for  SOLO and
         ISIS nodes.   A SOLO  machine goes to  boot by  attempting to
         jump to absolute location 5A, which normally contains  a jump
         address  to  the boot  program  that resides  at  the  top of
         physical memory. If  the attempted jump is  unsuccessful, the
         SOLO code will  disable the update  of the watchdog  timer on
         the Multi-function card, which will cause the boot program to
         be brought in from ROM, PROVIDED that the watchdog  timer was
         armed. In most cases, the  jump to location 5A will  work, so
         the machine  will go into  boot regardless of  watchdog timer
         switch setting.

    The ISIS node code does  not have access to absolute  location 5A,
         so it cannot branch directly to the boot program. Instead, it
         immediately disables the  watchdog timer update, and  will go
         into boot ONLY if the watchdog timer was armed.

    Regardless  of the  value  of CRSTOP  generated into  the  code at
         assembly, it  can be  changed using  the command  'CO <hhss>'
         where 'hh' (hardware) and 'ss' (software) are one of the byte
         values described above.  (If either is greater than 03, it is
         treated as 03.)  For example:


>CO

RESTART  STOP

means the node code will restart following a hardware crash and will stop
following a software crash.

>CO 0202
BOOT  BOOT

>CO 0301
HALT  STOP

>CO
HALT  STOP

>












                                       50
                                 XRAY COMMANDS                 December 20, 1983





CRYPTO Message Commands
=======================


     The node code  maintains a history of  events in its  CRYPTO log.
         This is a circular buffer (when it fills, it wraps  around to
         the beginning again) with room for 256d entries.   Each entry
         is  stamped with  the node  time plus  the lower  halfword of
         FASTC.  The contents of the CRYPTO messages vary depending on
         the type of message.  Appendix A contains descriptions of all
         CRYPTO messages.

     CD - Display Current Automatic Display Mode for CRYPTO Messages.

     CD [Y|N] - Turn [On|Off] Automatic Display of CRYPTO Messages.

     'CD  Y'  causes  Crypto  messages to  be  displayed  as  they are
         generated  by  the node  code.   'CD N'  turns  off automatic
         display.   'CD'  displays  the  current  Crypto  display mode
         ('AUTO  CRYPTO ON'  or 'AUTO  CRYPTO OFF').   The  default at
         login is 'AUTO CRYPTO OFF'.

     CRYPTO  messages are  stored in  the buffer  regardless  of auto-
         display mode and any of  the last 256 can be  retrieved using
         the 'CL' and 'CM' commands.

>CD

 AUTO CRYPTO OFF

>CD Y

 AUTO CRYPTO ON

>CD

 AUTO CRYPTO ON







    CL [<n>] - Display the Last <n> CRYPTO Messages.

    CL <n> H|M - Display All CRYPTO Messages for the Last <n> Hours or
         Minutes

    'CL <n>' displays  the last (most  recent) <n> CRYPTO  messages in



                                       51
                                 XRAY COMMANDS                 December 20, 1983


         time sequence, where  <n> is a hex  number between 0  and FF,
         modulo 100x. The default for  <n> is 10x (16d). If  there are
         fewer than  <n> messages in  the CRYPTO buffer,  all messages
         are displayed.  'CL FF' displays all messages in the buffer.

    'CL <n> H' and 'CL <n> M' display all CRYPTO messages for the last
         <n> hours and minutes respectively.

>CL 3

019:01:37:38 8706  1E: 4 SEC'S WITH NO REC'S RECVD - LN= 05  NGHBR= 2160
019:01:37:43 912F  04: LINE DETACHED - REASON= 01  LN= 05  NGHBR= 2160
019:01:37:43 9137  02: LINK DOWN - KN= 07  NGHBR= 2160







    CM <n1 n2 ... n8> - Display CRYPTO Messages by Message Type.

    The 'CM'  command displays, in  time sequence (oldest  first), all
         messages in the CRYPTO  buffer of the specified types  (up to
         8).  See Appendix A for a list and description of  all CRYPTO
         messages.

>CM 1 2 4

018:23:27:14 E3D6  01: LINK UP   - KN= 07  NGHBR= 2160  
018:23:28:34 A127  04: LINE DETACHED - REASON= 01  LN= 05  NGHBR= 2160  
018:23:28:34 A134  02: LINK DOWN - KN= 07  NGHBR= 2160  
018:23:31:08 0934  01: LINK UP   - KN= 07  NGHBR= 2160  
018:23:32:29 C72F  04: LINE DETACHED - REASON= 01  LN= 05  NGHBR= 2160  
018:23:32:29 C739  02: LINK DOWN - KN= 07  NGHBR= 2160  
018:23:38:36 2421  01: LINK UP   - KN= 07  NGHBR= 2160  
018:23:39:57 E12B  04: LINE DETACHED - REASON= 01  LN= 05  NGHBR= 2160  
018:23:39:57 E133  02: LINK DOWN - KN= 07  NGHBR= 2160  
018:23:49:31 22D5  01: LINK UP   - KN= 07  NGHBR= 2160  
018:23:50:50 DB30  04: LINE DETACHED - REASON= 01  LN= 05  NGHBR= 2160  
018:23:50:50 DB39  02: LINK DOWN - KN= 07  NGHBR= 2160  
018:23:53:19 38E5  01: LINK UP   - KN= 07  NGHBR= 2160  
019:01:37:43 912F  04: LINE DETACHED - REASON= 01  LN= 05  NGHBR= 2160  
019:01:37:43 9137  02: LINK DOWN - KN= 07  NGHBR= 2160  








    SM <n1>  <n2> ...  <n7> [1|0]  - Enable  or Disable  the Specified
         CRYPTO Messages.   (privileged)


                                       52
                                 XRAY COMMANDS                 December 20, 1983


    The 'SM' command allows a privileged user to enable (last argument
         = 1) or disable (last argument = 0) the logging  of specified
         CRYPTO messages.  Up to  7 message types may be  specified at
         once,  and  the command  may  be repeated  as  many  times as
         necessary.  This  command should be  used with  care.  Unlike
         the 'CD' command which affects only the automatic  display of
         CRYPTO  messages,  the  'SM  ...  0'  command   prevents  the
         specified  messages from  being entered  in the  log  at all.
         This  command is  intended to  be used  to  suppress messages
         which are  "flooding" the  CRYPTO log  due to  some temporary
         pathological  condition.  It  should never  be used  to "turn
         off" messages permanently.

    Class  0  CRYPTO messages  are  always displayed  and  may  not be
         disabled using the  'SM' command.  Other classes  of messages
         are normally  disabled since the  events that  these messages
         indicate are part  of the normal  course of node  code action
         and  would  quickly  flood  the  CRYPTO  log.   These special
         classes are:

    Class 1 CRYPTO messages:   0B and 0C - Circuit  Building messages.
         These two messages may  be enabled using the 'SM'  command or
         by setting symbol  address CRYDIS equal  to 1 using  the 'WS'
         command.   These  messages  may be  disabled  using  the 'SM'
         command only if CRYDIS is also zero.  Individual messages may
         be enabled  or disabled using  the 'SM' command.   Setting or
         resetting CRYSIS enables or disables the whole class.

    Class  2 CRYPTO  messages: 3C  and 3D  - Async  Activity messages.
         Similarly, these  messages can be  enabled or  disabled using
         the 'SM' command or ASYDIS.  (Solo CONSAT only)

    Class 3 CRYPTO messages:  11, 12, 65, 66, 67, 6A, 6B, 6E, and 6F -
         Rebuild Activity messages.  These messages can be  enabled or
         disabled using the 'SM' command or REBDIS.

>SM 67 6A 6B 1     (enable the logging of messages 67 6A 6B)

>SM 67 6A 6B 0     (disable the logging of messages 67 6A 6B)

















                                       53
                                 XRAY COMMANDS                 December 20, 1983





Delay Measurement Commands
===== =========== ========

    DB [<n>] - Build Delay Measurement Circuit

    DD [<n>] - Display Delay Measurement Statistics

    DE [<n>] - Zap Delay Measurement Circuit

    The  Delay  Measurement  commands allow  the  XRAY  user  to build
         special  test circuits  from  a node  and  monitor round-trip
         delay on them.  The delay figures obtained on  these circuits
         are  the sum  of  the link  and processing  delays  along the
         circuit path.  Therefore, the network link delay  will always
         be less than that indicated by the measurements.

    The non-privileged  versions of these  commands do not  accept any
         arguments and allow only  one such circuit to be  built.  The
         privileged versions allow the user to build a number  of such
         circuits  (physical  limit is  seven)  and to  refer  to them
         individually via the  index he passes  as an argument  in the
         command line.  This argument can have any value between 0 and
         7.   The following  sections describe  the  Delay Measurement
         commands in detail.







    DB - build delay measurement circuit

    The DB command builds a test circuit for measuring  the round-trip
         delay between two T-II nodes  on an all T-II path.   When the
         circuit has been built, test data are periodically sent along
         it.  The test data  consist of a halfword of  FASTC, followed
         by a user-settable number  of fill bytes (to  simulate larger
         packet sizes), followed by another halfword of FASTC.  When a
         test record returns to the node, the travel time (round-trip)
         is computed from the FASTC values, and the results are stored
         away for later display using the 'DD' command.

    The DB  command prompts the  unprivileged user for  a list  of the
         nodes through which the  test circuit will be built.   A non-
         privileged user's test circuit is assigned a default  RATE of
         3 (one packet per second) and minimum packet size  (BYTE FILL
         = 0).

    For the  privileged user,  the DB command  accepts an  index value



                                       54
                                 XRAY COMMANDS                 December 20, 1983


         between  0 and  7, assuming  a default  of index  zero  if no
         argument is provided.  For all indices other than  zero, XRAY
         follows the command with a series of prompts for four circuit
         parameters from the user.  The parameters are  PRIORITY, BYTE
         FILL, RATE, and NODE LIST.

    If  the user  attempts to  build  a circuit  by an  index  that is
         already in use (by any  XRAY user on the node) XRAY  issues a
         busy message  in response  to the 'DB'  or 'DL'  command.  An
         existing test circuit must be terminated before  another test
         circuit  can be  built.  Only  the user  who issued  the 'DB'
         command to create a  test circuit may issue the  'DE' command
         to terminate it.  When a user is logged out of XRAY any delay
         measurement  or loopback  circuits created  by that  user are
         terminated.

    One final note:  After the user has  entered responses to  all the
         'DB'  parameter  prompts, XRAY  requests  that  the specified
         circuit be built.   If for any  reason the circuit  cannot be
         completed, no error message is issued to the user.   The only
         way  to  tell  whether  it worked  is  to  display  the delay
         measurement data  ('DD' command, below)  and verify  with the
         STATUS field that the circuit is active.  No notice  is given
         if an existing test circuit is zapped for any reason.




Non-Privileged user sample command:

>DB

NODE LIST: <node#1 node#2...node#8>

>




Privileged user sample command:

>DB <index>, index = 0 to 7

PRIORITY: <0 or 1>
THROUGHPUT CLASS (0-3): <0-3>
BYTE FILL: <n>
RATE (0-7): <0-7>
T-II NODE LIST: <node#1 node#2 ... node#8>[R]

>


    PRIORITY:  '0' specifies a normal (user) circuit; '1'  specifies a



                                       55
                                 XRAY COMMANDS                 December 20, 1983


         priority (command) circuit.  Defaults to '0' or last argument
         entered for the given index.

    THROUGHPUT CLASS (0-3):  A circuit characteristic which determines
         roughly how many characters per half second can  travel along
         the circuit:

        0        20x        (32)
        1        50x        (80)
        2       100x       (256)
        3       400x      (1024)


    BYTE  FILL:   Specifies  additional  padding  in delay-measurement
         records.  The  minimum (<n>=0) record  size is 4  bytes, e.g.
         two halfwords of FASTC.  This parameter allows you to specify
         the number of  bytes of fill (4141x)  to be added as  data to
         the delay record.  The fill character is 4141(hex).  Defaults
         to the last BYTE FILL argument entered for the given index (0
         if no prior argument).

    While up to FFFF  bytes of fill may  be requested, a zero  FILL is
         most   useful  for   delay   measurement.   Delay-measurement
         circuits are subject to backpressure and requesting more fill
         characters than  the limit allowed  by throughput  class will
         not yield meaningful delay measurements.  However, requesting
         a  large number  of  fill bytes  is useful  for  generating a
         volume of data on a circuit.  Another circuit with  zero FILL
         could then be used for delay measurement.

    RATE (0-7): Determines the frequency at which test packets  are to
         be transmitted.  A table of rates is shown here:

        0       packet every 8196 milliseconds
        1       packet every 4096 milliseconds
        2       packet every 2048 milliseconds
        3       packet every 1024 milliseconds
        4       packet every  512 milliseconds
        5       packet every  256 milliseconds
        6       packet every  128 milliseconds
        7       packet every   64 milliseconds


    RATE is a global value which affects all circuits, that is to say,
         setting it for a newly created circuit changes the  value for
         all  other  currently  active  circuits  in  the  node.  RATE
         defaults to  the last RATE  value entered, or  0 if  no prior
         argument.   Every  delay  measurement  circuit   or  loopback
         circuit is given a  throughput class value of 3,  the highest
         throughput class.

    T-II NODE LIST:  A list of up  to eight T-II node  numbers through
         which the test circuit will be built.  The first node  in the



                                       56
                                 XRAY COMMANDS                 December 20, 1983


         list must be a  neighbor of the originating node,  the second
         must be a neighbor of the first, and so on.  Needless to say,
         if any of the links in the specified chain are broken (a node
         or link is  down) the circuit will  not be completed.   It is
         possible  to build  a circuit  back and  forth to  a neighbor
         node.  If the node list  is terminated by the letter  R, XRAY
         will try to build a back and forth circuit between  the final
         node  in the  user's  list and  the home  node,  ignoring all
         arguments before  the final one.   NODE LIST defaults  to the
         last list of nodes entered (invalid if no prior entry for the
         given index).













































                                       57
                                 XRAY COMMANDS                 December 20, 1983







    DD - Display delay measurement statistics.

    The 'DD' command displays  delay measurement data gathered  from a
         test circuit created with the 'DB' command.  It also displays
         information  about  the  status  of  the  test  circuit.  For
         example:

>DD             (non-privileged user)

or

>DD <index>     (privileged user)

    **** TIME, AVE1, AVE2 AND DATA FIELDS ARE DECIMAL MS ****

    TIME  CPS   STAT  FLAG  HWF   PTR   AVE1  AVE2
    0256  0008  0001  80B0  0000  0011  0010  0010

    NODES : 2003  2163  

    DATA  :
    0009  0009  0010  0010  0009  0010  0009  0010  
    0011  0012  0010  0010  0009  0010  0011  0010  
    0010  0009  0009  0010  0011  0010  0012  0011  
    0009  0012  0009  0010  0010  0011  0010  0010  

>


    TIME : The interval in ms between test packet transmissions.

    CPS   :  The  CPS   rate  of  the  test  circuit   (packets/sec  *
         bytes/packet).

    STAT : Current  status of the  test circuit. 0001  implies circuit
         up, FFFF  implies circuit zapped  due to circuit  lost (i.e.,
         link down),  FFFE implies circuit  zapped by XRAY  user ('DE'
         command or logout).

    FLAG:  Flag field  in needle that  built the test  circuit.   80B0
         implies ordinary circuit, 81B0 implies priority circuit.

    HWF : Number  of fill halfwords in  the test packets.   This value
         should be one-half of the value entered in BYTE FILL.

    PTR:  Pointer into the delay times storage area.  Each time a test
         packet  is  received  and  its  delay  time  calculated, this
         pointer increments by 2.  It wraps to 0 at 40 hex.



                                       58
                                 XRAY COMMANDS                 December 20, 1983


    AVE1  and  AVE2:  These  statistics  are  computed  by  a weighted
         recursion on  the samples.  AVE1  is designed to  change more
         slowly with changes in the measured delays than is  AVE2, but
         in each  case the calculated  difference depends only  on the
         latest measured delay and the previous value of  AVE1.  These
         statistics are not averages; they should display  values that
         are more  stable over  time than would  an average.   Do not,
         therefore, expect the  data in the  tables to average  out to
         these values.

    NODES: Nodes in the test circuit path.

    DATA :  The round  trip delay  times in  ms for  the last  16 test
         packets.   The entries  occur in  pairs corresponding  to the
         initial and final halfwords of FASTC.  The value in PTR shows
         the halfword offset of the latest value measured.








































                                       59
                                 XRAY COMMANDS                 December 20, 1983


    DE - Terminate delay measurement or loopback.

    The 'DE' command ends  the delay measurement operation  by zapping
         the test circuit.   The value FFFE  is displayed in  the 'DD'
         response STAT field to indicate the circuit was zapped by the
         XRAY  user, either  explicitly  through the  'DE'  command or
         because  the user  logged off.   If a  test circuit  has been
         zapped  for some  other reason,  such as  a link  out  in the
         circuit path, the STAT field displays FFFF.  For example:

>DE             (non-privileged user)

>DE <index>     (privileged user)


>DD [<index>]

    TIME  CPS   STAT  FLAG  HWF   AVE1  AVE2  PTR
    0256  0008  FFFE  80B0  0000  0010  0010  0002  

    NODES : 2003  2163  

    DATA  :
    0009  0009  0010  0010  0009  0010  0009  0010  
    0011  0012  0010  0010  0009  0010  0011  0010  
    0010  0009  0009  0010  0011  0010  0012  0011  
    0009  0012  0009  0010  0010  0011  0010  0010  

>







    >DL - Build data loopback circuit (super-privileged)

    The DL command sets up  a loopback circuit between a node  and one
         or more T-II nodes to which an all T-II path can be  built. A
         packet in the format of the standard delay measurement packet
         is continously  looped through  the circuit,  generating very
         high  CPS  rates which  can  be  observed on  the  NS  and KS
         displays. All options and  restrictions that apply to  the DB
         command are applicable to the DL command except that  no RATE
         parameter is requested. No delay measurement is performed for
         DL  circuits so  the  DD command  only shows  the  DL circuit
         status. NS and KS  commands are used to determine  the impact
         of the DL circuit on  the node.   Only one DL circuit  can be
         in existence on the node at any given time.

>DL <index>

PRIORITY:


                                       60
                                 XRAY COMMANDS                 December 20, 1983


BYTE FILL:
T-II NODE LIST:

>
or 
>DL     (no index specified--assume 0)

T-II NODE LIST:

>














































                                       61
                                 XRAY COMMANDS                 December 20, 1983


    PM <channel#> - Measure Performance on a Channel (Privileged)

    This command causes a sequence of special timing characters  to be
         inserted into the data  flow on a circuit from  the specified
         channel.   These  timing  elements  are  transparent  to  the
         circuit terminations and  have no discernible effect  on user
         throughput or response time.  The argument  <channel#> should
         be  the hex  channel number  of a  circuit  termination.  For
         example:

>PM 20

ROUND TRIP DELAY (MS)   TIMER : 0139    XLAX : 0137


    The output of the 'PM' command is two time values in milliseconds.
         The 'TIMER' value is  the average round-trip delay  of timing
         elements which follow user  data on the circuit.   The 'XLAX'
         value is the same but for timing elements which bypass (i.e.,
         jump ahead  of) all user  data.  The difference  between them
         represents the amount of delay attributable to  processing of
         user data on the circuit.

    If  the  channel  number  specified in  the  'PM'  command  is not
         connected  to circuit,  XRAY responds  immediately  with "BAD
         CHANNEL OR TIMEOUT".   If the entire  performance measurement
         cycle (16 pairs of TIMERs and XLAXs) is not  completed within
         8 seconds, XRAY issues the same message.




























                                       62
                                 XRAY COMMANDS                 December 20, 1983





Utility Commands
======= ========


    GP <security string> - Get Power

    The 'GP' command allows the  XRAY user to acquire privilege  up to
         the user's privilege license as specified in the XRAY Goodguy
         list.

    XG - Display XRAY Goodguy List, Unprivileged, Audited.

    XG  <entry  no.>  P   -  Purge  Entry  from  XRAY   Goodguy  List,
         Superprivileged, Audited

    XG  <entry  no.>   M  -  Modify   Entry  in  XRAY   Goodguy  List,
         Superprivileged, Audited

    XGI  -  Insert  Entry  into  XRAY  Goodguy  List, Superprivileged,
         Audited

    The  'XG'  command  and  it's  variants  allow  the   display  and
         modification of the XRAY Goodguy list.  The Purge  and Modify
         variants require an  existing XRAY Goodguy list  entry number
         which is shown on the XG display.  The Modify variant prompts
         for a new privilege and override license for the entry number
         specified (if  an entry exists)  and expects privilege  to be
         between 0 and 2 and  override to be 00-99.  Any  other values
         will  be  limited  to  these  ranges.   Privilege  0  is non-
         privileged, privilege 1  is normal privilege and  privilege 2
         is  super-privilege  license.  Lower  override  users  can be
         forced out of their XRAY slot by higher override users.   The
         Insert variant prompts for a 12 character username (less than
         12  chars  can  be entered  and  terminated  with  a carriage
         return)  and for  new  privilege and  override  license.  For
         example;

>XG

XRAY GOODGUY LIST

NO.   PRIV  OVER  NAME
----  ----  ----  ----
0001  0002  00FF  TIIDEV
0002  0001  0030  JOESCHMO
0004  0000  0000  XRAY


>XG 2P (no carriage return)

>


                                       63
                                 XRAY COMMANDS                 December 20, 1983



>XG

XRAY GOODGUY LIST

NO.   PRIV  OVER  NAME
----  ----  ----  ----
0001  0002  00FF  TIIDEV
0004  0000  0000  XRAY

>XGI (no carriage return)

ENTER UP TO 12(D) CHARS OF USERNAME
CHIEF HONCHO

ENTER NEW PRIVILEGE AND OVERRIDE - 2,60

>

>XG

XRAY GOODGUY LIST

NO.   PRIV  OVER  NAME
----  ----  ----  ----
0001  0002  00FF  TIIDEV
0002  0002  0060  CHIEF HONCHO
0004  0000  0000  XRAY

>

>XG 4M (no carriage return)

ENTER NEW PRIVILEGE AND OVERRIDE - 1,33

>

>XG


XRAY GOODGUY LIST

NO.   PRIV  OVER  NAME
----  ----  ----  ----
0001  0002  00FF  TIIDEV
0002  0002  0060  CHIEF HONCHO
0004  0001  0033  XRAY









                                       64
                                 XRAY COMMANDS                 December 20, 1983


    HE - Help.  Displays the mnemonics for all XRAY commands available
         on the node.

    HO <value> -  Hex to Octal conversion.  <value> must be  less than
         1000(x).

    OH <value> -  Octal to Hex conversion.  <value> must be  less than
         10000(o).

    HD <value> - Hex to Decimal conversion. <value> must be  less than
         A0006(x).

    DH <value> - Decimal to Hex conversion. <value> must be  less than
         10000(d).

    DO <value>  - Decimal  to Octal conversion.  <value> must  be less
         than 4096(d).

    OD <value>  - Octal  to Decimal conversion.  <value> must  be less
         than 10000(o).





    LE - Set Local Echo Mode (Remote XRAY Only)

    RE - Set Remote Echo Mode (Remote XRAY Only)

    These two  commands disable  ('LE') and  enable ('RE')  echoing of
         user input  by remote XRAY.   Remote echo mode  is set  on at
         login (that is, XRAY  does the echoing of input).   There are
         some cases  (e.g., when  logged in  via an  auxiliary circuit
         from NAD)  when remote echoing  produces a  bothersome double
         echo.   The 'LE'  command inhibits  the echoing  function for
         these kinds of situations.  These commands have no  effect on
         input from the TTY port or DDT (local XRAY).





    WM - Create XRAY Warning Message

    WM0 - Erase XRAY Warning Message

    WM1 - Display XRAY Warning Message

    The 'WM' command (terminated by a <cr>) prompts the user  to enter
         a message text string of up to 64d characters.  The string is
         terminated by a <cr>.  The  message is stored in in  the XRAY
         warning message buffer, along with the time (GMT) the message
         was  entered.  The  message  and  time  stamp  are  displayed



                                       65
                                 XRAY COMMANDS                 December 20, 1983


         whenever anybody  subsequently logs into  remote XRAY  on the
         node.  The warning  message may be  used to alert  other XRAY
         users to special conditions or requirements that may apply to
         a node.

    The 'WM0' command  clears the warning message  buffer.  (Actually,
         the contents of the buffer remain unchanged by  this command,
         but they are no longer displayed at login.)

    The 'WM1'  command displays  the contents  of the  warning message
         buffer.

>WM
ENTER MESSAGE (<64 BYTES):
THIS NODE CONTAINS PATCHED CODE. PLEASE CONTACT GOOBER X9999.
MESSAGE ENTERED AT: 123:11:04:45
>

>WM1
THIS NODE CONTAINS PATCHED CODE. PLEASE CONTACT GOOBER X9999.
MESSAGE ENTERED AT: 123:11:04:45
>

>WM0
MESSAGE BUFFER CLEARED

>


    Only one user may enter a warning message at a time.  If  there is
         a conflict,  the second  user to issue  the command  gets the
         message 'BUSY'.

    A message may be entered in the buffer only if the buffer has been
         cleared.   If  the  'WM' command  is  issued  when  an active
         message is in  the buffer, XRAY  responds with '???'  and the
         contents are displayed.

    If a message  string of more than  64d characters is  entered, the
         warning  'MESSAGE  TOO LONG  -  TYPE <CR>'  is  displayed and
         further input  is ignored until  a carriage return  is typed.
         The message buffer is cleared.














                                       66
                                 XRAY COMMANDS                 December 20, 1983




Memory, Register and Symbol Table Commands
======= ======== === ====== ===== ========


    R <address> [<count>] - Read memory.

    The Read command  displays <count> (default  = 10h) bytes  of data
         beginning  at <address>,  which  must be  even.  This command
         expects a virtual address.

    If the address specified is not even, the message 'ADDRESS  NOT ON
         HW OR FW BOUNDARY '  is displayed.  If the address is  not in
         the  code  address  space,  the  message  'BAD   ADDRESS'  is
         displayed.

>R 10006,20
10006:  0000 0000 0000 0001 5348 0001 1EB8 0001
10016:  051E 0001 04C0 0001 5AC4 0001 108E 0001






    MA   [1]<HW  hex   string>   <start  address>   <end   address>  -
         Search memory for matching halfword string--(privileged)

    The  MAtch  command  searches  memory  for  all  occurrences  of a
         specified halfword  string between  <start address>  and <end
         address>.  If the string is preceded with a 1-bit  the search
         is for  all occurrences  of the second  byte of  the halfword
         string  which  are not  preceded  by the  first  byte.  Start
         address and end address must lie in the same segment;  if the
         user wishes  to search in  multiple segments he  must execute
         multiple searches.

    WARNING --  For node  code versions 5.03  and before  this command
         must not be  used in local XRAY  or in XRAY  accessed through
         ISIS DDT.  Such use will result in unpredictable  behavior of
         the node code, and will probably make the node crash.

    Examples of the usage of the command are:

>MA 2304 10000 14000
136E0:  2304
136E0:  2304
13718:  2304
1372E:  2304
13C52:  2304
1372E:  2304

**X-RAY** NODE: 2164  HOST: 0636  TIME: 164:18:08:20


                                       67
                                 XRAY COMMANDS                 December 20, 1983



>MA 100FE 11E00 12400

11F9B:  80FE
12034:  7FFE
120B0:  48FE
12102:  48FE
121F2:  FFFE

**X-RAY** NODE: 2164  HOST: 0636  TIME: 164:20:04:05
>MA 4311 F000 12000

YOU CAN'T READ ACROSS SEGMENT BOUNDARIES.

**X-RAY** NODE: 2164  HOST: 0636  TIME: 164:20:07:09
>





    RS <symbol> [<count>] - Read memory at symbol address.

    The 'RS'  command functions exactly  like the 'R'  commmand except
         that it expects a symbol  name that is defined in  the symbol
         table instead of a virtual address.

>RS REBCEN,20
10006:  0000 0000 0000 0001 5348 0001 1EB8 0001
10016:  051E 0001 04C0 0001 5AC4 0001 108E 0001




    RA <address> [<count>] - Read absolute memory (SOLO only).

    The 'RA'  command functions  exactly like  the 'R'  command except
         that  it expects  an absolute  address instead  of  a virtual
         address.

>RA C306,20
10006:  0000 0000 0000 0001 5348 0001 1EB8 0001
10016:  051E 0001 04C0 0001 5AC4 0001 108E 0001













                                       68
                                 XRAY COMMANDS                 December 20, 1983


    W  <start  address>  [<count>]  -  Write  to  memory  (at  virtual
         address),  Super-privileged, Audited.

    Write <count> hex bytes beginning at the EVEN <start  address> The
         default count is  2 bytes. XRAY  displays and opens  memory a
         halfword at a time, following which the user may enter  a hex
         half-word.  Leading zeroes are not needed (i.e., 1A  = 001A).
         Typing <CR> returns the user to command mode.  Typing /  or \
         causes XRAY to close  this halfword and open and  display the
         next.

    WF <start  address> [<count>] -  Write fullword to  memory, Super-
         privileged, Audited.

    This command writes a fullword. Identical to W except  that memory
         is  written a  fullword at  a time.  The default  count  is 4
         bytes.

    WA  <absolute  address> -  Write  to Memory  at  Absolute Address,
         Super-privileged, Audited.

    WS  <symbol>  [<count>]  -  Write  to  memory  at  symbol address,
         Privileged, Audited.

    The 'WS'  command functions  exactly like  the 'W'  command except
         that it expects a symbol  name that is defined in  the symbol
         table instead of a virtual address.





























                                       69
                                 XRAY COMMANDS                 December 20, 1983


    SA <symbol> - Display Symbol Address

    Displays  the  address  or  equated value  of  <symbol>  if  it is
         contained in the node code's internal symbol table.

>SA REBCEN

00010006




    SY <char|*> - Display Symbol Addresses

    Displays the names and  addresses of all symbols contained  in the
         internal symbol table that begin with the letter <char>.  'SY
         *' displays the names and address of all symbols.

>SY R
REBCEN:  00010006
REBDIS:  00010BD8
REBREN:  00010008
RESTRT:  000109AE




    PS - Display node  code PSW and PC at  the time the node  code was
         last dismissed,  SOLO only.

>PS
   0000  00006FFA  00015440


    DATA: Node flags  (zero if node code  is running), node  code PSW,
         node code PC.





    RG <r> - Read specified register set, SOLO only.

    The 'RG' command reads  the specified register set "r"  (0-F). Any
         value of "r" larger will display register set 15 (F).

>RG 2

C1D04:  FFFF  E1F4  FFFF  3CEC  FBFF  F0FA  FFFF  DEFE
C1D14:  DFFC  FCFE  FF77  62F6  FFFF  F5F5  FF8F  F0F8
C1D24:  5FFF  0000  4FDF  5FDC  FFFF  6222  3FFF  66FE
C1D34:  6FFE  860C  7F7F  57F7  AFFF  0440  0FAF  82F4




                                       70
                                 XRAY COMMANDS                 December 20, 1983




Interface Status Commands
========= ====== ========



    SR  - Display  SIO ring  status, Split  Node/Supervisor  only (V5+
         only)

    SR 1 - Force SIO Ring Initialization, privileged.

    SR 2 - Force SIO Ring and Interface Initialization, privileged.

    The 'SR' command with  no arguments displays the SIO  ring status.
         (Possible  states  are: DOWN,  AWAITING  LOAD,  LOADING TIMED
         OUT.)

>SR
 SIO RING UP
>


    The  'SR 1'  command initializes  the SIO  ring card  interface by
         killing the SIO ring card, activating the SIO ring  pairs and
         bringing the SIO ring card to life.

>SR 1
 SIO RING INITIALIZED
>


    The 'SR 2' command initializes the kernel communications  rings by
         clearing SEG 4 (kernel ring area) and initializing the kernel
         rings  (control input/output,  new log  and data  ready array
         rings).   Then  the   supervisor  communications   rings  are
         initialized by  resetting the  supervisor ring  pointers (for
         the  input/output,  control  input/output   and  backpressure
         rings).  Finally,  the SIO ring  card is initialized  as with
         the 'SR 1' command.

>SR 2
 SIO RING INTERFACE INITIALIZED
>












                                       71
                                 XRAY COMMANDS                 December 20, 1983


    IS - Display ISIS Interface Statistics (ISIS Only)

    The 'IS' command displays statistics about the node code interface
         with the ISIS Dispatcher.

>IS
IRCC  ORCC  ICHN  ICON  OHST  ILLG  IDSM  ODSM
0075  0038  0001  0476  0002  03AC  0000  0000

    IRCC  = Total character count passed from node code to ISIS 
            dispatcher since startup.
    ORCC  = Total character count passed from ISIS dispatcher to 
            node code since startup.
    ICHN  = Relative Dispatcher port number of latest external
            to Dispatcher.
    ICON  = Originating node number for circuit to port number in ICHN
            (i.e. originator of latest terminating needle).
    OHST  = Host on this machine that most recently requested and 
            received a port.
    ILLG  = Count of total number of illegal logon characters 
            received from hosts in the machine.
    IDSM   = Number of times the dispatcher input processor ran
             for 1/16 second  and still had not serviced all data to the 
             dispatcher.
    ODISM  = Number of times the dispatcher output processor ran
             for 1/16 second and still had not serviced all data from
             the dispatcher.




    IR - Display Dispatcher Ring Pointers (ISIS Only)

    The 'IR' command  displays the input  and output pointers  for the
         Node Code-Dispatcher communication rings.

>IR

TO ISIS         FROM ISIS
FILL  EMPTY     FILL  EMPTY
NODE  ISIS      ISIS  NODE
0014  0014      0048  0048

    TO ISIS : The Node Code  to ISIS ring (DIRING in Symbol  Table) is
         filled  by the node code and emptied by the  Dispatcher.  The
         FILL  pointer  displays the location  within the ring  of the
         last  character  the  node  code put  into it  and  the EMPTY
         pointer  displays the   location  of the  last  character the
         dispatcher  pulled  out.   If  they  are equal,  there  is no
         outstanding data in the ring.

    FROM ISIS : The ISIS to Node Code ring (DORING in Symbol Table) is
         filled  by the Dispatcher and emptied by the Node  Code.  The



                                       72
                                 XRAY COMMANDS                 December 20, 1983


         FILL  pointer  displays the location  within the ring  of the
         last  character  the  Dispatcher put  into it  and  the EMPTY
         pointer displays the  location of the last character the Node
         Code pulled out.   If they are equal, there is no outstanding
         data in the ring.

    HS - Display Information about All Hosts

    HS <host#1...host#8> H - Display Information about 1 to 8 Specific
         Hosts

    HS <slot#1...slot#8> S - Display Information about 1 to 8 Specific
         Slots

    HS U - Display Information about all Hosts that are UP or SHUT

    The 'HS' command displays  information about hosts running  on the
         node.  Without arguments the description of all hosts  on the
         node is displayed.  With 1 to 8 host numbers entered followed
         by  'H', a  description is  displayed only  for  the itemized
         hosts.  If a requested host number is not present on the node
         the  request for  this item  is ignored.   With 1  to  8 slot
         numbers entered followed  by 'S', a description  is displayed
         only for hosts  on the itemized  slots.  If a  requested slot
         number is  not present or  has no host  reported for  it, the
         request for this item is ignored.  'HS', when followed by the
         'U' option displays a  description for all hosts  with either
         'UP' or 'SHUT' status.

    For example:

>HS

HOST NO. SLOT  PID  PRODUCT DESCRIPTION       STAT  TIME OF STAT  CT  DOPI
-------- ----  ---- ------------------------  ----  ------------  --  ----
00000633 0000  0037 ISIS KERNEL                UP   188:23:09:28  00  NNYN
00000940 0001  0045 ISIS CONSAT               DOWN  189:01:05:44  00  NYYN
00000491 0002  0032 TYMCOM                    SHUT  188:23:54:44  00  YNNY


>HS 633,950 H

HOST NO. SLOT  PID  PRODUCT DESCRIPTION       STAT  TIME OF STAT  CT  DOPI
-------- ----  ---- ------------------------  ----  ------------  --  ----
00000633 0000  0037 ISIS KERNEL                UP   188:23:09:28  00  NNYN


>HS 0,2,3 S

HOST NO. SLOT  PID  PRODUCT DESCRIPTION       STAT  TIME OF STAT  CT  DOPI
-------- ----  ---- ------------------------  ----  ------------  --  ----
00000633 0000  0037 ISIS KERNEL                UP   188:23:09:28  00  NNYN
00000491 0002  0032 TYMCOM                    SHUT  188:23:54:44  00  YNNY



                                       73
                                 XRAY COMMANDS                 December 20, 1983


>HS U

HOST NO. SLOT  PID  PRODUCT DESCRIPTION       STAT  TIME OF STAT  CT  DOPI
-------- ----  ---- ------------------------  ----  ------------  --  ----
00000633 0000  0037 ISIS KERNEL                UP   188:23:09:28  00  NNYN
00000491 0002  0032 TYMCOM                    SHUT  188:23:54:44  00  YNNY

    Where:

    HOST NO. - The host number.

    SLOT -  The ISIS  slot upon which  this host  resides (0  for SOLO
         nodes).

    PID - The product ID code.

    PRODUCT DESCRIPTION - Full product description.

    STAT - Host status, UP (ANSWERED), DOWN, SHUT or GONE.

    TIME OF STAT - Time that last status update occured.   Always zero
         for kernel hosts  or for any  host  that comes up  before the
         node is taken over                and knows the correct time.

    CT  - Multi-target  host cost,  defaults to  zero if  host doesn't
         report a cost.
    DOPI - D - Destination only host ( N - no, Y - yes)
           O - Origin only host (N - no, Y - yes)
           P - Ports available (N - no, Y - yes)
           I - IIX indication (N - no IIX, Y - IIX)


























                                       74
                                 XRAY COMMANDS                 December 20, 1983




Debugging Aids
========= ====


    The commands  in this  section are intended  primarily for  use by
         programmers in testing and debugging the node code.  They are
         described briefly here to give XRAY users a full  overview of
         the capabilities which are available in XRAY, though  most of
         these  commands  would  rarely  be  useful  in  a  production
         environment.



    SC <address> - Set Crash at Specified Address (super-privileged)

    This command will cause the node code to  crash (software-detected
         crash type 'FF63') if it attempts to execute at the specified
         address.   The <address>  argument  is assumed  to  be MAC'd.
         Only one crash (or breakpoint  -- see 'SB' below) may  be set
         at a time.



    SB <address> - Set Breakpoint at Address (super-privileged)

    This  command  will  cause   the  node  code  to   crash  (illegal
         instruction type  '0240') if  it attempts  to execute  at the
         specified address.  The  <address> argument is assumed  to be
         MAC'd.  Only one breakpoint (or crash -- see 'SC' above') may
         be set at a time.



    RC - Remove Crash or Breakpoint (super-privileged)

    This command  removes a  crash or breakpoint  previously set  by a
         'SC' or 'SB' command, if one has been set.



    GB - Execute from Breakpoint (SOLO Only) (super-privileged)

    This  command  removes a  breakpoint  previously set  by  the 'SB'
         command (if there  is one) and restarts  the node code  if it
         has been halted.



    ST <address> - Set Trap (ISIS), Super-privileged, Audited.

    ST  <address>  <index>   [<count>]  -  Set  Trap   (SOLO),  Super-
         privileged, Audited.


                                       75
                                 XRAY COMMANDS                 December 20, 1983


    The 'ST' command sets a  trap at a specified address in  Segment 1
         or D.  This means that  when the code attempts to  execute at
         that  address, the  current contents  of Register  Set  F are
         printed out (along with certain other information) before the
         instruction at the address  is executed.  This is  a powerful
         tool which is ocassionally useful for diagnosing  problems in
         a production environment.

    In an ISIS node, only one trap  may be set at a time, and  it will
         "spring" only once.  The  ISIS trap is three  halfwords long,
         so care must be taken not to overlap an  instruction boundary
         to which the code might jump directly.

    In a SOLO node, up to 4 traps may be set at a time (<index> values
         0 to  3).  In addition,  it is possible  to specify  a repeat
         <count> of 1 to F (hex).  This will cause the trap to  be set
         again the specified number  of times after it is  sprung.  If
         no repeat count is specified, the trap will spring only once.
         The SOLO trap is two halfwords long, and care should be taken
         not  to overlap  an instruction  boundary to  which  the code
         might jump directly.

    NOTE: A  trap which  is set to  repeat will  not set  itself again
         after springing  until output of  the trap data  is complete.
         Thus  it  may  not  be  possible  to  trap  every consecutive
         execution of an address if it executes again before output is
         complete.







>ST 11ED0               (ISIS format)

>ST 11ED0,2,1           (SOLO format)

>
When a trap is sprung, the following information is displayed:

TRAP  0002  00011ED0 000067FA 0000 0001  01287BA7

A09D0:  0000  0001  0128  7BA7  0128  7BA7  E1F0  0011
A09E0:  0000  0000  0000  000F  0000  000C  0000  293C
A09F0:  0001  0444  000D  2A2C  0000  0079  000D  27A0
A0A00:  0000  0583  000D  29B6  0000  4046  0000  0001


    TRAP: The data on this line  are displayed only on a SOLO  node --
         trap  index  (HW), trap  address (FW), PSW  at time  trap was
         sprung (FW),  number of times trap has sprung  (HW), sequence
         number of this  particular trap spring (HW), remaining repeat
         count (HW), FASTC  time trap was sprung (FW).


                                       76
                                 XRAY COMMANDS                 December 20, 1983


    TRAP: trap index, trap address, PC-PSW, number times  trap sprung,
         number of traps remaining, FASTC clock trap time.

    The data following are displayed on both ISIS and SOLO nodes.  The
         address values to the left of the colons are not significant;
         the  data to  the right  of the  colons are  the  contents of
         registers 0-F  of Register  Set F  at the  time the  trap was
         sprung.





    DT - Display traps

    This command displays  the index numbers, addresses  and remaining
         repeat counts of all traps that are currently set.

>DT
0001   00010D08 0002
0000   00010D16 0004






    RT - Remove Trap (ISIS format) (super-privileged)

    RT <index> - Remove Trap (SOLO format) (super-privileged)

    This  command  removes a  trap  which  has been  set  by  the 'ST'
         command, if the trap has  been set.  The SOLO version  of the
         command requires a trap index number as an argument.






















                                       77
                                 XRAY COMMANDS                 December 20, 1983


    TS - set trace/stop conditions (solo and MAC2 only) TSN  - release
         trace/stop command

    The  TS  command enables  the  user to  specify  an  address range
         (unMAC'ed) and up to  five trace condition qualifiers  and up
         to five stop condition qualifiers which will cause the MAC to
         monitor  memory accesses  on two  levels.  At  one  level all
         occurrences of memory accesses within the specified range and
         under the trace condition qualifications will be be noted and
         the address logged in a  32 word buffer.  At the  other level
         the first memory access in the specified range and  under the
         stop condition qualifications  will cause a MAC  interrupt to
         be issued.  The Handling  routine will log the  current trace
         buffer and the pertinent information about the stop condition
         and will  schedule XRAY  to display  this information  to the
         user's screen.  Only one  trace/stop can be in effect  in the
         node  at  a given  time.   Another user,  or  the  same user,
         attempting  to  set  another  condition  will  be  denied the
         privilege  with  the  message  BUSY.   Encountering   a  stop
         condition releases the command  for another use, or  the user
         can who set  the conditions can  free the command  by issuing
         the command TSN, or by logging out of XRAY.

    NOTE--A bit of a weird  aspect of the MAC2 is that  the trace/stop
         doesn't  seem to  work until  the trace  enable bit  has been
         set/reset once.  This means that on a freshly booted  node it
         is necessary to set the trace/stop bit once (via TS) and then
         to reset it (via TSN).  Then it seems to work fine.

    The address bounds  must be specified  in their unMAC'ed  form, so
         the user must be armed with S0PH, S1PH, S2PH, etc.  These may
         be added to the XRAY symbol table in the future.

    The usage of the command looks like this:

    IS TRACE LOGGING DESIRED? n SPRING ON WHAT OCCURRENCE? e HALT NODE
         ON TRIGGER? (Y OR N--no crlf) n WRITE TRACE BIT MASK. 8 WRITE
         STOP  BIT  MASK.  4  LOW  PHYSICAL  ADDRESS  BOUND?  608 HIGH
         PHYSICAL ADDRESS BOUND? 608

    > STOP  CONDITION 0004   NOTED  -- ADDR: 00000608  FASTC: 0005B681
         PSW: 000067F2 000124D4 USER REGS: 00000001  00006850 00000000
         FFFF0000   000036C6  00003854   000004A2   000000B0  0001045A
         000104F4   FFFFFFFF  000001EC   0000001A   00000000  00000020
         000036C6

    TRACE CONDITIONS NOTED FOR 0008   AT: 00000608

    >

    or

    IS STOP  TRACE LOGGING DESIRED?  Y STOP BIT  MASK: 4  LOW PHYSICAL
         ADDRESS BOUND? 5AF0 HIGH PHYSICAL ADDRTESS BOUND? 5AFE


                                       78
                                 XRAY COMMANDS                 December 20, 1983


    >

    The OCCURRENCE  number field  accepts its  arguments in  hex.  The
         trace  and  stop mask  are  five bit  masks  (1F)  whose bits
         correspond to  :         10      instruction  fetch         8
         data read         4       data write         2       DMA read
         1       DMA write

















































                                       79
                                 XRAY COMMANDS                 December 20, 1983


    TR [<address1>] [<address2>] - Set UPSW Trace in  Specified Memory
         Range  (super-privileged)

    This  command enables  jump tracing  within a  specified  range of
         memory addresses.  The following variations are possible:

    >TR <address1> <address2>  - Enables tracing within  the specified
         range  of addresses.  The  first argument must  be  less than
         or equal to the second.

    >TR <address1> - Enables  tracing in the range from  <address1> to
         the  end of memory.

    >TR 0 <address2> - Enables tracing in the range from the beginning
         of  memory to <address2>.

    >TR 0 0 - Enables tracing for all of memory.

    >TR - Turns off tracing and displays the jump trace table.

    NOTE:  This  command is  not  available on  a  SOLO  CONSAT unless
         OPTION(UTRC)  has been specified in the Tymfile.


>TR 15400 18400
TRACER ON FOR RANGE: 00015400 00018400

>TR
TRACER INDEX: 00A0  RANGE: 00015400 00018400

C1400:  7720  7234  5214  54D6  5624  5632  5248  529A
C1410:  5636  54F0  40E0  5414  4110  051E  83A8  83BC
<etc.>

TRACER INDEX: The position relative to the beginning of the trace table
              of the next entry to be made -- i.e., the last entry made
              in the table is the HW preceding this pointer.

    The data following are the low-order HW's of the jump destination
    addresses logged by the trace routine.  All addresses within the range    
    specified in the 'TR' command are included.  In addition, the destination
    address of any jump which leaves the range and the destination address
    of the last jump prior to re-entering the range are also included.





    TT [<n>] - Display last n jump addresses from UPSW trace table. If
         n  not specified,  the  entire table  is  diaplayed. Displays
         zeroes if UTRC option not specified in TYMFILE.
>TT 10
C1400:  7720  7234  5214  54D6  5624  5632  5248  529A
C1410:  5636  54F0  40E0  5414  4110  051E  83A8  83BC


                                       80
                                 XRAY COMMANDS                 December 20, 1983


    G [<address>] - Execute from address or illegal  instruction, SOLO
         only, super-privileged.  The  Node Code resumes  execution at
         the  specified  address   or,  with  no   arguments,  resumes
         execution from illegal instruction previously encountered.




















































                                       81
                          APPENDIX A - CRYPTO MESSAGES







    The following abbreviations are  used to describe field  types and
         sizes within the CRYPTO messages:

                HO - halfword octal value 
                HD - halfword decimal
                HH - halfword hexadecimal 
                BD - byte decimal 
                BH - byte hex


    The following  abbreviations are  used to  describe fields  in the
         CRYPTO messages:

                CHAN - channel number (absolute unless otherwise noted)
                KN - link number
                LN - line number
                NLAT - number of lines attached (to a link)
                NGHBR - neighbor node number
                ERR CNT - error count
                SEQN - sequence number
                HSEQN - history buffer sequence number


    Most Crypto messages are enabled for logging to the  Crypto buffer
         by  default.   Certain  classes  of  messages   are  normally
         disabled from logging to  the Crypto buffer since  the events
         that these messages indicate are part of the normal course of
         node  code action  and would  quickly flood  the  Crypto log.
         These  special  categories  are;  Circuit  Building messages,
         Rebuild Activity messages and Async Activity messages and are
         enabled for logging by setting the symbols CRYDIS, REBDIS and
         ASYDIS to 1 for each of the respective categories.   The XRAY
         command 'WS' is used for changing the value of a symbol or by
         equating the symbol to 1 in the Tymfile the  specific message
         category can  be enabled  at startup.   If a  certain message
         requires one of these display switches in order to  be logged
         it is indicated within the message descriptions below.














                                       82
                          APPENDIX A - CRYPTO MESSAGES


    Crypto Message 00:

            00: CRASH - TYPE= HH ,ADDRESS= HH,HH

    The node code has crashed. The cause of the crash is  indicated by
         TYPE  and  the  crash location  by  ADDRESS.   (See  the 'DC'
         command for additional information about crash data.)

    The TYPE field is a hex halfword of the form 'aats', where  't' is
         the  crash type,  's' is  a subtype  code, and  'aa' provides
         additional descriptive information in some cases.

         Crash types are as follow:

         000s - power fail/manual restart
         002s - parity error
         aa3F - unexpected interrupt
         aa4s - instruction failure
         aa5s - MAC error
         aa6s - software detected errors


    See  Appendix  D  for  a  detailed  explanation  of  crash  codes,
         including the 'aa' and 's' portions of the TYPE field.

    Crypto Message 01:

            01: LINK UP   - KN= BD ,NGHBR= HO

    A new  link to  the indicated neighbor  has come  up on  the node.
         This message will have been preceded by a LINE  ATTACHED (16)
         message.

    Crypto Message 02:

            02: LINK DOWN - KN= BD ,NGHBR= HO

    The link to  the indicated neighbor  has gone down.   This message
         will have been  preceeded by one  or more LINE  DETACHED (04)
         messages.

    Crypto Message 03:

            03: LINK ERR (NO P.T.) - KN = BD ,NGHBR= HO

    An attempt to bring up a new link has failed because there  was no
         Permuter Table space available.  When this happens,  the link
         shrink process is  scheduled immediately (instead  of waiting
         for it's periodic 4-minute  run) in an attempt to  find links
         that are ready  to be shrunk. No  new links can come  up (and
         usually  no existing  links can  bubble) until  some Permuter
         Table space  is freed  up as a  result of  a link  shrink (or
         outage).



                                       83
                          APPENDIX A - CRYPTO MESSAGES


    Crypto Message 04:

            04: LINE DETACHED - REASON= BH ,LN= BD ,NGHBR= HO

    A line has been detached from  a link.  If this was the  only line
         on the  link, this message  will be followed  by a  LINK DOWN
         (02)  message.   The REASON  field  will contain  one  of the
         following codes:
         01  No good packets were received on the line during the past 4 
             seconds (or the past 16 seconds if this was the only line on 
             link).  Retransmitted packets do not count as "good", but
             dummy packets are "good" in this case.

        02   No good packets were received on the link to which this line
             was attached in the last 8 seconds.  In this case, neither
             retransmissions nor dummy packets count as "good".  Dummy
             packets alone will keep a line up on a multiple-line link only
             as long as at least one good new (not retransmitted) packet
             is received on any other line on the link every 8 seconds.

        03   A reset packet was received on the line.  Whenever a node
             decides to detach a line for reason 01, 02, or 04, it does
             so by sending out reset packets on the line.  This initiates
             the process by which the line gets re-attached.

        04   The link to which the line was attached was BORI zapped.  This
             can happen by command from the Supervisor or XRAY ('BZ' command)
             or as a result of a link snip (see CRYPTO Message 39) or other
             serious error on the link.

    Crypto Message 05:

            05: TAKEOVER - SUPERVISOR= BH

    The node has been taken over by the indicated Supervisor.

    Crypto Message 06:

            06: SUP STOP

    Supervisor nodes  only. Every eight  seconds the  supervisor sends
         status  to  the  node  code.  If  this  does  not  occur  the
         supervisor  is deemed  sick and  the supervisor  interface is
         frozen by the node code. All command circuits are  zapped and
         this messsage is issued.

    Crypto Message 07:

            07: SUP CRQ LOST - SUPERVISOR = BH

    The node received a  zapper (or possibly an invalid  control code)
         on its command circuit to the current active  Supervisor.  If
         the  node  is  that Supervisor's  base  (SOLO  or  ISIS), the



                                       84
                          APPENDIX A - CRYPTO MESSAGES


         command circuit  is reestablished immediately;  otherwise the
         node remains out of the network until it is taken over again.

    Crypto Message 08:

            08: CRQ GOBBLED NEEDLE - CHAR PAIR= HH, NGHBR=HO

    During the process of building a circuit segment in the  node, the
         code discovered  that the  needle had  gotten clobbered  by a
         zapper,  gobbler or  some  other 03-control  code  (CHAR PAIR
         field).  The needle had  come to the node from  the indicated
         neighbor.   If the  control code  was a  zapper,  the circuit
         segment  just dies  in  the node;  otherwise,  the incomplete
         circuit is zapped back toward the source.

    Crypto Message 09:

            09: ZAP ON UNASSIGNED CHANNEL - CHAN= HH ,NGHBR= HO

    A zapper (or some 03-control  code other than a needle  point) was
         received on the channel and from the neighbor indicated.  The
         channel was  not connected  to a circuit,  so the  zapper (or
         whatever) is  ignored.  This event  is reported to  the PROBE
         log (Node Report type 2).

    Crypto Message 0A:

            0A: NO NEIGHBOR - NGHBR= HO

    The node has received a pass-through needle that specifies  as its
         next destination a node that is not currently a neighbor. The
         circuit carrying the  needle is zapped. This  event typically
         occurs during the short time window between  when  a neighbor
         goes down and when the network Supervisor is informed  of the
         topology change.

    Crypto Message 0B:      Enabled by CRYDIS

            0B: CRQ BUILT - PORTS= HH,HH

    Crypto Message 0C:      Enabled by CRYDIS

            0C: CRQ ZAP - PORTS= HH,HH

    These two messages note all circuit building and teardown activity
         in  the  node  along  with  port  number  pairs  assigned  or
         released.  PORTS are the absolute channel  numbers associated
         with  the  circuit;  the  order  in  which  they  are  listed
         indicates the  direction in  which the  circuit was  built or
         zapped.

    Crypto Message 0D:

            0D: NO HOST - HOST#= HD


                                       85
                          APPENDIX A - CRYPTO MESSAGES


    The node has received  a terminating needle that specifies  a host
         not currently up on  the node. This typically  occurs shortly
         after a host has gone down and before the supervisor is aware
         of it. The circuit carrying the needle is zapped.

    Crypto Message 0E:

            0E: NEEDLE ZAPPED - CHAN= HH ,NGHBR= HO

    A zapper or invalid 03-XX control character pair was detected in a
         buffer that contained a needle. The circuit is zapped towards
         the destination and the needle is gobbled.  This should never
         occur and if it does contact the NODE CODE UNIT.

    Crypto Message 0F:

            0F: CRQ TIMEOUT - CHANNEL = HH

    Timeout on circuit building on an assigned channel. This occurs in
         two cases. If a channel is reserved for a T-I neighbor  and a
         needle  is  not  received  within  two  minutes,  the circuit
         building times out. During the circuit rebuilding process, if
         data is not reconciled  within two minutes of the  arrival of
         the rebuild needle at  the destination the circuit  times out
         and is zapped.

    Crypto Message 10:

            10: CHAN IN USE - LIFETIME= HH ,ABS CHAN= HH

    An attempt  was made  to connect  a new  circuit to  the indicated
         channel which was already in use.  LIFETIME is the  number of
         seconds the channel had been in use.  This can be caused by a
         number of things which should never happen.

    Crypto Message 11:      Enabled by REBDIS

            11: REB REQ - CHAN= HH ,HSEQN= HH,HH

    A  Rebuild  Request  was  sent to  the  Supervisor  because  a re-
         buildable circuit was zapped.   This can be done only  by the
         originating  node  of  a  re-buildable  circuit   or  circuit
         portion.  CHN  is the  channel number  of the  REBILD circuit
         stub; HSEQN is the history buffer sequence number.

    Crypto Message 12:      Enabled by REBDIS

            12: REB COMPLETE - CHN= HH ,HSEQN= HH,HH

    A circuit has been successfully re-built.  This message  is issued
         by the destination  node of a  re-built circuit.  CHN  is the
         former  circuit stub;  HSEQN is  the history  buffer sequence
         number.



                                       86
                          APPENDIX A - CRYPTO MESSAGES


    Crypto Message 13:

            13: BAD REBUILD INVOICE NUMBER - HH,HH

    A rebuild  needle was  received but  a circuit  stub could  not be
         located based on the invoice number in the needle.

    Crypto Message 14:

            14: REB DATA LOST - CHAN= HH

    Data was lost during a circuit rebuilding process and  the circuit
         was not rebuilt.  This will  happen if the amount of  data in
         the history buffer at either end of the circuit was less than
         the amount of data in the circuit at the time the circuit was
         zapped.

    Crypto Message 15:

            15: HOST STAT - STATUS= BH ,HOST= HD

    ISIS nodes only.  A host status message  has been received  and if
         this status has changed, a host status message is sent to the
         Supervisor.  Host status  is as  follows: 0  - answered,  1 -
         down, 2 - shut, 3 - gone.

    Crypto Message 16:

            16: LINE ATTACHED - NLAT= BD ,LN= BD ,NGHBR= HO

    Line LN has been attached to the link to neighbor node NGHBR.  The
         link now has NLAT lines attached to it.

    Crypto Message 17:

            17: NO COMMAND PORTS - INVOICE#= HH,HH

    A command circuit  from the Supervisor to  this node could  not be
         completed because the node was out of command  circuit ports.
         The  circuit  is  zapped back  toward  the  Supervisor.  This
         should almost never happen.

    Crypto Message 18:

            18: EARLY ZAPPER - CHAN= HH ,NGHBR= HO

    On  TYMNET-1 and  TYMNET-II boundaries  only. A  T-II node  got an
         'assign channel' command from the sup for a T-I neighbor, and
         subsequently  got  a  zapper  from  the  T-I  neighbor before
         receiving  a  needle  from  the  supervisor.  The  T-II  node
         responds by  passing on  the needle and  following it  with a
         NON-GOBBLING  ZAPPER,  so   that  the  intended   circuit  is
         completed before being zapped.



                                       87
                          APPENDIX A - CRYPTO MESSAGES


    Crypto Message 19:

            19: OUT OF CHANNELS - NGHBR= HO

    The node got a needle for a circuit to a T-II neighbor (NGHBR) but
         was  unable  to send  the  needle on  because  there  were no
         available channels on the link and it was not able  to bubble
         the link.  This condition will persist until channels already
         assigned to the link are  made available or the link  is able
         to bubble.

    Crypto Message 1A:

            1A: NEEDLE POINT GARBAGE - FIRST 2 BYTES= HH

    The node  was expecting  to find  a '03'  as the  first byte  in a
         needle buffer  and found something  else.  This  should never
         happen, and if it does, the node will crash.

    Crypto Message 1B:

            1B: NO KERNEL PORTS

    ISIS and  Supervisor Base nodes  only.  A circuit  to the  ISIS or
         Supervisor  (SOLO)  Kernel host  on  this node  could  not be
         completed because no Kernel ports were available.  (On a SOLO
         split-Supervisor,  this  will  happen also  if  the  SIO Ring
         Interface is down.)

    Crypto Message 1C:

            1C: OUT OF DISPATCHER PORTS - NDP= HD ,HOST= HD

    ISIS nodes only. Attempt to build a circuit to the  specified host
         failed   because all  the node's  dispatcher  interface ports
         were in use. NDP = configured number of dispatcher ports.

    Crypto Message 1D:

            1D: SIO INTERRUPT - STAT= BH ,CCODE= BH ,LN= BD ,NGHBR= HO

    An  SIO interrupt  was received  from the  SIO motherboard  on the
         indicated line for the indicated neighbor.  Following receipt
         of  the interrupt,  interrupt status  (STAT)  and motherboard
         status (CCODE)  are retrieved from  the motherboard  with the
         following meaning;

        STAT  DESCRIPTION

         01   ASYNC input command completion
         02   CCW error
         06   overrun of the SIO chip (lost data)
         08   I/O command error



                                       88
                          APPENDIX A - CRYPTO MESSAGES


       CCODE  DESCRIPTION

         00   motherboard available
         04   non-functioning motherboard
         08   motherboard busy


    Crypto Message 1E:

            1E: 4 SEC'S WITH NO REC'S RECVD - LN= BD ,NGHBR= HO

    This node has received checksum errors, retransmissions or nothing
         at all on the line  from the indicated neighbor for  the last
         four seconds.

    Crypto Message 1F:

            1F: NON-GOBBLING ZAPPER - NGHBR= HO

    A non-gobbling zapper was received from the indicated neighbor.

    Crypto Message 20:

            20: LINE SUSPENDED - SEC'S= HD ,LN= BD ,NGHBR= HO

    Line LN, which  was last attached  to the indicated  neighbor, has
         been suspended for the indicated number of seconds.  While it
         is suspended it cannot be attached to any link.

    Crypto Message 21:

            21: LINK SHRINK - NCHN= HD ,NGHBR= HO

    A  link  shrink  has  occured  to  the  indicated  neighbor.  NCHN
         channels remain allocated to the link.

    Crypto Message 22:

            22: LINK BUBBLE - NCHN= HD ,NGHBR= HO

    The link to the indicated neighbor has bubbled.  NCHN channels are
         now allocated to the link.

    Crypto Message 23:

            23: INV LOGGER ENTRY - BUFFER= HH

    The Logger buffer contains  the buffer indices for ports  in login
         mode. The  value of  a login buffer's  buffer flag  should be
         between 10x and 17x depending on the login state. If  this is
         not  the case,  the  buffer is  removed and  this  message is
         issued.

    Crypto Message 24:


                                       89
                          APPENDIX A - CRYPTO MESSAGES


            24: SUP DATA ON UNASSIGNED CHN - CHAN= HH

    On Supervisor machines only. When moving data from  the supervisor
         output  buffer into  the network,  a channel  was encountered
         which had  no entry  in the  supervisor permuter  table. This
         message specifies the invalid channel number, and the data is
         ignored.

    Crypto Message 25:

            25: SUP ZAP ON UNASSIGNED CHN - CHAN= HH

    On  Supervisor  Machines  only.  A  zapper  was  detected  on  the
         specified  unassigned  channel  while  moving  data  from the
         supervisor into the network.  The zapper is ignored.  (CRYDIS
         only.)

    Crypto Message 26:

            26: INV MACHNM ON CMD CIRCUIT - ERR CNT= HD ,NODE= HO

    A Supervisor message was received which was not addressed  to this
         node.   NODE is  the  node number  to which  the  message was
         addressed.  ERR CNT is  the number of times this  message and
         the next one (27) have  been logged.  This is a  very serious
         error; the command circuit to the Supervisor is zapped.

    Crypto Message 27:

            27: INV CMD ON CMD CIRCUIT - COMMAND= HH ,ERR CNT= HD

    A Supervisor  message was received  with an invalid  message type.
         COMMAND is the invalid type.  ERR CNT is the number  of times
         this  message and  the previous  one (26)  have  been logged.
         This  is a  very serious  error; the  command circuit  to the
         Supervisor is zapped.

    Crypto Message 28:

            28: DATA ON UNASSIGNED CHANNEL - CHAN= HH ,NGHBR= HO

    Something other than a  03-control code was received on  a channel
         which  was  not  connected  to a  circuit  and  had  not been
         assigned to  a T-I  link.  The data  are ignored.   (See also
         Message 09.)

    Crypto Message 29:

            29: NEEDLE ON ASSIGNED CHANNEL - CHAN= HH ,NGHBR= HO

    A needle was received on a channel which was already  connected to
         a circuit.  This means that the node and its neighbor (NGHBR)
         have somehow got  out of sync  with each other.   This should



                                       90
                          APPENDIX A - CRYPTO MESSAGES


         never  happen.   The  circuit  is  zapped  back   toward  the
         neighbor.

    Crypto Message 2A:

            2A: not used

    Crypto Message 2B:

            2B: INT HOST CRQ TIMEOUT - CHAN= HH

    An internal host channel with timeout enabled has not received any
         data for 8 minutes.  The circuit is zapped.   Currently, this
         applies only to circuits used to send "1-Down" messages.

    Crypto Message 2C:

            2C: NEW DWL CHN - CHAN= HH ,LN= BD

    A Downline Load circuit has been established to the line LN on the
         specified internal host channel.

    Crypto Message 2D:

            2D: DWL LINE ZAP - REASON= BH ,LN= BD

    A downline Load circuit has  been zapped. If REASON = 0,  a zapper
         was  received from  the network,  REASON =  1 means  the line
         number was invalid,  REASON  = 2 means the line  was attached
         to a link.

    Crypto Message 2E:

            2E: OUT OF INTERNAL HOST PORTS

    Attempt to assign an additional internal host circuit  failed.  An
         attempt to build a circuit to an internal host process failed
         because no channels were available.  The circuit is zapped.

    Crypto Message 2F:

            2F: ISIS HOST OUT OF PORTS - INVOICE#= HH,HH

    ISIS only. An  attempt to build a  circuit to an ISIS  host failed
         because the host is out of ports.  The circuit is detached, a
         message is  sent to  the circuit origin,  and the  circuit is
         zapped.

    Crypto Message 30:

            30: SYNC SCAN ERROR - LINE*2= BD ,OFFSET= HH

    The  sync SCAN  microcode instruction  indicated that  it  found a



                                       91
                          APPENDIX A - CRYPTO MESSAGES


         start bit (0-bit) in the sync input buffer; however, the code
         found only 1-bits (marking state).

    Crypto Message 31:

            31: NETDGN CALLING ERROR

    Routine NETDGN, for sending certain CRYPTO and supervisor reports,
         was called with an invalid message index causing  an internal
         inconsistency error.  This error should never occur.

    Crypto Message 32:

            32: SIO BUFFER CNT ERR - LINE*2= BD ,COUNT= HH

    A packet of  length zero or greater  than 84x was received  on the
         SIO line  indicated. COUNT  is the  number of  occurrences of
         this error since the node started up. This could  indicate an
         SIO  hardware  problem.  This  message  always  accompanies a
         corresponding  diagnostic  report to  the  supervisor  and is
         therefore subject to being throttled.

    Crypto Message 33:

            33: M-BOARD TIMEOUT - LINE= BD ,REASON= BH

    The software has timed out  attempting to get a response  from the
         motherboard for the indicated line.  A probable cause is that
         the  motherboard  was  not  made  aware  of  the  presence of
         daughterboard port 0,  perhaps because the  daughterboard was
         not connected at start-up time.  REASON indicates whether the
         timeout was during a connect (02), input(03), output  (04) or
         status (05) request.

    Crypto Message 34:

            34: CIRCUIT ERRORS - LEP= HD ,CRQ= HD

    There are many different  situations which are counted  as circuit
         errors  by  the LEP  or  CRQ circuit  building  routines. The
         message indicates how  many errors occurred for  each routine
         since the last issuance of the message and will  be generated
         after detecting more than two of any of the error conditions.
         If the total  number of such errors  exceeds 2 in  a 4-minute
         interval, a report is sent to the Supervisor Log.

    For routine CRQ the following conditions are considered circuit errors;
        -no internal host channels available
        -no such host on this node as requested by needle.
        -early zapper on a T-I needle
        -a channel is unexpectedly in use
        -neighbor in needle not neighbor to this node
        -other 03-XX control character pair than needle point in 
         the CRQ buffer


                                       92
                          APPENDIX A - CRYPTO MESSAGES


        -no permuter table space for circuit
        -no detach process ports available
        -no command ports available
        -unknown rebuild invoice number
        -lost rebuild data
        -rebuild circuit stub lost during rebuild data intercept
         (probably a rebuild timeout condition)

    For routine LEP the following conditions are considered circuit errors;
        -a rebuild needle has an unknown history buffer invoice number
        -on a T-I circuit build a channel was not in the login state
        -no assign channel to T-I link from supervisor before T-I needle
         arrival
        -channel specified in assign T-I chanel command from supervisor 
         is already in use


    Crypto Message 35:

            35: CIRCUIT INCONSISTENCIES - MAGNITUDE= HH ,COUNT= HD

    Every  four minutes  a check  is made  to see  that the  number of
         circuits  completed  plus  the number  of  circuits  in error
         equals the number of circuits attempted. If not, this message
         is generated showing how many circuits were not accounted for
         (magnitude) and how many times this condition  occurred since
         startup.

    Crypto Message 36:

            36: LINK OVERLOADED - COUNT= HH , NGHBR= HO

    A link overloaded condition was detected to the indicated neighbor
         during the last minute , causing this message to be displayed
         and an analogous message  to be sent to the  supervisor. This
         condition affects  the cost  of the  link in  the supervisors
         routing algorithm and remains  in effect for five  minutes at
         which  time the  supervisor assumes  that the  link  went un-
         overloaded.  The  specified overload count  is the  number of
         times during the  last minute that  all channels on  the link
         with output data could not be serviced by RMAKE at least once
         every 1/2 second.   The default threshold for  this condition
         is 10 overloaded 1/2 seconds in one minute and can be changed
         in the TYMFILE (LKOVTH) or can be patched (at symbol LKOVCT).

    Crypto Message 37:

            37: LINK SATURATED - COUNT= HH , NGHBR= HO

    A link saturated condition was detected to the  indicated neighbor
         during the last minute , causing this message to be displayed
         and an analogous message  to be sent to the  supervisor. This
         condition affects  the cost  of the  link in  the supervisors



                                       93
                          APPENDIX A - CRYPTO MESSAGES


         routing algorithm and remains  in effect for five  minutes at
         which  time the  supervisor assumes  that the  link  went un-
         saturated.  The  specified saturated count  is the  number of
         1/2 seconds during the last minute that none of the  lines on
         the link were idle.  The default threshold for this condition
         is 70 saturated 1/2 seconds in one minute and can  be changed
         in the TYMFILE (LKSTTH) or can be patched (at symbol LKSTCT).

    Crypto Message 38:

            38: not used

    Crypto Message 39:

            39: LINK SNIP - TYPE=,HH,NGHBR=,HO

    The Node Code encountered a serious error related to  a particular
         link and  decided to take  the link down  to clear  the error
         condition. The  TYPE field indicates  the cause of  the snip.
         Valid types are:

      01   Split 00 or 01 character pair received from  neighbor. This
          has been associated with Microcode Version 15 in conjunction
          with DMA devices.

      02   Invalid 03 character pair received from neighbor.

      03    Split 03  character pair.  This has  been  associated with
          Microcode Version 15 in conjunction with DMA devices.

      04    An invalid  channel number  in a  backpressure  record was
          received.

      05   An out-of-range channel number was received

      06   Zero entry in the Inter-Link Control Permuter table to a T-
          II neighbor.

      07    Zero entry  in the  Backpressure Permuter  Table to  a T-I
          neighbor.

      08   Unrecognized control record from a T-II neighbor

      09   Received a link shrink command when there were  no channels
          to shrink.

      0A   Microcode error clobbered record data pointer (PRD)

      10   'Arrayand'  microcode instruction error.  Probable hardware
          fault.  (both bits not set when doing double check  on array
          and instruction).

      11   'Arrayand'  microcode instruction error.  Probable hardware



                                       94
                          APPENDIX A - CRYPTO MESSAGES


          fault.  (microcode returned a channel number that is  out of
          range).

      12   Zero permuter table entry for active channel

      13   BPSCNT = zero; fault in backpressure mechanism.

      14   Encountered an empty buffer with buffer attention flag set.

      15   Attempt to build a zero-length record

      16   Recovery  from MAC  violation interrupt  while in  RTEAR or
          RMAKE. See CRYPTO Message 56.

    Crypto Message 3A:

            3A: SIO CARD BUSY - CMD= HH

    Split supervisor only. When sending commands to the SIO ring card,
         it was  detected to  be in the  busy state  for the  past 100
         FASTC  ticks (166  ms).  The  SIO ring  card command  used is
         displayed.

    Crypto Message 3B:

            3B: SIO RING INTERRUPT - STATUS= HH

    Split supervisor  only. Any interrupt  detected from the  SIO ring
         card generates this message displaying the  interrupt status.
         Some interrupts  are indicative  of error  conditions, others
         are not.  The meaning of the interrupt status is as follows;

        RP - Ring Pair number indicates ring pair mismatch between machines
        30 - line out
        31 - command error
        40+RP - ring pointer out of range for indicated Ring Pair number.
        70 - line just came up
        71 - 256d checksum errors
        72 - 16d aborts


    Crypto Message 3C:      Enabled by ASYDIS

            3C: TID RECEIVED - PORT= HO ,TERM TYPE= BH

    TYMSAT/CONSAT only.  A  TID was received  for an async  port.  The
         TERM TYPE value is explained in Appendix C.

    Crypto Message 3D:      Enabled by ASYDIS

            3D: NEEDLE EYE RECEIVED - PORT= HO ,CHAN= HH

    TYMSAT/CONSAT only.  A needle from the Supervisor was  received in



                                       95
                          APPENDIX A - CRYPTO MESSAGES


         response to a request for a circuit from an async  port.  The
         circuit will be built through the indicated channel.

    Crypto Message 3E:

            3E: not used

    Crypto Message 3F:

            3F: not used

    Crypto Message 40:

            40: TOT PKTS - RECD= HD ,SENT= HD ,LN= BD ,NGHBR= HO

    The line  diagnostic and reporting  routines scan all  lines every
         four  minutes  checking for  various  conditions  (see CRYPTO
         messages 41-4B). If  a report is  generated for one  of these
         conditions and there is packet activity on the line then this
         message  indicates  the  total  number  of  packets  sent and
         received  on this  line  to this  neighbor in  the  last four
         minutes.

    Crypto Message 41:

            41: BAD BORI. COUNT= HH ,LN= BD ,NGHBR= HO

    The line  diagnostic and  reporting routine  detected that  in the
         last  four minutes  1/64 of  the packets  received,  from the
         indicated neighbor on the indicated line, had a Bad BORI. The
         number of bad BORI's in this reporting period is specified.

    Crypto Message 42:

            42: BAD ACK. COUNT= HH ,LN= BD ,NGHBR= HO

    The line diagnostic and reporting routine detected that there were
         'count' acknowledgements received,  in the last  four minutes
         from the indicated neighbor on the indicated line,  that were
         not within  the allowable windowsize.  This condition  is not
         flagged  on multiple-line  links since  packet size  and line
         speed differences can cause  packets on one line  to overtake
         prior transmissions on a different line.  All occurrences are
         reported.

    Crypto Message 43:

            43: BAD RECORD NUMBER. COUNT= HH ,LN= BD ,NGHBR= HO

    The line diagnostic and reporting routine detected that there were
         'count'  record numbers  received, in  the last  four minutes
         from the indicated neighbor on the indicated line,  that were
         not  less than  or equal  to the  record number  of  the last



                                       96
                          APPENDIX A - CRYPTO MESSAGES


         record  torn  plus  the windowsize.   This  condition  is not
         flagged  on multiple-line  links since  packet size  and line
         speed differences can cause  packets on one line  to overtake
         prior transmissions on a different line.  All occurrences are
         reported.

    Crypto Message 44:

            44: BAD CHECKSUM. COUNT= HH ,LN= BD ,NGHBR= HO

    The line  diagnostic and  reporting routine  detected that  in the
         last  four minutes  1/64 of  the packets  received,  from the
         indicated neighbor on the indicated line, had a bad checksum.
         The  number  of bad  checksums  in this  reporting  period is
         specified.

    Crypto Message 45:

            45: RE-XMISSIONS REC'D. COUNT= HH ,LN= BD ,NGHBR= HO

    The line  diagnostic and  reporting routine  detected that  in the
         last  four  minutes 1/8  of  the packets  received,  from the
         indicated    neighbor   on    the   indicated    line,   were
         retransmissions.  The  number  of  retransmissions   in  this
         reporting period is specified.

    Crypto Message 46:

            46: RE-XMISSIONS SENT. COUNT= HH ,LN= BD ,NGHBR= HO

    The line  diagnostic and  reporting routine  detected that  in the
         last four minutes 1/8 of the packets sent, from the indicated
         neighbor  on the  indicated line,  were  retransmissions. The
         number  of  retransmissions  in  this  reporting   period  is
         specified.

    Crypto Message 47:

            47: 4-SECOND GAPS. COUNT= HH ,LN= BD ,NGHBR= HO

    The line diagnostic and reporting routine detected that there were
         no good records received for four seconds from  the indicated
         neighbor on the indicated line.  The count specifies how many
         four second gaps have occurred in the last four minutes.

    Crypto Message 48:

            48: CROSSTALK. COUNT= HH ,LN= BD ,NGHBR= HO

    The line diagnostic and reporting routine detected that there were
         'count' occurrences  of crosstalk received  in the  last four
         minutes from  the indicated neighbor  on the  indicated line.
         Crosstalk  is when  our own  node number  is detected  in the



                                       97
                          APPENDIX A - CRYPTO MESSAGES


         received    reset     pattern    (possible     hardware    or
         misconfiguration).

    Crypto Message 49:

            49: SPACING ON INPUT. COUNT= HH ,LN= BD ,NGHBR= HO

    The line diagnostic and reporting routine detected that there were
         'count' occurrences of spacing on input received in  the last
         four  minutes from  the indicated  neighbor on  the indicated
         sync line.

    Crypto Message 4A:

            4A: HDLC CKSM ERRORS. COUNT= HH ,LN= BD ,NGHBR= HO

    SOLO nodes only. The line diagnostic and reporting routine queries
         the  SIO  lines  to  see if  any  HDLC  checksum  errors have
         occurred  during the  past  four minutes  from  the indicated
         neighbor  on the  indicated SIO  line. If  so, the  number of
         errors is displayed.

    Crypto Message 4B:

            4B: HDLC ABORTS. COUNT= HH ,LN= BD ,NGHBR= HO

    Non-ISIS  nodes only.  The line  diagnostic and  reporting routine
         queries the SIO lines to see if any HDLC aborts have occurred
         during the past four  minutes from the indicated  neighbor on
         the  indicated  SIO line.  If  so, the  number  of  aborts is
         displayed.

    Crypto Message 4C:

            4C: UNTAKER - NGHBR= HO

    An UNTAKER message is sent to the indicated T-I neighbor to inform
         the  T-I  neighbor of  the  loss of  it's  Supervisor command
         circuit.

    Crypto Message 4D:

            4D: CIRCUITS ZAPPED= HD ,KN= BD ,NGHBR= HO

    When a  link goes  out causing  user circuits  to be  zapped, this
         message is generated  specifying the number of  user circuits
         zapped on the indicated link/neighbor.

    Crypto Message 4E:

            4E: CMD CTS  ZAPPED= HD ,KN= BD ,NGHBR= HO

    When a link goes out  causing command circuits to be  zapped, this



                                       98
                          APPENDIX A - CRYPTO MESSAGES


         message  is  generated  specifying  the  number   of  command
         circuits zapped on the indicated link/neighbor.

    Crypto Message 4F:

            4F: not used

    Crypto Message 50:

            50: BAD INT. HOST FUNCTION. VALUE = HH

    An  invalid function  byte is  received by  an internal  host. The
         internal  host  processor  determines  which   internal  host
         process a circuit is intended for based on the first  byte of
         data received.  Remote XRAY is an exception.   Valid function
         byte values are 0-3Fx (downline load), 44x (delay measurement
         circuit), 4Cx (loopback circuit), 82x ("1-Down" message).

    Crypto Message 51:

            51: LINK FROZEN - NGHBR= HO

    The indicated  link has  been frozen  because of  four consecutive
         seconds  with no  good  records received.  If  this situation
         persists for the next 12 seconds the link will be taken down.

    Crypto Message 52:

            52: LINK THAWED - NGBHR= HO

    The  indicated link  has recovered  from a  FROZEN  condition (see
         previous message) and is operating normally.

    Crypto Message 53:

            53: BAD SIO REC LENGTH - LN= BD ,NGBHR= HO

    A software generated interrupt indicating a bad SIO record length,
         was detected on the indicated line/neighbor by the two-second
         SIO interrupt check routine. This message will not be subject
         to throttling as with the redundant CRYPTO message 32.

    Crypto Message 54:

            54: XRAY COMMAND AUDIT - TYPE= HH ,USERNAME= HH,HH,HH

    Certain privileged  XRAY commands are  audited with an  entry into
         the CRYPTO log  showing the command  type as a  halfword hex,
         representing  the ASCII  representation of  the  XRAY command
         being audited. Commands that are audited are; BT, HT, SN, ST,
         W, WF, WS, HP, IZ,  BZ and BG.  Also displayed are  the ASCII
         representation of  the first six  characters of  the username
         for this XRAY user.



                                       99
                          APPENDIX A - CRYPTO MESSAGES


    Crypto Message 55:

            55: not used

    Crypto Message 56:

            56: RECOVERY FROM MAC ERROR AT ADDRESS  1,HH

    The  software took  a non-DMA  MAC violation  interrupt and  did a
         'soft  crash'.   A  link  snip  may  have  resulted  from the
         interrupt  (see Crypto  Message 39,  TYPE =  16).    The node
         registers  at  the  time  of  the  interrupt  are  stored  in
         'ABRSAV', which is in the SYMBOL TABLE.  (See the SA,  SY and
         RS commands). At most one MAC interrupt per 4 minutes  can be
         soft-recovered.

    Crypto Message 57:

            57: DMA TIMEOUT. MAC STATUS= HH

    Some DMA device (Motherboard, Disc Controller, etc.) timed  out on
         a  DMA access  and  caused a  MAC interrupt.  The  MAC status
         register is  displayed in  field 'HH'. If  more than  one DMA
         timeout occurs per 4-minute interval the node will crash.

    Crypto Message 58:

            58: REPORT LIMIT EXCEEDED - SLOT= BD ,LIMIT= HD

    ISIS only. The indicated slot has reached it's limit of  report to
         the supervisor log messages  for this minute. This  limit can
         be set in the TYMFILE with macro 'HLIMIT' and defaults  to no
         limit.

    Crypto Message 59:

            59: DATA ON DISABLED ASYNC PORT. PN= HO

    Input was received on an  async port which should not  be prepared
         to accept input. This is probably a hardware problem.

    Crypto Message 5A:

            5A: CIRCUIT LIMIT EXCEEDED - SLOT= BD ,HOST= HD

    ISIS only. The  indicated slot has  reached it's limit  of circuit
         build requests for this minute. This limit can be set  in the
         TYMFILE with macro 'SLIMIT' and defaults to no limit.

    Crypto Message 5B:

            5B: INVALID HOST FOR RESTRICTED NODE - SLOT= BD ,HOST= HD




                                      100
                          APPENDIX A - CRYPTO MESSAGES


    ISIS only with restricted host option. If a host attempts  to send
         status whose  number is  not on  the host  good guy  list (as
         specified in the TYMFILE), this message is generated  for the
         indicated host/slot and the host is rejected.

    Crypto Message 5C:

            5C: INV. 03-PAIR ON T-I CMD CIRCUIT - DATA= HH ,NGHBR= HO

    A 03-XX character pair, other than a zapper, was detected on a T-I
         command  circuit.  The  offending data  and the  T-I neighbor
         number are displayed.

    Crypto Message 5D:

            5D: INV. LENGTH ON T-I SUP RECORD - DATA= HH ,NGHBR= HO

    T-I supervisor records are six bytes long and must  be transmitted
         whole.  If six bytes are not in the buffer, a complete record
         cannot be sent and  this message is generated  indicating the
         last data in the buffer  and the T-I neighbor number  and the
         circuit is zapped.

    Crypto Message 5E:

            5E: INV. 03-PAIR ON CMD CIRCUIT - DATA= HH

    A 03-XX  character pair, other  than a zapper,  was detected  on a
         command  circuit.  This  message  is  issued  along  with the
         invalid data.

    Crypto Message 5F:

            5F: CHAN IN USE - REL CHAN= HH ,NGHBR= HO

    A channel was detected as being unexpectedly in use.  This message
         occurs under the same  condition as CRYPTO message 10  but is
         subject to throttling since  it accompanies a node  report to
         the supervisor. The relative channel and neighbor numbers are
         displayed  for link  channels  and the  absolute  channel and
         'FFFF' are displayed for internal channels.

    Crypto Message 60:

            60: BUFFER ZAP - COUNT= HH ,CHAN= HH ,BUFFER= HH

    A buffer zap occured.  COUNT is the number of bytes of  data lost;
         CHAN is the  channel which filled  the buffer; BUFFER  is the
         buffer index.

    Crypto Message 61:

            61: SLOT OUT OF PORTS - NBR PORTS= HD ,HOST= HD



                                      101
                          APPENDIX A - CRYPTO MESSAGES


    ISIS only. A  host slot has  rejected a needle  without previously
         informing the node  code of an  out of ports  condition. This
         message displays  the last reported  number of ports  and the
         suspicious host number and  the host is flagged  and reported
         as being out of ports.

    Crypto Message 62:

            62: IMPOSTER HOST - SLOTS= HH ,HOST= HD

    ISIS only. A  slot reports status for  a host number  that already
         exists in a different  slot with a status other  than 'down'.
         This message specifies the offending slot and host number.

    Crypto Message 63:

            63: SQA ERROR - DIF= HH ,PORT= HH

    On  a  rebuildable circuit,  a  sequence number  fix  is  sent out
         periodically to verify that the number of characters sent out
         has been received at the  other end. A SQA error  is reported
         if there is a difference between the sequence number  and the
         actual number of characters received.

    Crypto Message 64:

            64: KERNEL FAILED TO ZAP PORT - KERNEL PORT = HH

    ISIS kernel negative index ring only.  A zapper was detected for a
         kernel port and a kernel  SVC attempted to zap the  port. The
         kernel  would not  zap the  port, however,  and  this message
         indicates the offending port number.

    Crypto Message 65:      Enabled by REBDIS

            65: SQFIX - CHN= HH ,NET= HH ,VALUE= HH,HH

    A  sequence  number  fix  control  character  is  detected  at the
         termination  of  a  rebuildable  circuit.  The   inbound  and
         terminating  channel  numbers are  displayed  along  with the
         sequence number.

    Crypto Message 66:      Enabled by REBDIS

            66: SQACK - CHN= HH ,HW SEQN= HH ,HSEQN= HH,HH

    A  sequence  acknowledge  control  character  is  detected  at the
         termination  of  a  rebuildable  circuit.  Displayed  are the
         destination  channel   number,  the  sequence   number  being
         acknowledged, and the history buffer sequence number.

    Crypto Message 67:      Enabled by REBDIS

            67: REB NEEDLE - SENDING= HH,HH ,WANT= HH,HH


                                      102
                          APPENDIX A - CRYPTO MESSAGES


    A rebuild needle is received for a circuit that has gone out. This
         needle is  sent to  the destination  along with  the sequence
         number of the next  data character the origination  will send
         and  the  sequence  number of  the  next  data  character the
         origination wants to receive.

    Crypto Message 68:

            68: NO PERMUTER TABLES FOR NEW LINK - LN= BD ,NGHBR= HO

    This message is identical  to CRYPTO message 03 but  accompanies a
         node report  to the  supervisor and  is therefore  subject to
         throttling.

    Crypto Message 69:

            69: NO LINK FOR NEW LINE - LN= BD ,NGHBR= HO

    An  attempt  was  made  to  bring up  a  new  link  but  there was
         insufficient link descriptor space to bring up the link. This
         is  an  under-configuration  error and  can  be  corrected by
         adding more XLNKS to the configuration TYMFILE.

    Crypto Message 6A:      Enabled by REBDIS

            6A: CHAN STATUS - CHN= HH ,HSEQN= HH,HH

    This  message  is  displayed with  Crypto  Msg  67  indicating the
         original channel and history buffer sequence number.

    Crypto Message 6B:      Enabled by REBDIS

            6B: REBUILD DISABLED ON CHAN= HH

    Rebuild  has  been  disabled on  the  circuit  terminating  on the
         channel displayed  because the  circuit passes  through nodes
         which do not support REBILD control messages.

    Crypto Message 6C:

            6C: EARLY REBUILD NEEDLE. CHAN= HH

    A rebuild needle is received for a circuit which has not  yet been
         zapped. A  fat zapper  is assumed to  be on  the way  and the
         rebuilding process continues.

    Crypto Message 6D:

            6D: INTERCEPT ABANDONED--NO STUB FOR INVOICE= HH,HH

    An attempt to rebuild a circuit failed because a stub could not be
         located for the specified invoice number.

    Crypto Message 6E:      Enabled by REBDIS


                                      103
                          APPENDIX A - CRYPTO MESSAGES


            6E: CHAN STATUS - XSEQN= HH,HH ,VSEQN= HH,HH

    This  message  occurs   following  CRYPTO  messages   11  (rebuild
         request),  12  (rebuild complete)  and  6A  (rebuild complete
         channel  status)  and  displays  the  transmit   and  recieve
         sequence numbers.

    Crypto Message 6F:      Enabled by REBDIS

            6F: SQF SENT - CHN= ,H, XSEQN= HH,HH

    This mesage is sent each time an SQFIX control characxter is sent,
         displaying  the  outbound  channel  number  and  the transmit
         sequence number.

    Crypto Message 70:

            70: SIO MBOARD ERROR - LINE= BD ,NGHBR= HO

    This message is generated when SIO input or output  processing has
         detected an invalid return code from the SIO  motherboard for
         the indicated line/neighbor.  The  return code of 4  from the
         motherboard indicates a  hardware problem, possibly  that the
         motherboard is not plugged in or not addressed properly.
































                                      104
                       APPENDIX B - XRAY COMMAND SUMMARY


    XRAY Commands Arranged in Alphabetical Order

    *****************************************************************


    AC <chan#> <range> - Display active channel numbers within a range...37

    AS - Display the status of all async ports...........................32

    AS <port #> - Display the status of async port # (octal).............32

    AS <port1> <port2> - Display the status of ports in the given range..32

    AS U - Display the status of all active async ports..................32

    AS <port1> <port2> U - Display the status of all active ports in
       the range.........................................................32

    AZ - Initialize async port statistics................................32

    BG - Display bad guy list............................................24

    BG <neighbor #> <I or R> - Insert or Remove neighbor to/from bad
       guy list, privileged..............................................24

    BS - Display bufferlet use statistics................................42

    BSZ - Clear bufferlet use statistics.................................42

    BT - Go to boot, SOLO only, privileged...............................15

    BZ <neighbor #> - Bori Zap a link, privileged........................25

    CD [<Y or N>] - Display or set auto crypto on or off.................50

    CL [<n>] - Display last 16 or n CRYPTO messages......................50

    CM <n1 n2 ... n8> - Display CRYPTO messages by type..................51

    CO [<hhss>] - Display or set crash (hh-hardware, ss-software) 
       options. 00 - restart, 01 - stop, 02 - boot, 03 - halt 
       (privileged)......................................................48

    DB - Begin delay measurement.........................................53

    DB <index> - Begin delay measurement, privileged.....................53

    DC - Display crash data..............................................45

    DCD - Display crash detail data......................................45

    DCS - Display crash summary data.....................................45

    DD - Display delay measurement statistics............................53


                                      105
                       APPENDIX B - XRAY COMMAND SUMMARY



    DD <index> - Display delay measurement statistics, privileged........53

    DE - Terminate delay measurement circuit.............................53

    DE <index> - Terminate delay measurement, privileged.................53

    DH <value> - Decimal to hex..........................................63

    DL - Build data loopback circuit, super-privileged...................58

    DL <index> - Build data loopback circuit, super-privileged...........58

    DO <value> - Convert decimal to octal................................63

    DT - Display traps...................................................75

    G [<address>] - Execute from address or illegal instruction, SOLO 
      only, super-privileged.............................................77

    GB - Execute from breakpoint, SOLO only, super-privileged............73

    GP - Get privilege...................................................61

    HD <value> - Hex to decimal..........................................63

    HE - Display all XRAY commands available on this node................63

    HO <value> - Hex to octal............................................63

    HP <Port #> - Hang async port, privileged............................36

    HS <Host or Slot #1 to #8> [H,S,U] - Display host information,
    ISIS only............................................................71

    HT - Halt node code, SOLO only, super-privileged.....................15

    IS - Display ISIS interface statistics, ISIS only....................70

    IR - Display ISIS dispatcher ring pointers, ISIS only................70

    IZ - Initialize async ring, privileged...............................36

    KD <neighbor #> - Display link descriptor............................16

    KS <neighbor #> - Display link statistics............................19

    LE - Start local echo mode...........................................63

    MA [1]<HW hex value> <start addr.> <end addr.> - Search memory for 
       all occurences of the halfword hex value within the specified
       range.  If the halfword value is preceded by a 1, occurences of 
       the second byte of the halfword not preceded by the first byte 
       are displayed.....................................................65


                                      106
                       APPENDIX B - XRAY COMMAND SUMMARY



    ND - Display node description........................................ 7

    NS - Display node statistics.........................................11

    OD <value> - Octal to decimal........................................63

    OH <value> - Octal to hex............................................63

    PM <channel #> - Monitor performance on terminating channel, 
       privileged........................................................60

    PS - Display current node code PSW and PC, SOLO only.................68

    PV <PVC port #> - Display PVC port configuration.....................35

    QC <channel #> [end chan#] [U] - Query channel status................37

    RE - Restore remote echo mode........................................63

    R <address> [<count>] - Read memory..................................65

    RA <absolute address> [<count>] - Read memory at absolute address....66

    RB <buffer index> - Read specified buffer, privileged................44

    RC - Remove crash or breakpoint, super-privileged....................73

    RG <r> - Read specified register set, SOLO only......................68

    RR - Read crash registers............................................45

    RS <symbol> [<count>] - Read memory at symbol........................66

    RT <index> - Remove trap, SOLO, super-privileged.....................75

    RT - Remove trap, ISIS, super-privileged.............................75

    SA <symbol> - Display symbol address.................................68

    SB <address> - Set breakpoint at address, super-privileged...........73

    SC <address> - Set crash at address, super-privileged................73

    SM <n1 n2 ... n7  1 or 0> - Enable/disable CRYPTO messages by
       type, privileged..................................................51

    SN - Restart the node code, SOLO only, super-privileged..............15

    SR - Display SIO ring status, split/sup only, privileged.............69

    SR 1 - Force SIO ring initialization, split/sup only, privileged.....69

    SR 2 - Force SIO ring and interface initialization, split/sup


                                      107
                       APPENDIX B - XRAY COMMAND SUMMARY


           only, privileged..............................................69

    ST <address> <index> [<count>] - Set trap, SOLO, super-privileged....73

    ST <address> - Set trap, ISIS, super-privileged......................73

    SY <character or *> - Display symbol addresses.......................68

    TA [<count>] [<I or O>] - Display channel trace data, only <count> 
       most recent records or Incoming or Outgoing records. Data 
       displayed as ASCII................................................40
    
    TC <chan #> <1 or 0> - Enable or Disable data trace on channel, 
       privileged........................................................40

    TD [<count>] [<I or O>] - Display channel trace data, only <count> 
       most recent records or Incoming or Outgoing records...............40

    TE [<count>] [<I or O>] - Display channel trace data, only <count> 
       most recent records or Incoming or Outgoing records. Escapes 
       displayed.........................................................40

    TL <link #> - Set trace on link (TSN)................................26

    TL 0 - Turn off TSN trace............................................26

    TL - Display currently selected TSN trace link.......................26

    TM B - Display TSN trace link data background table (records made 
           and torn).....................................................26

    TM F - Display TSN trace link data foreground table (sync recieve 
           activity).....................................................26

    TN <line #> - Turn on tracing for data on an unattached line# 
       (decimal).........................................................26

    TN FFFF - Turn off tracing for data on unattached line...............26

    TN - Display currently selected line for tracing.....................26

    TR [<address1>] [<address2>] - Set special UPSW trace, 
       super-privileged, addr1=addr1=0 trace all memory, no 
       addresses specified turn off trace................................76

    TT [<n>] - Display all or last n jump addresses in UPSW trace table..76

    W <start address> [<count>] - Write to memory, super-privileged......67

    WA <absolute address> - Write to memory at absolute address,
       super-privileged, SOLO only.......................................67

    WB <buffer #> <data byte 1...data byte 7> - Write to buffer, 
       super-privileged..................................................44


                                      108
                       APPENDIX B - XRAY COMMAND SUMMARY



    WF <start address> [<count>] - Write fullword to memory, 
       super-privileged..................................................67

    WM - Enter XRAY warning message......................................63

    WM0 - Erase previous XRAY warning message............................63

    WM1 - Display XRAY warning message...................................63

    WS <symbol> [<count>] - Write to memory at symbol address, 
       privileged........................................................67

    XG - Display XRAY goodguy list.......................................61

    XG <entry no.> P - Purge entry from XRAY goodguy list, 
       super-privileged..................................................61

    XG <entry no.> M - Modify entry in XRAY goodguy list, 
       super-privileged..................................................61

    XGI - Insert entry innto XRAY goodguy list, super-privileged.........61


































                                      109
                          APPENDIX C - TERMINAL TYPES


    The following  table describes the  relationship between  the 'TY'
         field in the AS command, the PVC TID TYPE for the AID option,
         and the associated terminal  TID and CPS rate.  Each terminal
         is identified by its TID and CPS rate.

    NOTE  :   The  following  table   is  valid  ONLY   for  1200-baud
         TYMSATS/CONSATS, and NOT for TYMSATS/CONSATS supporting 4800-
         baud  terminals.  All terminals  are  ASCII  unless otherwise
         noted.

                TY      Type    TID     Bits/Sec

        00      TID10    A       300
        0E      TID11    C       300
        1C      TID12    E       300
        2A      TID13    G       300
        38      TID16    I       300
        46      TID4     B       150
        54      TID5     F       150
        62      TID1     D       110
        70      TID15    A      1200
        7E      TID16    I      1200
        8C      TID13    G      1200
        9A      NONE    <cr>     147    (2741)
        A8      TID3     P       147    (Correspondence 2741)
        B6      TID2     P       147    (EBCDIC 2741)
        C4      TID14    Y       300    (Transaction Telephone)

    For 1200-baud TYMSATS/CONSATS, the 'BR' field in the AS command is
         encoded as follows:

        5 :     1200 baud
        2 :     300 baud
        1 :     150 baud
        7 :     147 baud
        0 :     110 baud


    Note that the 'TY' field need not necessarily agree with  the 'BR'
         field  since the  'TY' value  is determined  when the  TID is
         typed, and the baud rate may be subsequently  altered through
         the use of prefix codes.

    The left nibble  in the BR  field is the  input baud rate  and the
         right is the output baud rate. For example, a BR of  52 means
         that  the  TYMSAT/CONSAT  is  receiving  characters  from the
         terminal  at  1200  bits/sec  and  is  transmitting   at  300
         bits/sec.








                                      110
                            APPENDIX D - CRASH CODES


    This appendix lists all crash codes as displayed in CRYPTO message
         00 and  in the 'DC'  and 'ND' displays.  The crash code  is a
         halfword hexadecimal value with the high order byte being the
         crash subtype and  the low order  byte being the  crash type.
         Node code  action after  the crash  depends on  the specified
         crash options. There are  two kinds of crashes,  hardware and
         software crashes. Hardware  crashes are caused by  the engine
         detecting  a  severe  problem  and  generating  an  interrupt
         indicative of  the error  condition. Crash  code 0042  is the
         only exception to this since it is a software  detected error
         indicative of  a hardware problem  and thus will  take action
         based  upon  the  software  crash  option  present.  Software
         crashes  are caused  by the  node code  detecting  a software
         anamoly of such severity  that the node code  cannot continue
         to  operate with  integrity. Newly  added crash  codes should
         follow sequentially to old ones  so as not to insert  a crash
         code  and bump  all  the numbers  of higher  codes  (within a
         sequential code group).

    The crash halfword  is of the form  'aats' where 't' is  the crash
         type,  's' is  the crash  subtype and  'aa' is  an additional
         descriptor field whose meaning is dependent upon the specific
         crash type and subtype.




Hardware Crash Codes
======== ===== =====



For a SOLO node the hardware crash codes have the following meaning;

    002x - Parity error
    0020 - Non-DMA
    0021 - DMA

           Memory location 348x contains the address of the last memory
           parity error in bits 12-30. Bit 0 is set if DMA was accessing
           memory at time of error, reset if CPU was accessing memory.


    aa3x - Unexpected interrupt
    aa30 - Non-microcode device
    aa31 - Microcode-controlled device
    aa3F - Interrupt from unassigned address--type of device unknown
           "aa" specifies the address of the interrupting device.

    aa4x - Instruction failure
                aa = FE no known process in control at time of crash
                (applies to all aa4x codes).
    aa40 - Illegal instruction
                aa = 02 memory location bad


                                      111
                            APPENDIX D - CRASH CODES


    aa41 - Legal illegal instruction (memory location  has valid opcode)
                aa = 02 multiple occurrence of illegal instruction
                        interrupt on legal instrucion
                aa = 04 spurious illegal instruction in register set 0
                        (currently unimplemented)
                aa = 06 spurious illegal instruction interrupt on
                        enhanced instruction.
    aa42 - Instruction malfunction (software detected illegal result)
           See software crash codes below for an explanation of the additional
           descriptor field 'aa' for this crash type and subtype.


    aa5x - MAC error
    0050 - Protection violation
    0051 - Out of bounds
    0052 - DMA time-out
    0053 - Presence error
    0054 - Write interrupt
    0055 - Fetch error
    FE5F - Mac interrupt of unknown type.

           Location 344x contains the relocated last legal fetch address
           and location 34C contains the unrelocated last legal fetch
           address in bits 12-30. Location 340x contains the MAC interrupt
           status register with the following interpretation; 
           bit 24 set - DMA timeout,  bit 27 set - limit error,
           bit 28 set - presence error,  bit 29 set - write protect error,
           bit 30 set - write/interrupt error,  bit 31 set - fetch error.

           The MAC locations can be displayed on a SOLO machine with the
           'DC' command.
  
    
For an ISIS node the hardware crash codes have the following meaning:


    0000 - Manual restart

    0001 - Power fail

    0002 - Parity error

    0003 - Dispatcher crash (error detected by dispatcher)

    0004 - Illegal instruction

    0005 - Illegal SVC

    0006 - System crash (parity error)

    0007 - Protection violation

    0008 - Non-recoverable device check



                                      112
                            APPENDIX D - CRASH CODES


Software Crash Codes
======== ===== =====

************************************************************
CRASH TYPE/SUBTYPE aa42   SOFTWARE DETECTED INSTRUCTION MALFUNCTION
************************************************************


Crash code 0242 .BIDCR  EXEC
JFFO error in BIDDY. R1 tested as non-zero, however JFFO instruction does
not find a bit set in R1. Possible hardware problem.
Contact COMMUNICATIONS MAINTENANCE.


Crash code 0442 .BIDHC  EXEC
JFFOH error in BIDH. R1 tested as non-zero, however JFFOH instruction does
not find a bit set in R1.  Possible hardware problem.
Contact COMMUNICATIONS MAINTENANCE.


Crash code 0642 .BIDC0  EXEC
JFFO error in BID. R1 tested as non-zero, however JFFO instruction does
not find a bit set in R1.  Possible hardware problem.
Contact COMMUNICATIONS MAINTENANCE.


Crash code 0842 .KERIC  XHOSTS
JFFO error in KERIPS. R4 tested as non-zero, however JFFO instruction does
not find a bit set in R4.  Possible hardware problem.
Contact COMMUNICATIONS MAINTENANCE.


************************************************************
CRASH TYPE/SUBTYPE aa62  SOFTWARE DETECTED HARDWARE CONSISTENCY ERROR
************************************************************


Crash code 0262 .YKMCR  EXEC at YAKMAC
YAKMAC tried to recover from MAC error and failed.  
YAKMAC compares the register value KD (link descriptor address) against
the value stored in the link descriptor table indexed by link number.
If these values don't agree recovery is deemed impossible. Contact
the NODE CODE UNIT AND COMMUNICATIONS MAINTENANCE.


************************************************************
CRASH TYPE/SUBTYPE aa63  SOFTWARE CONSISTENCY ERROR
************************************************************


Crash code 0263 .EXCRH  EXEC at EXCHR
EXEC tried to dispatch to a nonexistent process.  R2 contains the invalid
process index (process ID * 2).  No known cause, should not occur.
Contact the NODE CODE UNIT.


                                      113
                            APPENDIX D - CRASH CODES




Crash code 0463 .LKER0  LINKER at LNKC20
After attaching or detaching a line(s) to or from a link, consistency
checking found the link marked inactive but with one or more lines attached
to it.  No known cause, should not occur.  Contact the NODE CODE UNIT.


Crash code 0663 .O1263  LINKER at OP1263
After attaching or detaching a line(s) to or from a link, consistency
checking found the link marked active but with no lines attached to it.
No known cause, should not occur.  Contact the NODE CODE UNIT.


Crash code 0863 .O1463  LINKER at LNKC10
After attaching or detaching a line(s) to or from a link, consistency
checking found that one of the lines which the link though was attached 
to it thought it was attached to another neighbor.  There is a very remote
possibility that this could happen
because of line errors during the line attach process.  Contact the NODE CODE
UNIT.


Crash code 0A63 .O1663  LINKER at LNKC10
After attaching or detaching a line(s) to or from a link, consistency
checking found an inactive line attached to the link.  No known cause,
should not occur.  Contact the NODE CODE UNIT.


Crash code 0C63 .O1863  LINKER at LNKC20
After attaching or detaching a line(s) to or from a link, consistency
checking found that the number of lines found to be attached to the
link disagreed with the NLAT field of the link descriptor.  No known
cause, should not occur.  Contact the NODE CODE UNIT.


Crash code 0E63 .SIER0  LINKER at SIOC2
After attempting to chain a new output command on an SIO line, an invalid
status code (not 1 or 2) was reported.  Probably an SIO hardware problem.
Contact COMMUNICATIONS MAINTENANCE.


Crash code 1063 .RTZC0  YAKYAK at RTDZPN
A zapper was received from a T-I neighbor, but there was no circuit connected
to the channel on which it was received.  Should not occur, but could if,
for instance, the node received two consecutive zappers on the same T-I
channel.  Contact the NODE CODE UNIT.


Crash code 1263 .RMEB0  YAKYAK at RMK16A
As RMAKE was about to make a logical record for a channel which it thought
had data in its source buffer, it found that the buffer's BB indicated the
buffer was empty.  No known cause, should not occur.  Contact the NODE CODE
UNIT.


                                      114
                            APPENDIX D - CRASH CODES




Crash code 1463 .RMZLR  YAKYAK at RMKC0X
RMAKE was trying to make a logical record which would have only one
byte of data in it, but the byte was a '00', '01' or '02' -- none of which
can travel by itself in a logical record.  The byte is presumably
the first or second byte of a character pair which got separated from
its mate.  Contact the NODE CODE UNIT.


Crash code 1663 .RMZL3  YAKYAK at RMKC03
Same as crash code 1463 above, except that the single byte was a '03'.


Crash code 1863 .RMNER  YAKYAK at RMKNEE
RMAKE was about to process a needle but discovered that there weren't supposed
to be any needles for it to process.  This could happen due to a bug in node
code versions prior to 5.02; otherwise, no known cause, should not occur.
Contact the NODE CODE UNIT.


Crash code 1A63 .RMKNE  YAKYAK at RMKNE3
RMAKE was processing a needle for a channel but found that there wasn't
supposed to be a needle in that channel's buffer.  No known cause,
should not occur.  Contact the NODE CODE UNIT.


Crash code 1C63 .RMKHS  YAKYAK at RMHSPA
RMAKE, while copying a logical record into a history buffer, discovered
that the logical record appears to end with an isolated '00', '01', or
'03' byte.  This can't actually be the case because if it were, the node
code would have crashed earlier when it was putting the logical record
together.  No known cause, should not occur.  Contact the NODE CODE UNIT.


Crash code 1E63 .RMHS3  YAKYAK at RMHS3A
RMAKE, while copying a logical record into a history buffer and after
stripping out a 03-control sequence, discovered that the logical record
was too short.  No known cause, should not occur. Contact the NODE CODE UNIT.


Crash code 2063 .RMZL0  YAKYAK at RMKOV3
RMAKE, while making up a logical record destined for a neighbor whose
code does not support REBILD, tried to discard an SQFIX control sequence,
but discovered that the logical record didn't contain a complete SQFIX.
No known cause, should not occur. Contact the NODE CODE UNIT.


Crash code 2263 .RMNE0  YAKYAK at RMKZAP
RMAKE found a zapper in a buffer which presumably had contained a
needle; however, CRQ was not aware that there had been a needle there.
Could happen due to a bug in node code versions prior to 5.02; otherwise,
no known causes, should not occur. Contact the NODE CODE UNIT.



                                      115
                            APPENDIX D - CRASH CODES



Crash code 2463 .RMPER  YAKYAK at RMKPFM
RMAKE discovered a performance monitoring control character greater
than 03-2B.
Obsolete.  Cannot happen.  (But contact the NODE CODE UNIT if it does.)


Crash code 2663 .RMZL1  YAKYAK at RMN16
RMAKE started to make a logical record for a T-I channel but found
there was no data in the source buffer.  This may be caused by another
problem which has been observed sporadically.  PLEASE REPORT ANY
OCCURENCES OF THIS CRASH TYPE TO THE NODE CODE UNIT.


Crash code 2863 .RMBE0  YAKYAK at RMN16A
RMAKE was about to make a logical record for a T-I channel, but the source
buffer's BB indicated the buffer was empty.  No known cause, should not
occur.  Contact the NODE CODE UNIT.


Crash code 2A63 .RMTIE  YAKYAK at RMNC03
RMAKE, while making a logical record for a T-I channel, encountered a
a 03-control code which is not legal on a circuit to T-I (only zappers
and gobblers are legal).  No known cause, should not occur.  Contact
NODE CODE UNIT.


Crash code 2C63 .RMTNS  YAKYAK at RMTNSP
RMAKE tried to put a T-I Supervisor message into a packet but found there
wasn't enough room, even though previous calculations had indicated there
was.  No known cause, should not occur.  Contact the NODE CODE UNIT.


Crash code 2E63 .RMHS2  YAKYAK at RMKHS2
RMAKE, while copying a logical record into a history buffer, found an
isolated '02' byte in the data.  No known cause, should not occur.
Contact the NODE CODE UNIT.


Crash code 3063 .KERI0  XHOSTS at KERI12
KERIN found a buffer with data for a kernel port as indicated by
the KERFLG bit array but found a zero entry for the port in the kernel
permuter table (KIOTAB). Contact the NODE CODE UNIT.


Crash code 3263 .KICTC  XHOSTS at KICT10
XHOSTS found a 03-control code bound for the kernel and it was not
a gobbler (03-08) or a zapper (03-00 through 03-07).  Contact the NODE CODE
UNIT.


Crash code 3463 .KRCXC  XHOSTS at KRCX00
XHOSTS detected an invalid control record from the kernel (not a gobbler or a
zapper). Contact the NODE CODE UNIT.


                                      116
                            APPENDIX D - CRASH CODES




Crash code 3663 .KRXCA  XHOSTS at KRXC20
XHOSTS detected an invalid ack from the kernel (not a gobbler, zapper or 
newlogon acknowledge). Contact the NODE CODE UNIT.


Crash code 3863 .SUPIC  XHOSTS at SUPI20
XHOSTS, while moving network data into the supervisor, detected data on a
channel that had no entry in the supervisor permuter table (SIOTAB).
Contact the NODE CODE UNIT.     


Crash code 3A63 .SUPI0  XHOSTS at SUPI34
XHOSTS, while moving network data into the supervisor, detected a zero length
record. Contact the NODE CODE UNIT.


Crash code 3C63 .SUPI1  XHOSTS at SUPI38
XHOSTS, while moving network data into the supervisor, detected a buffer with
a positive logical record count (LRC) but a next character out pointer of
zero (BB). Contact the NODE CODE UNIT.


Crash code 3E63 .DISI0  DISPI at DISI42
DISPI, while moving network data into the dispatcher, detected data on a 
channel that had no entry in the dispatcher permuter table (DIOTAB).
Contact the NODE CODE UNIT.


Crash code 4063 .DISO0  DISPI at DSONX1
DISPI, while moving data from the dispatcher into the network, detected data
on a port that was out of the dispatcher port range. 
Contact the NODE CODE UNIT.


Crash code 4263 .DSOC0  DISPI at DSOCRH
DISPI, while moving data from the dispatcher into the network, detected an
invalid control message type (> C0x). Contact the NODE CODE UNIT.


Crash code 4463 .DSZE0  DISPI at DSZERO
DISPI, while processing commands from the dispatcher on channel zero,
detected an invalid channel zero control message type (> 10x).
Contact the NODE CODE UNIT.


Crash code 4663 .DSIO0  DISPI at DSIOER
DISPI received a control message from the dispatcher that is  
invalid (0D, 0E, 0F). Contact the NODE CODE UNIT.


Crash code 4863 .DSKP0  DISPI at DSKP3
DISPI, while skipping over data from the dispatcher on an unassigned


                                      117
                            APPENDIX D - CRASH CODES


port, detects a control message type that is too large (> C0x).
Contact the NODE CODE UNIT.


Crash code 4A63 .WCIC0  SWITCH at WCIBTR
Illegal call to WCI for buffer number 0 or 1.  Indicates code bug.  No
known cause, should not occur. Contact the NODE CODE UNIT.


Crash code 4C63 .WCIC1  SWITCH at WCIERR
WCI called with an invalid buffer number. Indicates code bug.  
No known cause, should not occur. Contact the NODE CODE UNIT.


Crash code 4E63 .WRECR  SWITCH at WRE
WRE, while attempting to link the bufferlet reserve tank into the bufferlet
free list, found the reserve tank empty. This could be the result of
insufficient bufferlet space.  Contact the NODE CODE UNIT.


Crash code 5063 .GCICR  SWITCH at GCI
Illegal call to GCI for buffer number 0 or 1. No known
cause, should not occur.  Contact the NODE CODE UNIT.

        
Crash code 5263 .CBCLC  SWITCH at CBCLR
CBCLR is called with a bad buffer index number (not multiple of 4). 
Contact the NODE CODE UNIT.


Crash code 5463 .CBCL0  SWITCH at CBCLR1
Illegal call to CBCLR for buffer not assigned to a channel.  No known cause,
should not occur.  Contact the NODE CODE UNIT.


Crash code 5663 .RTBLC  SWITCH at RETBL1
The BCT of a history buffer went negative as a result of history buffer 
pruning.  No known cause, should not occur.  Contact the NODE CODE UNIT.


Crash code 5863 .CRQCR  SWITCH at CRQ20
CRQ detected a history buffer index (invalid) in the list of buffers
containing needles to be processed.  No known cause, should not occur.
Contact the NODE CODE UNIT.


Crash code 5A63 .CRQC0  SWITCH at CRQER1
CRQ detected something other than a '03' as the first byte in a needle
buffer (i.e., something other than a needle point or possible zapper).
No known cause, should not occur.  Contact the NODE CODE UNIT.


Crash code 5C63 .LEPCR  SWITCH at LEPRBJ
LEP detected a rebuild request reject from the supervisor yet this


                                      118
                            APPENDIX D - CRASH CODES


node dose not have the rebuild option enabled and cannot send a
rebuild request to be rejected. 
Contact the NODE CODE UNIT.


Crash code 5E63 .INTCR  SWITCH at INHST
INTHST was called without any work to do (INTFLG = 0). This would be 
indicative of a hardware problem since INTFLG is checked for 
non-zero prior to calling INTHST. Contact the NODE CODE UNIT AND 
COMMUNICATIONS MAINTENANCE.


Crash code 6063 .SUPCR  SWITCH at SUP14
SUP14 was called to send an accounting message to the supervisor
with an invalid originator type (not 0 or 4). Indicates possible code bug.
Contact the NODE CODE UNIT.


Crash code 6263 .CRQC2  SWITCH at CRQAL1
CRQALT tried to make an entry into the needle buffer for an invalid
buffer number (history or other special number). Contact the NODE CODE UNIT.


Crash code 6463 .ZAPCR  SWITCH at ZAPX
While zapping the first half of a circuit, an inconsistency was 
discovered between the buffer's BF and the BF's permuter table entry.
Contact the NODE CODE UNIT.


Crash code 6663 .ZAPC0  SWITCH at ZAPV
While zapping the second half of a circuit, an inconsistency was
discovered between the buffer's BF and the BF's permuter table entry.
Contact the NODE CODE UNIT.


Crash code 6863 .ZAPC1  SWITCH at ZAPV1
ZAPV while zapping second half of a circuit detects that the complementary
buffer flag was not zero (first half of the circuit had not been zapped).
Contact the NODE CODE UNIT.


Crash code 6A63 .GFCR0  SWITCH at OP8063
GFCBUF while attempting to get a free buffer pair found no more buffers
(head of free buffer pair list FREELB = zero). No known cause, 
should not occur. Contact the NODE CODE UNIT.


Crash code 6C63 .GFCR2  SWITCH at OP8463
GFCBUF while attempting to get a free buffer pair detected that the buffer 
index linked to by the buffer at the head of the free list was out of range
(history or other special buffer index). Contact the NODE CODE UNIT.


Crash code 6E63 .GFCR3  SWITCH at OP8663


                                      119
                            APPENDIX D - CRASH CODES


GFCBUF while attempting to get a free buffer pair detected that the buffer
number linked to by the buffer at the head of the free list was invalid
(not a multiple of 4). Contact the NODE CODE UNIT.


Crash code 7063 .RFCR0  SWITCH at OP8863
RFCBUF is called to return a buffer pair to the free list but the buffer
index is out of range (history or other special buffer index). 
Contact the NODE CODE UNIT.


Crash code 7263 .FNCHC  SWITCH at FNDCRS
FNDCHN while attempting to locate a free port detects a channel with
a zero entry in the permuter table (IOTAB) but with no bit set in
the active port array (set = available). Contact the NODE CODE UNIT.


Crash code 7463 .FNCH0  SWITCH at FNDC30
FNDKNC while attempting to locate a free channel for a link detects a channel 
with a zero entry in the permuter table (IOTAB) but with no bit set in the
active port array (set = available). Contact the NODE CODE UNIT.


Crash code 7663 .BUBCR  SWITCH at BUBL4
During a link bubble, an inconsistency was detected for a link
channel that got shifted right to accomodate the bubble.
Contact the NODE CODE UNIT.


Crash code 7863 .BUBC0  SWITCH at BUBLF1
During a link bubble, the slave node found an inconsistency
between ACP and CHSRVD for one of its links. Contact the NODE CODE UNIT.


Crash code 7A63 .BUBC1  SWITCH at BUBL14
During a link bubble, an inconsistency was detected for a link
channel that got shifted left to accomodate the bubble.
Contact the NODE CODE UNIT.


Crash code 7C63 .CBCT0  SWITCH at CBCCT
The CBCT (compute byte count) instruction computed a count of 0
for a buffer whose BCT was non-zero.  This crash can occur; cause
undetermined.  PLEASE REPORT ANY OCCURENCES OF THIS CRASH TO THE 
NODE CODE UNIT.


Crash code 7E63 .ASLO0  ASYNC at ASYLO1
Data was received for a port in login mode (SOLO CONSAT), but the
port was not in login mode.  No known cause, should not occur.
Contact the NODE CODE UNIT.


Crash code 8063 .ASLO1  ASYNC at ASYLCR


                                      120
                            APPENDIX D - CRASH CODES


Data was received for a port in login mode (SOLO CONSAT), but the
buffer index in the login permuter table did not match the to-terminal
buffer index in the port table.  No known cause, should not occur.
contact the NODE CODE UNIT.


Crash code 8263 .ASC20  ASYNC at ASYC2
Illegal isolated '02' received for port in login mode (SOLO CONSAT).
Contact the NODE CODE UNIT.


Crash code 8463 .ASC30  ASYNC at ASYCRH
ASYLOU detected an illegal 03-xx control character pair (03-00, 03-04 - 03-10,
or >03-14) going toward a port in login mode. Contact the NODE CODE UNIT. 


Crash code 8663 .ASY30  ASYNC at ASY313
Invalid "login error" message for port in login mode (SOLO CONSAT).
No known cause, should not occur.  Contact the NODE CODE UNIT.


Crash code 8863 .GCHCR  ASYNC at GETCHR
An undefined 01-prefix code was received for a CONSAT port. Contact
the NODE CODE UNIT.


Crash code 8A63 .PTSGC  ASYNC at PUTSIG
An Invalid CONSAT signal was received from an async port. Contact
the NODE CODE UNIT.


Crash code 8C63 .ASLO2  ASYNC at ASYLO2
Data was received for a port in login mode, but there was no async port
associated with the login port number. Contact the NODE CODE UNIT.
 

Crash code 8E63 .CPKCR  ASYNC at CPKCRH
CPEEK while checking for a signal bound for the CONSAT in the front of a
buffer detects an 01-xx (prefix) control character pair which does not
translate to a valid CONSAT signal in the translation table PFXSIG.
Contact the NODE CODE UNIT.


Crash code 9063 .RMHS4  YAKYAK at RMHSP2
RMAKE after shrinking a fat gobbler for storage into a history buffer
detects a negative logical record count. Contact the NODE CODE UNIT.


Crash code 9263 .NEGBF  YAKYAK at NEGBCR
The count of bufferlet bytes in use has gone <0 during it's update.
Contact the NODE CODE UNIT.


Crash code 9463 .NEGHB  YAKYAK at NEGHCR


                                      121
                            APPENDIX D - CRASH CODES


The count of history bufferlet bytes in use has gone <0 during it's 
update.  Contact the NODE CODE UNIT.

************************************************************
CRASH TYPE/SUBTYPE aa64   EMPTY BUFFER OR ILLEGAL BUFFER INDEX GCI CRASH
************************************************************


Crash code 0264 .GCIC0  SWITCH at GCIERR
GCI was called to get a character from a buffer however the buffer was 
empty or a bad buffer index was used (not a multiple of 4).
This condition is detected by the microcoded GCI instruction. Contact
the NODE CODE UNIT.


************************************************************
CRASH TYPE/SUBTYPE aa66  ILLEGAL BUFFERLET FREE LIST POINTER
************************************************************


Crash code 0266 .GFCR1  SWITCH at OP8263
GFCBUF while attempting to get a free buffer pair detected an invalid
buffer index in the free list pointer FREELB (buffer number is
for history or other special buffer). Contact the NODE CODE UNIT.


************************************************************
CRASH TYPE/SUBTYPE aa67   SVC ERRORS
************************************************************


Crash code 1867 .SV0CC  LINKER
SOLO connect SIO line SVC error. A connect SIO SVC was issued with an
invalid line number. Contact the NODE CODE UNIT.


Crash code 1A67 .SV0DC  LINKER
SOLO start SIO input SVC error. A start SIO input SVC was issued with an
invalid line number. Contact the NODE CODE UNIT.


Crash code 1C67 .SV0EC  LINKER
SOLO start SIO output SVC error. A start SIO output SVC was issued with an
invalid line number. Contact the NODE CODE UNIT.        


Crash code 1E67 .SV0FC  LINKER
SOLO get SIO status SVC error. A query SIO status SVC was issued with an
invalid line number. Contact the NODE CODE UNIT.


Crash code 6067 .SV30C  LINKER
ISIS connect SYNC SVC error. A connect SYNC input or output SVC was issued
with an invalid line number or invalid input buffer address range. This


                                      122
                            APPENDIX D - CRASH CODES


crash is also taken if connect output is attempted with output already in
progress. Contact the NODE CODE UNIT.


Crash code 6467 .SV32C  LINKER
ISIS force SYNC output SVC error. A force SYNC output SVC was issued with
an invalid line number. Contact the NODE CODE UNIT.


Crash code 7067 .SV38C  LINKER
ISIS get SIO status SVC error. ISIS SIO status SVC not currently implemented.


Crash code 7267 .SV39C  LINKER
ISIS connect SIO line SVC error. A connect SIO SVC was issued with a bad line
number, invalid register usage or with invalid address ranges.
Contact the NODE CODE UNIT.


Crash code 7467 .SV3AC  LINKER
ISIS start SIO input SVC error. A start SIO input SVC was issued with a bad 
line number, invalid register usage, invalid CCW address boundary or was
issued before issuing a connect SIO SVC. Contact the NODE CODE UNIT.


Crash code 7667 .SV3BC  LINKER
ISIS start SIO output SVC error. A start SIO output SVC was issued with a bad 
line number, invalid register usage, invalid CCW address boundary or was
issued before issuing a connect SIO SVC. Contact the NODE CODE UNIT.



























                                      123
                             APPENDIX E - GLOSSARY


             This glossary is intended primarily as an aid  to support
         personnel whose work requires a general,  non-technical grasp
         of how the node code works.  We have tried to keep it as free
         of jargon as possible, but a basic level of  familiarity with
         networking and data communications concepts is assumed.

             Many of the terms  in this glossary are common  to Tymnet
         technology  and  to  the  field  of  data  communications  in
         general.   However,  the definitions  and  explanations given
         here relate specifically to  Tymnet-II node code and  may not
         be valid more generally.

             Comments  and  suggestions for  improvement  are welcome.
         Please direct them to Gazel Tan.

    ******************************************************************

    :ABSOLUTE ADDRESS - The unMACed or physical address.   An absolute
         address  is  one  which is  simply  an  offset  into physical
         memory.   Without the  MAC there  would be  no other  type of
         addressing.

    :ACHN - See ANCHN.

    :ACK - ACKnowledgement.  The control message sent  between devices
         to signal the correct receipt of a block of data.

    :ACN -  ABSOLUTE CHANNEL  NUMBER - A  channel's number  (or index)
         relative to the entire range of channels on a node.

         Each channel in a node is uniquely identified by its absolute
         channel number.   The ACN  is used as  an index  into various
         tables  and  bit  arrays which  contain  information  about a
         channel  (see,  for example,  ACP,  NFLAGS,  PERMUTER TABLE).
         ACN's  are always  in hex  and range  from 20x  to  the total
         number  of  channels  on the  node  (minus  1).   The largest
         possible ACN on any node is 7FFFx.  (ACN's in the range 0-1Fx
         have special meanings  and do not designate  actual channels;
         see BF.)

         A channel may also have a relative channel number (RCN) which
         identifies it within a  specified sub-range of channels  on a
         node.  The ACN of a  channel can be calculated from  its RCN,
         and vice versa.  (See RELATIVE CHANNEL NUMBER).

         Some   ACN's   have  fixed   assignments   in   certain  node
         configurations:

         20x-2Fx:  Always used for command circuit ports.

         30x-3Fx:  Always used for internal host process ports.

         40x:  On  Solo Tymsats/Consats, always  the ACN of  the first
                   async port.


                                      124
                             APPENDIX E - GLOSSARY


         40x:  On ISIS nodes and Solo Supervisor nodes, always the ACN
                   of the first Kernel port.

         40x:  On  Solo switcher  nodes, always the  ACN of  the first
                   link channel.

         60x:  On ISIS nodes, usually the ACN of the  first Dispatcher
                   port.  (Not so if NKU is greater than 32d).  On Sup
                   machines 60x is the first Sup port.

    :ACP - Active port bit array, used to indicate the status  (in use
         or available) of channels.

         For every channel in a node, there is a corresponding  bit in
         the ACP which indicates whether the channel is  available (1-
         bit) or in use (0-bit).  If the ACP indicates that  a channel
         is  in use  (active), it  usually means  that the  channel is
         connected to a circuit.

         ACP is indexed by  absolute channel number.  There is  also a
         negative ACP bit array which is a mirror image of ACP  and is
         used simply to double-check the status of channels.  Negative
         ACP is indexed  by the 2's complement  of the ACN.   The XRAY
         'AC' command displays the ACN's of channels which  are marked
         "in use" in the ACP.

    :ACTIVE CHANNEL - A channel which is in use -- i.e., not available
         for circuit-building.

         An  active channel  (indicated  by a  0-bit in  the  ACP) may
         already  be connected  to  a circuit,  or  it may  be  in the
         process of being connected to or disconnected from a circuit.
         In any  case, it cannot  be "connected" to  a new  circuit so
         long as it is active.

    :ANCHN - Link descriptor  field for the number of  active channels
         on a  link; corresponds to  the ACHN field  of the  XRAY 'KD'
         display.

         For a link  that is not  up, this field  is always 0.   For a
         link that  is up, it  is always at  least 2.  (The  first two
         channels on a link are reserved for special purposes  and are
         always  considered active  if the  link is  up.)  For  a T-II
         link, the number of actual circuits on a link is equal to the
         ANCHN value minus  2.  For T-I  links, this field  is usually
         inaccurate and therefore meaningless.

    :ASSIGN  CHANNEL  COMMAND  -  A  message  which  is  sent  by  the
         Supervisor  to a  T-II node  when a  hybrid circuit  is being
         built.

         The assign  channel command is  used only in  hybrid circuit-
         building and then only if the circuit destination is in  a T-



                                      125
                             APPENDIX E - GLOSSARY


         II node.  In that case, the assign channel command is sent to
         the first node in the final (destination) T-II portion of the
         circuit.  It causes that node to reserve a channel (specified
         by the Supervisor)  on the link to  the last T-I node  in the
         circuit path.  A channel  is always assigned by  its relative
         channel number on the T-I link.

         The  node  expects  to  eventually  receive  a  needle  which
         "connects" the assigned channel  to the final portion  of the
         circuit.  Until then, the node simply holds on to  any "early
         data" it may  receive on the  channel from the  T-I neighbor.
         When  the needle  arrives, any  accumulated "early  data" are
         then sent on toward the circuit destination.

    :BACKGROUND - In an ISIS node, the bottom level at which  all node
         code functions which are not closely tied  to interrupt-level
         processing are performed.  See also FOREGROUND  and INTERRUPT
         LEVEL.

         Background  tasks  run  when  the  processor  is   free  from
         foreground  or interrupt  level demands.   This is  where the
         bulk of the  work is done, after  the demands of  the outside
         world  have been  met.  Anything  that is  not  foreground or
         interrupt level is background.

         Note that a successful ISIS slot assumes that the  demands of
         foreground and interrupt level tasks leave free time  for the
         background to  run.  ISIS  does not  actively do  anything to
         assure that background tasks get time to run.

    :BACKPRESSURE - The process by which data flow in one direction on
         a circuit is temporarily stopped.

         There are actually  two different backpressure  mechanisms in
         T-II.  In one of  them, backpressure is applied  and relieved
         explicitly as appropriate  -- for instance, between  the node
         code and the ISIS Dispatcher.  In this case, it is up  to the
         receiving process  to let  the sending  process know  when it
         must stop and when it may resume sending data on a channel.

         At the  link level  (i.e., for  data flowing  between nodes),
         backpressure  is applied  automatically by  the  sending node
         whenever a channel's backpressure limit is reached.  The flow
         of  data stays  off until  backpressure is  relieved  for the
         channel by the receiving node.

         Each link channel has a backpressure limit which is  based on
         the circuit's  throughput class.   The backpressure  limit is
         the maximum amount of data  that will be sent on  the channel
         before backpressure relief  is received.  If  backpressure is
         relieved  for  a  channel before  its  backpressure  limit is
         reached (as  is usually the  case), the flow  of data  on the
         channel is never backpressured.



                                      126
                             APPENDIX E - GLOSSARY


         Backpressure relief  is sent every  half-second for  all link
         channels which qualify.  A channel qualifies for backpressure
         relief if the amount of data in its buffer (i.e.,  data which
         have  been  received  on the  channel)  does  not  exceed the
         channel's backpressure limit.

    :BACKPRESSURE RELIEF MESSAGE - A special type of message sent by a
         node  to   its  neighbors  every   half  second   to  relieve
         backpressure on link channels.

         For T-I  links, backpressure  relief is  always sent  on link
         channel (RCN) 1  and consists of a  single bit for  each link
         channel.  A 1-bit means that backpressure is relieved for the
         corresponding channel; a 0-bit means that backpressure is not
         relieved (this does not mean that backpressure is  applied --
         see BACKPRESSURE).

         For  T-II  links,  the backpressure  relief  message  has the
         following format, where '< >' is a 1-byte quantity:

                <C0+n><c1><c2>...<cn>

         where  'n' is a count (0 to 3Fx) of channels for which
                        backpressure is being relieved; 

                'c1 c2 ... cn' are 'n' ID's of channels for which
                        backpressure is being relieved.


         Note that  this message  is sent every  half second,  even if
         there  are  no  channels  for  which  backpressure  is  to be
         relieved (in which case 'n' is 0 and the entire message  is 1
         byte long).

         A channel qualifies for backpressure relief if the  amount of
         data in its (destination)  buffer is less than  the circuit's
         BACKPRESSURE LIMIT.   This means that  the maximum  amount of
         data that  can be accumulated  in a buffer  is a  little less
         than 2 times the circuit's backpressure limit.

    :BAD ACK - An error condition  on a link when a frame  is received
         which has an invalid ACK field.

         The acknowledgement field of a received frame cannot  be less
         than the last acknowledgement received (LAR); it must also be
         within window-size of  LAR.  This error  can occur only  on a
         single-line link -- i.e., it is not an error if it  occurs on
         a multiple-line link since it is possible to  receive packets
         out of order due to differing frame sizes and/or  line speeds
         on a multiple-line link.

         A frame with a bad ACK field is considered valid, but the ACK
         is not used to update the LAR field of the link descriptor.



                                      127
                             APPENDIX E - GLOSSARY


    :BAD BORI - An error condition  on a SYNC LINE when the  first few
         bits of a potential frame do not match any valid BORI.

         See BORI for an explanation of what constitutes a valid BORI.

         This error is usually the  result of "noise" on an  idle sync
         line.

    :BAD GUY LIST - A list of nodes which are not valid  neighbors for
         a node.

         A node will not bring up  a link to any node which is  on its
         bad guy list.  This is accomplished by simply  ignoring RESET
         frames which contain a prohibited node number.  A  node's bad
         guy list may  be modified through  XRAY ('BG' command)  or on
         command  from the  Supervisor --  message types  '0F89' (stop
         talking to node) and '0F8A' (start talking to node).  Receipt
         of a '0F89' supervisor  message also causes the node  to BORI
         ZAP the link to the specified node if one exists.

    :BAD RECORD NUMBER - An error condition on a link when a  frame is
         received with an invalid frame (record) number.

         If the  record number  field of a  received frame  is greater
         than the record number of the last record torn (LRT), it must
         be within window-size of LRT.  This error can occur only on a
         single-line link -- i.e., it is not an error if it  occurs on
         a multiple-line link since  it is possible to  receive frames
         out of order due to differing frame sizes and/or  line speeds
         on a multiple-line link.

         A received frame with  a bad record number is  not considered
         valid and is ignored.

    :BANDWIDTH - The capacity of a line or link, usually  expressed as
         the number of bits (BPS) or characters (CPS) per second it is
         capable of transmitting and receiving.

         The bandwidth of a link  is the sum of the bandwidths  of all
         lines on the  link.  The "total bandwidth"  of a node  is the
         aggregate of the bandwidths of all links on the node.

    :BANDWIDTH  UTILIZATION  - The  ratio  of the  number  of physical
         characters transmitted  or received  on a  link to  the total
         possible cps rate for a given link speed.

    :BAUDR - An optional Tymfile parameter which defines the  speed of
         the Engine hardware clock for the node code.

         If BAUDR=0 (default), the node code assumes that the hardware
         clock is operating at 3600 Hz (herz, cycles per  second).  If
         BAUDR=2,  the node  code assumes  a clock  rate of  14400 Hz.
         BAUDR=2  is required  only for  nodes which  have  to support



                                      128
                             APPENDIX E - GLOSSARY


         async  terminals  at  speeds  higher  than  1200  baud (i.e.,
         maximum baud rate of 4800).

         If BAUDR does not correspond to the actual clock rate  in the
         Engine, all sorts of strange things will happen.

    :BB - For each BUFFER, BB is the virtual address of the first byte
         of data currently in the buffer.

         BB is a FW table indexed by BUFFER INDEX.  If a buffer  is in
         use, its  BB will be  either 0 (in  which case the  buffer is
         empty) or some value  greater than CHRBUF.  If the  buffer is
         unassigned, the high-order  HW of its  BB points to  the next
         buffer in the free BUFFER  POOL.  If BB is 0, BE  (see below)
         must also be 0.  If BB is non-zero and is equal to  BE, there
         is exactly one byte in the buffer.

    :BCT - For each BUFFER,  BCT is the (approximate) number  of bytes
         currently in the buffer.

         BCT is a HW table indexed by BUFFER INDEX.  The actual number
         of bytes in the buffer is always within 13d of BCT.  BCT is 0
         if the buffer is  empty; otherwise BCT = 1  + 14d * (n  - 1),
         where 'n' is the number of BUFFERLETS currently  allocated to
         the buffer.

    :BE - For each BUFFER, BE is the virtual address of the  last byte
         of data in the buffer.

         If a buffer is in use, its BE will be either 0 (in which case
         the buffer is empty)  or some value greater than  CHRBUF.  If
         BE is 0, BB must also  be 0.  If BE is non-zero and  is equal
         to BB, there is exactly 1 byte in the buffer.  If  the buffer
         is unassigned, its BE will be 0.

    :BF - For a BUFFER which is connected to a circuit, BF is  the ACN
         of the buffer's  destination channel; otherwise,  BF reflects
         the current status of the buffer.

         BF is a HW  table indexed by BUFFER  INDEX.  If BF is  in the
         range 20x through  7FFFx, then BF is  the ACN of  the channel
         toward which data in the buffer will flow.

         If  BF  is  DEADx,  then  the  buffer  is  unassigned  (i.e.,
         available).

         Otherwise, BF  will have  one of  the following  values which
         indicate that  the buffer is  in some transitional  state (in
         the  process of  being connected  to or  disconnected  from a
         circuit):

         0       - The circuit with which the buffer  was   associated
                   was recently zapped; the buffer   will  be returned
                   to the free pool as soon as   the zapper clears.


                                      129
                             APPENDIX E - GLOSSARY


         10x-17x - The buffer is connected to a port in  LOGIN   MODE;
                   the buffer  will be returned  to the  free   buffer
                   pool as soon as the login is completed.

         1Cx      -  The  buffer  has been  connected  to  a  T-I link
                   channel  by  an  ASSIGN  CHANNEL  command  from the
                   Supervisor; any data received on the channel   will
                   be held  in the buffer  until the needle    for the
                   final portion of the hybrid circuit  is   received;
                   BF will then be set to a valid ACN.

         1Dx     - The buffer is in INTERCEPT STATE in a node at   the
                   destination of a circuit waiting to be   rebuilt.

         1Ex     - The  buffer is connected to  a CIRCUIT STUB  in   a
                   node at  the origin  of a  circuit waiting  to   be
                   rebuilt.

         1Fx      -  The  buffer  contains  a  needle  waiting  to  be
                   processed  by  CRQ;  when  the  circuit  segment is
                   completed, BF will contain a valid ACN.

    :BOOT  -  A  special  program  located  in  PROM  on   the  Engine
         multifunction  card; performs  the functions  of  loading and
         dumping the Engine.

         The boot version number shows in right-most column of console
         display.  Version 6 is needed to load over an SIO line.

         Split sup has a special boot for SIO ring load.

    :BORI   -  Beginning-Of-Record   Indicator.   The   four-bit  sync
         character of a T-II frame.

         There are several different types of frames, and each  can be
         identified by its first few bits (see FRAME).  The  one thing
         that all  BORI's have in  common is that  the first bit  of a
         BORI (and  therefore of a  frame) is always  '0'.  On  a sync
         line, this  is what enables  the code to  figure out  where a
         potential  frame  begins --  an  idle sync  line  transmits a
         continuous stream of 1-bits,  so any occurence of a  0-bit in
         that stream may indicate the start of a frame.

    :BORI ZAP - What a node does to a link to force it to go down.

         Bori zapping a link involves sending out reset frames  on all
         lines attached to the link.  This causes the link neighbor to
         put the lines in reset  state at its end.  Normally  the link
         will come back up again shortly thereafter, unless one of the
         nodes is on the other's bad guy list.

         A node will bori zap a link in on command from the Supervisor
         (see BAD GUY LIST) or from XRAY ('BZ' command).  It will also



                                      130
                             APPENDIX E - GLOSSARY


         do so under certain  conditions when the integrity of  a link
         is in question (see LINK SNIP).

    :BUBBLE -  The process  by which a  T-II link  acquires additional
         channels in order to accomodate new circuits.

         When a node needs to add a new circuit to a link, it may find
         that all the  channels allocated to  the link are  already in
         use.  When this happens, the node will attempt to  allocate a
         block of 80x (128d) additional channels to the link.  This is
         called a link bubble.

         When a link bubble occurs, the newly allocated  channels have
         to be "inserted" into  place so they are contiguous  with the
         channels previously allocated.  This results in  shifting the
         channels  allocated  to   other  links  to   accomodate  this
         "bubble".   When a  link  comes up,  it is  given  an initial
         allocation of 80x channels.  Channels are always  acquired --
         and released (see SHRINK) -- in groups of 80x.

         The total number of link channels available in a node (set at
         configuration   time)  can   be  allocated   in   almost  any
         combination among the node's T-II links.

         It is possible for a node to run out of link  channels.  When
         this happens, no  new links can come  up, and if  an existing
         link attempts to bubble, it will be taken down.

    :BUFFER - Temporary storage for data traveling on a circuit.

         Contrary  to  common  usage,  a node  code  buffer  is  not a
         specific area  of memory;  rather, it  is an  abstract entity
         which is defined  by a set  of "buffer descriptors"  (see BB,
         BE, BF, BCT).

         Every circuit has a pair  of buffers associated with it  in a
         node, one for each direction of data flow.  The even-numbered
         buffer of each pair  accumulates data which are  flowing from
         the circuit origin toward the destination; and vice versa for
         the odd-numbered buffer.

         Buffers are numbered consecutively from 0 to the end of their
         allocated  space,   but  for   convenience  they   are  often
         referenced by  "bufferindex" which is  four times  the buffer
         number.  This index is used for indexing into the  arrays BB,
         BE, BCT and BF.

         The data in a buffer  (if there are any) are  actually stored
         in BUFFERLETS which are "owned" by the buffer.

         Buffers are  pooled in  common and  are assigned  to channels
         only when needed  (i.e., when the  channel is connected  to a
         circuit).  A node  can never run  out of buffers  because the



                                      131
                             APPENDIX E - GLOSSARY


         buffer pool contains a  buffer-pair for every channel  on the
         node.

    :BUFFERLET  - A  16-byte  area of  memory where  buffered  data is
         actually stored.

         Each  bufferlet  can  hold  up  to  14d  bytes  of  data; the
         remaining  two bytes  contain the  link pointer  to  the next
         bufferlet.  The bufferlets "owned" by a buffer  are "chained"
         or  "linked" together  --  that  is, each  bufferlet contains
         information which points to the next bufferlet in  the chain.
         The last  bufferlet in a  buffer points  nowhere.  Bufferlets
         are pooled in common and are acquired by BUFFERs  when needed
         to hold  data.  When  a bufferlet  is no  longer needed  by a
         buffer, it is returned to the free bufferlet pool.   An empty
         buffer will not "own" any bufferlets.

    :BUG - An undocumented feature of the node code which,  because it
         is  not  generally  well  understood  by  users  and  support
         personnel,  tends  to  cause  distress  and  consternation in
         certain quarters when it manifests itself unexpectedly.

         Bugs are  generally regarded as  deficiencies in the  code by
         the uninitiated.  But, as any development programmer knows, a
         piece  of code  without bugs  is like  peanut  butter without
         chunks --  not very interesting.   This attitude  applies, of
         course, only to  bugs which are not  of your own  making.  To
         the person who  created a bug, it  is always the result  of a
         totally  inexplicable corruption  of the  source code  by the
         PDP-10 monitor or some  other sinister force which  is intent
         on screwing up even the most elegant and  meticulously tested
         algorithm.

    :CHANNEL - A unique number which  is used by one end of  a circuit
         segment to find its associated buffer resources.

         Each  node   has  a   fixed  number   of  channels   (set  at
         configuration time)  which represents  the maximum  number of
         circuit connections that can  be made in the  node.  Channels
         are grouped according to  destination.  The lower end  of the
         range  of  a   node's  channels  are  reserved   for  circuit
         connections which terminate  on the node  (Dispatcher, async,
         internal  host  processes).   These  channel  assignments are
         fixed -- i.e., a given channel in any of these  ranges always
         leads to the same process or interface.  The upper end of the
         node's  channel  range is  a  common pool  of  link channels.
         Channels from this pool are allocated to links (in  groups of
         80x) as they are needed through the BUBBLE  process; channels
         which are no longer needed by links are returned to  the pool
         through the SHRINK process.  Link channel assigments  are not
         fixed; a channel which is "owned" by link at one time  may be
         owned by another some other time.




                                      132
                             APPENDIX E - GLOSSARY


    :CHANNEL TRACE - An XRAY feature which permits tracing of  data on
         a  circuit segment within a node.

    :CHARACTER PAIR  - A two-byte  message which is  used by  the node
         code to perform various control functions.

         These  character  pairs  travel through  the  network  as one
         entity  and should  not be  separated.  The  first byte  of a
         character pair  is always 00,  01, or 03.   Some 03-character
         "pairs" are actually sextets.  See CONTROL CODES.

    :CHECKSUM - The last four bytes of a PACKET, used to determine the
         integrity  of  the data  in  a packet;  also  the  process of
         computing the checksum bytes for a packet.

         The checksum field of a packet consists of two 2-byte values,
         the first of which  is the vertical checksum for  the packet,
         and  the second  of which  is the  diagonal checksum  for the
         packet.

         On an SIO link data  frames are enclosed in an  HDLC envelope
         which  includes a  hardware computed  cyclic  redundancy code
         (CRC).

    :CHECKSUM ERROR - An error  condition on a line which  is detected
         when a node  receives a packet  whose checksum fields  do not
         match the checksums calculated for the received packet.  This
         packet is then ignored.

    :CIRCUIT -  A virtual  path through the  network along  which data
         travels  in both  directions between  two users  (typically a
         terminal and a host computer).

    :CIRCUIT BUILDING - The process by which a circuit is built.

         A  T-II  circuit  is  built  by  sending  a  NEEDLE  from the
         originating  node,  through  a  series  of  intermediate  (or
         passthrough) nodes,  to the  destination node.   (The circuit
         path, or sequence of nodes through which the  circuit passes,
         is  defined by  the Supervisor.)   As each  node in  the path
         receives  the  needle,  it  makes  the   appropriate  channel
         connections and buffer allocations to support its  segment of
         the circuit; it then sends the needle on to the next  node in
         the path.  When the needle reaches its destination, the final
         connection is made to  a terminating channel and  the circuit
         is complete.

    :CIRCUIT SEGMENT  - The  portion of  a circuit  which exists  in a
         single node.

         A circuit  segment connects  two CHANNELS  within a  node.  A
         circuit consists of one or more circuit segments in the nodes
         along the circuit path.



                                      133
                             APPENDIX E - GLOSSARY


    :CIRCUIT STUB  - A  channel which  is connected  to a  partial (or
         half-) circuit and is waiting for a needle to make the proper
         connection to the rest of the circuit.

    :CLOCK INTERRUPTS  - Interrupts which  are generated at  a regular
         (and  high)  rate  by  the  Engine  hardware  clock  and  are
         processed by the code to update the software clocks, etc.

    :COMMAND CIRCUIT - A circuit between the currently  active network
         Supervisor  and  a  T-II  node,  over  which  all  Supervisor
         communications for the node travel.

         COMMAND CIRCUITS  may pass through  other T-II  nodes between
         the  terminating node  and the  Supervisor.   COMMAND CIRUITS
         have all the  features of any  other circuit in  the network,
         i.e.,  they are  subject to  backpressure (flow  control) but
         data is not multiplexed  with other user's data.   T-II nodes
         must have a  COMMAND CIRCUIT before  they are visible  in the
         network.

    :COMPLEMENTARY BUFFER -  The other buffer of  a buffer pair  -- it
         holds data traveling in the opposite direction on a circuit.

    :CONSAT - The CONsolidated tymSAT, a product which encompasses the
         functions  of  the  asynchronous  TYMSAT,   asynchronous  SIO
         support,  PVC and  multiplexed  PVC support,  LISA,  and 2741
         printer support in an environment which is capable of running
         in an ISIS or a SOLO software system, and which is capable of
         supporting the X.28 PAD.

    :CONTEXT  SWITCHER  -  A  portion of  T-II  SOLO  node  code which
         regulates the execution of independent processes in a node.

         The code which runs in a T-II SOLO node actually  consists of
         two or three independent processes each of which  has control
         of the machine  in turn for  different amounts of  time.  The
         processes are the node code itself, local (TTY) XRAY, and the
         Kernel  (only  in  a  Supervisor  Base  configuration).   The
         context switcher makes sure  that each process gets  its turn
         and runs  only as long  as it is  supposed to  before another
         process takes over.

     :CONTROL CODES -  An unescaped byte of  data in the range  00x to
         07x  which  performs some  sort  of control  function  in the
         network.

         '00'  is  an escape  character  for data  bytes.   Since byte
         values  of  '00' to  '07'  all have  significance  as control
         codes, actual data bytes  in that range are  distinguished by
         prefixing  them  with  a  '00'.  The  second  byte  of  a 00-
         character pair is treated as data.

         '01' is a prefix character for Virtual Terminal Signal Codes.



                                      134
                             APPENDIX E - GLOSSARY


         The second  byte of a  01-character pair defines  the control
         function to be performed.   See APPENDIX I of  TYMNET Circuit
         Protocols  for  a complete list.

         '02' is a Tymnet-I GOBBLER.  It can be received from  or sent
         to a T-I node only.

         '03'  has two  very different  identities.  When  sent  to or
         received from a T-I node, it is a ZAPPER.  When  traveling in
         or between T-II nodes it  is always the first character  of a
         control sequence (of two to six bytes) which performs  one of
         a wide variety of functions:

         0301      hard zapper
         0303      non-gobbling zapper
         0304      fat zapper (node pair follows)
         0308      gobbler
         0309      fat gobbler (new sequence number in FW following)
         030B      SQF - sequence number fix for rebuild
         030C      sqack - sequence number ack for rebuild
         0310      needle point
         0311      needle eye
         0312      message for terminal in login
         0313      error in circuit request


         '04' is a LDEM (leave-deferred-echo-mode) control code.

         '05' is a GREEN BALL.  (See TYMNET Circuit Protocol)

         '06' is a RED BALL.  (See TYMNET Circuit Protocol)

         '07' is an EDEM (enter-deferred-echo-mode) control code.

    :CRASH OPTIONS - A  set of parameters which determine  what action
         the  node  code  should take  following  a  crash.   The four
         options are restart, stop, boot and halt.

    :CRASH REGISTERS - The contents of the node code registers as they
         were at the time of a crash.

    :CRASH TABLE - In versions 5+ of T-II node code, an area of memory
         where  information   about  the   node's  crash   history  is
         preserved.  The crash table area always begins at the Segment
         0  address  contained  in  the  fullword  at   location  '6C'
         (absolute).

                   CRASH TABLE HEADER

         NODENU  HS      1          :NODE NUMBER
         NODETY  HS      1          :MACHINE TYPE
         TABVER  HS      1          :COMMON CRASH TABLE VERSION
         CODVER  HS      1          :CODE VERSION
         TAKETI  HS      2          :GMT OF FIRST TAKEOVER


                                      135
                             APPENDIX E - GLOSSARY


         CRCNT   HS      1          :CURRENT CRASH COUNT

                   CRASH SUMMARY TABLES (16d OF THEM)

         CS.CNT  HS      1          :CRASH COUNT
         CS.CID  HS      1          :CRASH ID
         CS.PSD  HS      4          :CRASH PSD
         CS.TIM  HS      2          :GMT OF CRASH

                   CRASH DETAIL TABLES (2 OF THEM)

         CD.CNT  HS      1          :CRASH COUNT
         CD.CID  HS      1          :CRASH ID
         CD.PSD  HS      4          :CRASH PSD
         CD.TIM  HS      2          :GMT OF CRASH
         CD.RS0  HS      20         :REGISTER SET 0
         CD.RSF  HS      20         :REGISTER SET F
         CD.MAC  HS      30         :MAC REGISTERS (LOCATIONS 300-35F)
         CD.SLT  HS      1          :LAST SLOT EXECUTED (USED BY ISIS)


         The  summary table  is a  push-down stack,  meaning  that the
         first entry is  for the last crash,  the second entry  is the
         previous crash, and so on.  The crash table will not be over-
         written  by  repetitive  loads  and  the  software  will  not
         initialize it.  Thus if the machine is reloaded with the same
         code we  can still read  out old crash  information.  Crashes
         caused by power failures  and manual restarts are  not logged
         for ISIS node code.

         The  Crash Detail  Table contains  only the  oldest  and most
         recent  crashes.   Additionally, register  set  0  (SOLO node
         only),  user register  set and   MAC registers  (300-35F) are
         provided.

    :CRQ  - A  routine in  the node  code (in  SWITCH)  which performs
         circuit-building functions within the node.

    :CRSHID - CRaSH IDentification.

         The crash ID is equal to zero when the node first comes up.
         If set to:
             4 - the crash is due to an illegal instruction;
             8 - the cause is a Memory Access Controller violation;
            10 - the cause is a condition detected by the node code.
         Manual restart and power fail do not change CRSHID.


    :CRYPTO  MESSAGES  - These  diagnostic  messages  are continuously
         generated  by the node code.  The most recent 256  are stored
         in the Crypto buffer.

    :DAUGHTER BOARDS  - Small  interface boards  connected to  the SIO



                                      136
                             APPENDIX E - GLOSSARY


         mother  board.   The various  daughter  board  interfaces are
         V.29, V.35/RS232, OC-SIO, and ASYNC.

    :DEADEND  CIRCUIT -  A partial  circuit which  ends  without being
         properly terminated --  that is, it ends  on a point  that is
         not  a legitimate  circuit  termination point  (e.g.,  a link
         channel).

    :DELAY MEASUREMENT CIRCUIT - A special kind of circuit that can be
         built from XRAY to measure throughput delay in a portion of a
         network.

    :DETACHED  PORT  -  A  channel which  is  used  to  put  a circuit
         temporarily  in  limbo  because  the  circuit  could  not  be
         completed  to  the  requested  destination;  the  circuit  is
         eventually zapped.   The use  of the  detached port  allows a
         detach reason to be sent to the circuit origination.

    :DISMISS -  What a process  does when it  gives up control  of the
         machine  to a  higher-level process  (voluntary  dismiss), or
         what is done to  a process when a higher-level  process takes
         control of the machine away from it (forced dismiss).

    :DISPATCHER INTERFACE -  The node code process  which communicates
         with the ISIS Dispatcher.

         The Dispatcher interface works by means of a pair of rings or
         circular "buffers" (not the same as BUFFERs), DIRING for data
         passing from the node  code to the Dispatcher and  DORING for
         data passing  from the Dispatcher  to the node  code.  DIRING
         and DORING are saved after a crash in DIRSAV and DORSAV.

    :DISPI - A  collection of processes in  an ISIS node  which handle
         communications between  the node code  (Slot 0) and  the ISIS
         Dispatcher.

    :DMA  -  Direct  Memory  Access.   A  facility  that  permits  I/O
         transfers   directly into  or out  of memory  without passing
         through the processor's general registers.

    :DUMMY RECORD - A special FRAME which contains no data and is used
         only to  maintain a  minimum level  of traffic  on a  LINE in
         order to keep lightly used lines up on a multi-line link.

    :ESCAPE - A  CONTROL BYTE ('00') which  is prefixed to  data bytes
         '00' through '07' in  order to distinguish them  from control
         bytes of the same value.

    :EXEC LOOP -  The node code process  which controls all  the other
         processes.

    :FASTC - Symbol for the node's FAST Clock (FW value).




                                      137
                             APPENDIX E - GLOSSARY


         FASTC  "ticks"  600d  times  a  second  and  is  the highest-
         resolution software clock in the node code.  It is updated by
         the CLOCK  INTERRUPT routine,  and so is  as accurate  as the
         Engine's hardware clock will allow.

         FASTC is  used for  a wide variety  of timing  functions that
         require high resolution.  One  "tick" of FASTC is  about 1.67
         ms.  FASTC is in the XRAY symbol table.

    :FAT  GOBBLER -  A  special type  of gobbler  used  on potentially
         rebuildable circuits.  The CONTROL CODE is 03-09  followed by
         a FW new sequence number.

    :FAT  ZAPPER  -  A  special kind  of  zapper  used  on potentially
         rebuildable circuits.  The CONTROL CODE is 03-04  followed by
         a node pair.

    :FOREGROUND - Under ISIS,  a foreground process is scheduled  on a
         regular basis for a limited period of time, after  which ISIS
         snatches control back from the process and continues with its
         scheduling  of  other processes.   A  foreground  process can
         dismiss  itself and  allow some  other process  to run  if it
         finishes its work before its time slice has expired.

         Foreground tasks do  work of the  time critical sort.   In an
         ISIS  node code  configuration  the only  foreground  task is
         SYLVER,  which performs  all  sync input  processing  and SIO
         input  and  output  processing.   See  also   BACKGROUND  and
         INTERRUPT LEVEL.

    :FRAME - Also known as PACKET.

    :GATEWAY - A node or switch that permits communication between two
         networks.

    :GOBBLER - A control code which "erases" buffered data in its path
         as it travels along a circuit.

         A gobbler  is used  to "flush" data  from a  circuit (usually
         because  it  is no  longer  wanted); it  does  not  cause the
         circuit to be  torn down and does  not affect any  data which
         follow it.

    :GOUGING LEVEL - See THROUGHPUT CLASS.

    :GUSH -  An active  channel on  which data  is received  in groups
         (logical  records)  of  n (or  greater)  number  of  bytes is
         considered to be GUSHing; contrast with TRICKL.  N is defined
         by default according to throughput class:

    THROUGHPUT CLASS    TYMFILE VARIABLE       DEFAULT NUMBER OF BYTES
         A                   TRKLVA                     1
         B                   TRKLVB                     2
         C                   TRKLVC                     3


                                      138
                             APPENDIX E - GLOSSARY


         D                   TRKLVD                     4


         These variables may also be defined in the TYMFILE.

         The GUSH  array is used  by RMAKE each  half second  to check
         whether or not to relieve backpressure for a  channel.  RMAKE
         will  check  only  GUSHing channels  every  half  second (and
         TRICKLing channels  every four  seconds).  The  rationale for
         this seems to be that if a channel has not been sending a lot
         of data we needn't worry about letting it send more.

    :HALT - An engine processor  state in which nothing can  happen in
         the software.

    :HARD ZAPPER - The usual kind of zapper -- it tears down a circuit
         without mercy.

    :HISTORY  BUFFER  -  In  a node  on  which  a  rebuildable circuit
         terminates, a buffer used to  store a copy of the  data which
         has been transmitted on the circuit.

    :HYBRID CIRCUIT - A circuit whose path includes both T-II  and T-I
         nodes.

    :I/O   SECTORS  -   INPUT/OUTPUT  SECTORS   contain   the  packets
         themselves, and are pointed to by record  descriptors.  Input
         sector contains the packets as they are received on the link.
         Output  sector contains  the packets  which are  ready  to be
         transmitted.

    :INTER-LINK CONTROL MESSAGES - Channel 0 messages received  from a
         neighbor, such as the  32-bit key used in  multi-line resets,
         zapper acknowledgements and trace messages.

    :INTERNAL HOST - One of  several processes in the node  code which
         handle circuit  terminations for  internal functions  such as
         downline loading, remote XRAY, and delay measurement.

         The internal host  processes in a  node are all  accessed via
         the KERNEL HOST number.  See also SLOT HOST, ACCOUNTING HOST.

    :INTERRUPT  LEVEL PROCESSING  - An  interrupt level  task requests
         attention  at  the  prompting  of  some  external  device  or
         process.  The processor provides service as soon  as possible
         and has a  scheme of mediating among  conflicting interrupts.
         An interrupt  will take  the processor  from a  foreground or
         background  process  which  is running  at  the  time  of the
         interrupt.  See also BACKGROUND and FOREGROUND.

         From the node code's  point of view, there are  two important
         types  of  interrupts:  I/O  interrupts  (primarily  for SYNC
         LINES)  and interrupts  which  mean that  something  has gone
         wrong (illegal instruction, protection violation, etc.)


                                      139
                             APPENDIX E - GLOSSARY


    :ISIS -  A node configuration  in which the  node code runs  in an
         ISIS slot (always slot 0); as opposed to SOLO.

    :ISIS XRAY  - There are  a few XRAY  commands which apply  only to
         ISIS nodes.  However, the most useful and commonly  used XRAY
         commands are identical in both SOLO and ISIS configurations.

    :KDLN -  A HW  array indexed by  (2 times  the) line  number which
         contains the address of  the link descriptor for the  link to
         which a line is attached (XRAY symbol table).

    :KERNEL - A process, separate from the node code (or  local XRAY),
         to which  the node  code communicates  over a  special kernel
         interface.  The  kernel process  may be  running on  the same
         engine  as  the  node  code,  as  with  ISIS  and  Standalone
         Supervisor  Kernels,  or  the kernel  may  be  resident  in a
         separate engine as with the Split Supervisor Kernel.

    :KERNEL HOST  - The host  number associated with  the KERNEL  in a
         node; every  node has  one, even  if it  doesn't have  a true
         kernel.

    :LEP - The LEPrechaun is the process by which each port on  a node
         talks to the supervisor.  All commands from the supervisor to
         a node go through the LEP.

    :LINE  -  A  physical connection  between  two  nodes,  over which
         electrical signals representing data bits can be passed.

    :LINE  ATTACH  PROCESS  -  The process  by  which  a  line becomes
         attached to (comes up on) a link.

         A line which is not attached to a link is ordinarily in RESET
         state -- it is  continually transmitting reset frames  with a
         "pingpong" count  of 0 (see  RESET).  As soon  as a  reset is
         received on  a line, indicating  the presence of  a potential
         neighbor at the other end, the line attach process begins.

         The process is different for T-I and T-II links, but  in both
         cases it involves the  exchange of a certain number  of reset
         frames  between  the  two  nodes.   Once  the  reset exchange
         sequence is complete,  each node can  attach the line  to its
         side of the link.

         During  the  attach  process,  the  speed  of  the   line  is
         calculated, based how long it takes a complete reset frame to
         be transmitted (on an SIO line) or received (on a sync line).

         A line which is in  the process of being attached  may, under
         certain conditions, be suspended for a short time.   See LINE
         SUSPENDED.

    :LINE DETACH PROCESS - The process by which the node code detaches
         a line from a link.


                                      140
                             APPENDIX E - GLOSSARY


    :LINE SPEED  - The speed  at which  data is put  out onto  a line,
         usually expressed in kilobits per second (KBPS).

    :LINE  TRACE -  A  facility in  XRAY which  activates  tracing for
         headers received  on a specified  unattached line.   Once the
         line  comes up  and is  attached, line-level  tracing  has no
         effect for that line until it becomes unattached again.

    :LINK  - A  path between  two nodes,  over which  data  travels in
         packets.

         A link  is a  logical connection between  two nodes.   It may
         have one or more lines attached to it.

    :LINK DESCRIPTOR - An  table in memory which  contains information
         about a link.  (See XRAY 'KD' command.)

    :LINK OVERLOAD - A link  condition detected by the node  code when
         the  active channels  on a  link are  not  receiving adequate
         service by RMAKE.

    :LINK TRACE - A facility in XRAY which permits tracing, on  a link
         basis, of "events" detected  by RMAKE, RTEAR, and  the SYLVER
         packet receiver routines.

    :LINK TYPE - Relates  to two different characteristics of  a link:
         1)  whether it  is  a defined  (TIILNK) link  or  a wild-card
         (XLINK) link; and 2) whether it is to a T-I or T-II neighbor.

    :LOCAL  XRAY -  XRAY as  it is  accessed through  the TTY  port or
         through ISIS DDT.

    :LOGICAL CHARACTER - Technically, only actual data  characters are
         considered logical characters; all the rest are overhead.

    :LOGICAL RECORD - The portion of a packet which contains  data for
         a single channel (circuit).

         A logical record has the following format:

               <cc><nn><... data ...>

         where <cc> is the count of bytes in the logical record;
               <nn> is the channel number to which the data belongs; and
               <... data ...> is <cc> bytes of data.


         The <nn> field is the RELATIVE CHANNEL NUMBER for the link on
         which the packet is sent or received; it is also  relative to
         the current  PAGE in effect  for the link.   Thus, if  <nn> =
         '7C',  the  actual  RCN  may  be  '07C'  or  '17C'  or '27C',
         depending on the most recent PAGE CHANGE COMMAND  received on
         the link.  This technique  allows a large number  of channels



                                      141
                             APPENDIX E - GLOSSARY


         to be supported on a link without having a lot  of additional
         overhead data in the logical records to identify them.

    :LOOPBACK CIRCUIT - A special  kind of circuit which can  be built
         from XRAY to test the throughput and delay characteristics of
         a link.

    :MAC - Memory Access Controller.

    :MAC'D ADDRESS - See VIRTUAL ADDRESS.

    :MASTER - On any link, the node with the higher node number.

    :MEMORY SIZE -  The amount of physical  memory in a node  that the
         node  code knows  about;  always less  than or  equal  to the
         actual  amount of  physical memory  in the  machine.  Tymfile
         parameters are NBRK for SOLO nodes and S0CORE for ISIS nodes.

    :MOTHER BOARD - The  PCSIO or Printed Circuit  Serial Input/Output
         board  that controls  the operation  of the  daughter boards,
         translating commands from the CPU on the MUX bus into control
         signals for them, and transferring data between  the daughter
         boards and the engine memory via DMA.

    :MULTIPLE-LINE  LINK -  A  link to  which  more than  one  line is
         attached.

    :NBRK - The symbol for  the total amount of memory  (in kilobytes)
         for which the node code is assembled.

         This symbol may be defined in the Tymfile (default  is 256d).
         It should  never be set  to a value  greater than  the actual
         amount of physical memory in the node.

         The node code  may or may not  use all the memory  defined as
         being available.  It will use as much as it can, up to NBRK.

    :NCHN  - A  LINK DESCRIPTOR  field which  specifies the  number of
         CHANNELS allocated to a link.

    :NEEDLE - A CONTROL MESSAGE originated by the Supervisor  which is
         used to build an all-T-II circuit (or an all-T-II  portion of
         a hybrid circuit).

    :NEEDLE POINT - The first two bytes of a NEEDLE which  identify it
         as a needle (03-10).

    :NEIGHBOR NODE - The node at the other end of a link.

    :NODE - A  point of a network  where various links  come together;
         generally  containing  a  switching  element  used  to direct
         traffic.




                                      142
                             APPENDIX E - GLOSSARY


    :NULL PACKET - A packet which contains no logical record data; not
         to be confused with DUMMY PACKET.

         A null packet is sent  when a packet would not  ordinarily be
         sent, but when the sending node needs to acknowledge properly
         received  packets from  a neighbor  in order  to free  up the
         neighbor's  window.  A  node  will send  a null  packet  to a
         neighbor  after it  has found  no ordinary  reason to  send a
         packet (that is,  no data and  no backpressure relief)  or is
         unable to send a packet because of  backpressure limitations,
         and  it   has  received   two  packets   which  it   has  not
         acknowledged.

    :NXUBLK - An assembly parameter  which may be set in  the Tymfile;
         defines the maximum number  of users that may be  logged into
         remote XRAY at a time.  Default is equal to three.

    :PACKET - The basic unit of inter-node (link level) communication;
         also  called a  "physical record".   Corresponds to  FRAME in
         international standard (CCITT) terminology.

         All  data that  pass between  two nodes  are contained  in an
         "envelope" called a packet.   A packet consists of  a header,
         one  or  more bytes  of  data (usually  organized  in LOGICAL
         RECORDS),  and four  bytes  of CHECKSUM.   There  are several
         different  kinds of  packets (see  RESET, NULL  RECORD, DUMMY
         RECORD), the most important of which is the data packet.

         A T-II data packet has the following format:

         <bori><count><ack><recn><... logical records ...><checksum>

         <bori> is a 4-bit value which identifies the sending  node as
                  the  MASTER (<bori>=2)  or SLAVE  (<bori>=1)  on the
                  link.

         <count> is a 4-bit length code.  Byte length of packet =  8 *
                  <count> + 8.  The  <count> field ranges from 0  to F
                  (hex) -- i.e., a packet may be from 8 to  128d bytes
                  long.

         <ack> is the 1-byte  ACKNOWLEDGEMENT field of the  packet; it
                  identifies the  last packet  from the  neighbor node
                  which has been torn down by the sending node.

         <recn> is the  1-byte record number  field of the  packet; it
                  uniquely  identifies  the  packet  to  the receiving
                  node.  It ranges from 0-127.

         <... logical records ...> are one or more LOGICAL  RECORDS or
                  INTER-LINK CONTROL MESSAGES,  each of which is  of a
                  length specified in the logical record or message.




                                      143
                             APPENDIX E - GLOSSARY


         <checksum> is a 4-byte value used to establish  the integrity
                  of the data in the packet (see CHECKSUM).

         A T-II packet  always has a length  which is a multiple  of 8
         bytes; therefore, it may  contain some (as many as  7) unused
         or meaningless bytes.

    :PAGE - A group of 100x (256d) contiguous channels.   Channels are
         allocated to (and deallocated from) T-II links  in half-pages
         (groups of 80x or 128d) (see BUBBLE and SHRINK).

    :PAGE CHANGE COMMAND - If a link has more than a half-page's worth
         of channels allocated to it, the PAGE CHANGE COMMAND  is used
         to specify which  half-page range the logical  record channel
         numbers in a packet apply to.  This is necessary  because the
         channel number in a logical record header is limited to seven
         bits (maximum value 7Fx).

    :PASSTHROUGH -  A circuit segment  in a node  which goes  from one
         link channel to another -- i.e., it does not terminate on the
         node.

    :PERIODIC LOGIC or  PERIODIC PROCESS - A  process which runs  on a
         scheduled, periodic basis, as  opposed to a process  which is
         event- or interrupt-driven.

    :PHYSICAL ADDRESS - Same as ABSOLUTE ADDRESS.

    :PHYSICAL CHARACTERS - All the bytes in a FRAME.

    :PORT - A channel, usually one which terminates on a  node.  Also,
         the termination of a physical line, as in async, sync  or SIO
         port.

    :PRIVILEGED  CODE  -  The  parts of  the  node  code  that  run in
         privileged mode -- i.e., any code which handles interrupts or
         accesses absolute memory.

    :RADIX  CONVENTIONS  -  Almost everything  in  T-II  has  a number
         associated with it; these numbers are typically  expressed in
         octal, decimal, or hexidecimal, depending on what  the number
         applies to.

    :REBUILD - A feature of T-II node code (versions 5+)  which, under
         certain conditions, permits circuits which are zapped  due to
         link outages to be rebuilt in a manner that is transparent to
         the user.  The Tymfile parameter is OPTION(REBLD).

         On a rebuildable  circuit, the node  at each end  (origin and
         destination) maintains a special HISTORY BUFFER for  the data
         that it  transmits on  the circuit.  Each  node also  keeps a
         sequential count of the bytes transmitted and received on the
         circuit.   The history  buffer always  contains the  last <n>



                                      144
                             APPENDIX E - GLOSSARY


         bytes transmitted  by the  node, where  <n> is  never greater
         than the maximum number of bytes which could possibly  be "in
         transit" to  the node  on the other  end.  Thus,  the history
         buffer  always contains  at least  all the  data that  may be
         buffered in nodes along the circuit path at any one time.

         When a rebuildable circuit is zapped due to a link  outage, a
         special  zapper, called  a FAT  ZAPPER, is  used to  tear the
         circuit down.   The origin node  then requests a  new circuit
         path from the  Supervisor; if such  a path is  available, the
         circuit is rebuilt using  a special rebuild needle.   As soon
         as  the rebuilt  circuit is  complete, the  terminating nodes
         simply send each other the contents of their history buffers,
         along with  the sequence numbers  of the first  characters in
         those buffers.   Each node  uses the  sequence number  of the
         last character it had received before the circuit  got zapped
         to  synchronize  on   the  stream  of  history   data.   Once
         synchronization  is achieved,  circuit activity  resumes from
         where it had let off as though nothing had happened.

    :RECORD - See LOGICAL RECORD, PHYSICAL RECORD (FRAME).

    :RECORD  DESCRIPTORS  - Each  link  descriptor field  points  to a
         RECORD DESCRIPTOR value, which points to an I/O SECTOR.

    :RELATIVE CHANNEL NUMBER - A channel's number (or  index) relative
         to some subrange of a node's channels; the subrange typically
         "belongs" to a process (like the Dispatcher) or a link.

         The  entire  range of  channels  on a  node  is  divided into
         several sub-ranges  which "belong  to" specific  processes or
         interfaces.  Each  channel sub-range  has a  relative channel
         number 0 which corresponds  to an absolute channel  number in
         the node.

    :REMOTE  XRAY  -  XRAY  as it  is  accessed  remotely  through the
         network.

    :RESET - A special packet which is transmitted continuously on all
         unattached lines on a node.

         The reset packet (or pattern)  is used by a node  to identify
         itself  to a  potential  neighbor on  a line.   A  T-II reset
         packet has the following format:

         <30><t><p><nnnn><cccccccc>[<... additional data ...>]

         where <t> is A (hex)  if there are no lines  already attached
                   to  the neighbor  node with  whom resets  are being
                   exchanged, or B (hex)  if the line is  a subsequent
                   line on an existing link.

         <p>  is the  "ping-pong" count  (4 bits).   Initially  0, the



                                      145
                             APPENDIX E - GLOSSARY


                   ping-pong count  begins incrementing  as soon  as a
                   reset is received on a line.  The two nodes  on the
                   ends of of the line must successfully  exchange 16d
                   consecutive resets (with ping-pong counts from 0 to
                   Fx) before the line will be attached.

         <nnnn> is the node number of the node sending the reset.

         <cccccccc> is the version number.

    :RETRANSMISSION - The transmission on a link of a packet which has
         already been transmitted at least once before.

         On  any link,  a  node can  have  a fixed  maximum  number of
         packets  "outstanding"  (that  is,  packets  which  have been
         transmitted and for which acknowledgements have not  yet been
         received).  That limit is  called the link's WINDOW  SIZE and
         is set at configuration  time.  If that limit is  reached, no
         new  packets will  be  transmitted.  Instead,  the  node will
         begin  retransmitting the  oldest outstanding  packet  in the
         window until it  receives an acknowledgement for  that packet
         or any other packet in the window (see ACKNOWLEDGEMENT).

         Retransmissions typically result from one of  two conditions.
         The  most common  is LINE  ERRORS which  cause packets  to be
         corrupted in transmission.  If any packet is received  with a
         bad checksum, the receiving node will not acknowledge  it; it
         will also  not acknowledge  any subsequent  packets received,
         even if their checksums  are good, until the packet  in error
         is received  with a good  checksum (i.e.,  is retransmitted).
         Thus, anytime a packet is  corrupted on a link, at  least one
         retransmission will result.

         A second cause of retransmissions is a significant difference
         between  the  speed  with  which  two  nodes  on  a  link are
         processing data.  If one node (the re-transmitter)  is making
         and sending  packets a  great deal  faster than  the neighbor
         (re-receiver) node is tearing  them down, it is  possible for
         the second node to  fall behind in acknowledging  the packets
         it has received.  (Packets are acknowledged not when they are
         received, but  only after  they have  been torn  down.)  This
         might happen, for instance, between a SWITCHER and  a heavily
         loaded  ISIS node.   A  high retransmission  rate,  without a
         correspondingly  high  rate  of line  errors,  on  a  link is
         indicative of such a problem.

    :RMAKE - The process which  makes up packets to be  transmitted on
         links.

         RMAKE runs periodically for  each active link on a  node.  It
         looks for active channels on the link which have data waiting
         in buffers to be sent out on the link.  When it finds one, it
         makes a logical record for that channel and puts it  into the
         packet being made.


                                      146
                             APPENDIX E - GLOSSARY


         RMAKE will attempt to make a packet for a link only  if there
         is room for the packet in the link's window.  If there  is no
         room, the link's BACKLOG count is incremented (see  XRAY 'KS'
         display) and RMAKE goes on to the next active link.

    :RTEAR -  The node  code process  which tears  down (disassembles)
         FRAMES received  on links into  logical records  and deposits
         the logical record data into the proper buffers.

    :S0CORE  -  An  assembly  parameter  (ISIS  only)  which  must  be
         specified in the Tymfile  which defines the amount  of memory
         available for the node code (slot 0).  Contrast with NBRK.

    :SATURATED - A link condition  which is detected by the  node when
         the line transmitters for the link are continuously busy.

    :SHRINK  -  The process  by  which  a T-II  link  gives  up unused
         channels when it no longer needs them; the inverse of BUBBLE.

         A T-II link which  has BUBBLEd beyond its  initial allocation
         of 80x channels may (and  usually does) get to a  point where
         it has a large number of unused channels.  This is  a natural
         result of circuits' being zapped as users log off at  the end
         of the workday.  When  this number becomes much  greater than
         80x, a contiguous  group of 80x  channels is returned  to the
         common  pool  of channel  resources.   All  record-making and
         -teardown activity is suspended on the link until  the shrink
         process is complete.

    :SIO  - Serial  Input/Output system  used to  interface high-speed
         serial communications lines to the engine via DMA.

    :SLAVE - On any link, the node with the lower node number.

    :SLOT  - A  slot is  the collection  of resources  allocated  to a
         single entity, and includes the particular process or  set of
         processes capable of using those resources.

    :SLOWC - Symbol for the node's slow clock.

         SLOWC "ticks" once a second.   It is used for a  wide variety
         of low-resolution timing functions.  (Contrast with FASTC.)

    :SOLO - A non-ISIS node configuration; also called STANDALONE.

    :SOLO XRAY - XRAY in a SOLO configuration.

         In  general,  XRAY   commands  and  features   which  involve
         accessing un-MAC'd  memory in  a node  are available  only in
         SOLO configurations.  However,  the most useful  and commonly
         used  XRAY  commands  are identical  in  both  SOLO  and ISIS
         configurations.




                                      147
                             APPENDIX E - GLOSSARY


    :SPACING  ON  INPUT -  A  line error  condition  which  means that
         "noise" was detected by the sync line receiver;  "spacing" is
         the opposite of "marking",  which is the normal state  for an
         idle sync line.

    :SPLIT SUPERVISOR - A  SOLO Supervisor configuration in  which the
         node  code  and  Supervisor code  run  in  separate machines,
         though they constitute a single node.

    :SUPERVISOR - A process which runs on a node (but is separate from
         the  node code)  and which  performs the  centralized control
         functions for the network.

    :SUSPENDED CHANNEL - A channel which has been recently zapped.  It
         cannot be used as a link or kernel channel for one minute.

    :SUSPENDED  LINE  -  A  line  (non-attached)  which  has  been put
         temporarily in limbo  -- it will  not exchange resets  with a
         neighbor.

    :SWITCH - A collection of processes in the node code which perform
         various functions, primarily relating to circuit-building and
         teardown and WCI/GCI.

    :TAKEOVER - A supervisor  takes over a network by  discovering the
         current status of  the network and creating  a representation
         of this status in  its own memory and winning  the allegiance
         of the nodes  in the network.   A TAKEOVER is  completed when
         the  upstream pointers  of all  nodes point  to the  node the
         supervisor is running on.

    :T-I LINK - A link to a Tymnet-I neighbor node.

         The inter-link  protocol for T-I  links is very  different in
         almost  all  respects  from  that  for  T-II  neighbors.  See
         NET1.DOC.

    :THROUGHPUT  CLASS  - A  circuit  characteristic  which determines
         roughly how many characters per half second can  travel along
         the circuit.  Also refered to as gouging level.

         The  throughput class  of  a circuit  is  set at  the  time a
         circuit  is  requested   from  the  Supervisor.    A  default
         throughput  class  is  associated with  each  TID.   An async
         terminal  user  may  request a  special  throughput  class by
         typing in ^A, ^B, ^C, or ^D in his login string.

    :TIILNK - A macro which may be specified in the Tymfile  to define
         certain  characteristics of  a  link to  a  specific neighbor
         node.

    :TRANSMITTER -  A node  code process which  takes FRAMES  from the
         output sector and sends them out on sync or SIO lines.



                                      148
                             APPENDIX E - GLOSSARY


    :TTY XRAY - Same as LOCAL XRAY.

    :UPSW TRACE -  A facility of the  Engine which permits  tracing of
         execution in  code by  generating an  interrupt every  time a
         jump instruction  is executed; the  node code  TRACER routine
         uses this facility to create a table of jump  addresses which
         can  be  examined   for  debugging  purposes.    The  Tymfile
         parameter is OPTION(UTRC).

    :VERSION - A number used to distinguish different  incarnations of
         the node code.

    :VIRTUAL  ADDRESS -  The MACed  or relocated  address.   A virtual
         address is  one which is  given to the  MAC to  determine the
         corresponding absolute address.

         Our particular MAC allows  memory to be addressed  in sixteen
         segments of 64 kilobytes each at a given time.   Benefits are
         that a virtual address need never be more than 20  bits long,
         whereas  an absolute  address may  be longer,  and  that each
         segment  can  be specified  to  have its  own  set  of access
         restrictions, such as read/write, read only, or execute only.

    :WINDOW SIZE - The maximum number of unacknowledged frames  that a
         node  will  send over  a  link.  When  window-size  number of
         frames  have been  sent, the  node will  begin retransmitting
         from the earliest unacknowledged frame.  Maximum  window size
         is 128.

    :XLINK -  A link for  which no specific  neighbor node  number has
         been defined in the Tymfile.

         An XLINK is a wild card link -- any neighbor node can come up
         on it.  The number of XLINKs on a node can be defined  in the
         Tymfile (default is 0).

         All link parameters  for an XLINK are  defaulted: window-size
         is  8,  number  of   channel-groups  is  8d,  link   type  is
         terrestrial, and link speed is undefined.

    :XRAY  -  An  interactive  monitoring  and  debugging  system that
         resides in TYMNET-II node code.

         XRAY is a tool for monitoring the status of nodes in a TYMNET
         network.   The user  can display  information about  a node's
         configuration, performance, and history.

    :ZAP - To tear down a circuit (or a link -- see BORI ZAP).

         A circuit is zapped by  sending a ZAPPER along it.   A zapper
         may  originate in  any node  in the  circuit path,  though it
         usually  comes  from  one  of  the  terminations  (origin  or
         destination).   (A  circuit  zap  which  originates  from  an



                                      149
                             APPENDIX E - GLOSSARY


         intermediate node  in the  path is  always abnormal  -- i.e.,
         results from a link outage or node crash.  In this  case, two
         zappers are emitted, one in each direction on the circuit.)

         As a zapper travels along a circuit, the CIRCUIT  SEGMENTS in
         each node are torn down -- the channels and buffers connected
         to it are released.  When  the zapper reaches the end  of the
         circuit and the segment to the terminating interface  is torn
         down, the circuit ceases to exist.

    :ZAPPER - A CONTROL CODE which tears a circuit down as  it travels
         along  it (see ZAP).

         All  zappers  are  03-CHARACTER PAIRS,  though  some  of them
         include up to four  additional bytes of data.   Zappers comes
         in  several  flavors.  A  normal  or HARD  ZAPPER  erases any
         buffered data it  encounters on the circuit.   A NON-GOBBLING
         ZAPPER waits  patiently for data  in the circuit  pipeline to
         clear before  tearing down  the circuit  behind them.   A FAT
         ZAPPER contains  additional information  which is  needed for
         rebuild.



































                                      150
  E v